<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Python on 茄子的养殖场</title>
        <link>https://proben1.github.io/tags/python/</link>
        <description>Recent content in Python on 茄子的养殖场</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 18 Nov 2021 22:13:33 +0800</lastBuildDate><atom:link href="https://proben1.github.io/tags/python/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Python端口扫描等</title>
        <link>https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/</link>
        <pubDate>Thu, 18 Nov 2021 22:13:33 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/</guid>
        <description>&lt;img src="https://proben1.github.io/2021/python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%AD%89/Python%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F.png" alt="Featured image of post Python端口扫描等" /&gt;&lt;h1 id=&#34;思路&#34;&gt;思路
&lt;/h1&gt;&lt;p&gt;这里使用了TCP连接扫描，利用操作系统原生的网络功能。&lt;/p&gt;
&lt;p&gt;用户无需特殊权限，但因为建立了TCP连接，很容易被发现，而且会留下IP地址。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;还有另外一种扫描方式是SYN扫描，端口扫描工具不使用操作系统原生网络功能，而是自行生成、发送IP数据包，并监控其回应。这种扫描模式被称为“半开放扫描”，因为它从不建立完整的TCP连接。端口扫描工具生成一个SYN包，如果目标端口开放，则会返回SYN-ACK包。扫描端回应一个RST包，然后在握手完成前关闭连接。如果端口关闭了但未使用过滤，目标端口应该会持续返回RST包。这种粗略的网络利用方式有几个优点：给扫描工具全权控制数据包发送和等待回应时长的权力，允许更详细的回应分析。关于哪一种对目标主机的扫描方式更不具备入侵性存在一些争议，但SYN扫描的优势是从不会建立完整的连接。然而，RST包可能导致网络堵塞，尤其是一些简单如打印机之类的网络设备。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1.使用TCP握手连接来扫描指定的&lt;code&gt;(ip,port)&lt;/code&gt;对&lt;/p&gt;
&lt;p&gt;2.将单线程改成多线程&lt;/p&gt;
&lt;p&gt;3.第一次使用面向对象编程&lt;/p&gt;
&lt;h1 id=&#34;源码&#34;&gt;源码
&lt;/h1&gt;&lt;p&gt;说白了就是调接口，然后加了个多线程……&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;threading&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt; = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;82.157.174.226&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;post_list&lt;/span&gt; = [&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;65536&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt; = [&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;65536&lt;/span&gt;)]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt; = &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;lock&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;threading&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;Semaphore&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;150&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;MyThread&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;threading&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;Thread&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;__init__&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;threading&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;Thread&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;__init__&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;run&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;lock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;acquire&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#初始化socket,参数1是ipv4，参数2是TCP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;TCP_sock&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;AF_INET&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;SOCK_STREAM&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#设置参数，参数1表示我们正在使用的socket选项，参数2表示支持多个进程或者线程绑定到同一端口&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;TCP_sock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;setsockopt&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;SOL_SOCKET&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;SO_REUSEADDR&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#设置超时等待时间，单位秒&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;TCP_sock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;settimeout&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# UDP_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# UDP_sock.sendto(str(message), (ip, int(port_number)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#268bd2&#34;&gt;result&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;TCP_sock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;connect_ex&lt;/span&gt;((&lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt;, &lt;span style=&#34;color:#cb4b16&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;result&lt;/span&gt; == &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;] = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;OPEN&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;) + &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; + &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;] = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;CLOSE&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;TCP_sock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;close&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;except&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;socket&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;error&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;e&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;self&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;port_number&lt;/span&gt;] = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#print(str(self.port_number) + &amp;#34;:&amp;#34; + output[self.port_number])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;pass&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;lock&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;release&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;ThreadList&lt;/span&gt; = []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;post_list&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;MyThread&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;ip&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;delay&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;ThreadList&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;ThreadList&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;start&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;ThreadList&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;t&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;join&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;] !=&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;CLOSE&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;PORT:&amp;#34;&lt;/span&gt; + &lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;) + &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; + &lt;span style=&#34;color:#268bd2&#34;&gt;output&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;其他&#34;&gt;其他
&lt;/h1&gt;&lt;h2 id=&#34;对handle的理解&#34;&gt;对handle的理解
&lt;/h2&gt;&lt;p&gt;首先在 PowerShell 中获取进程信息并以程序 ID 进行排序，第一列出现handles。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#cb4b16&#34;&gt;PS &lt;/span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;C:&lt;/span&gt;\&lt;span style=&#34;color:#268bd2&#34;&gt;Users&lt;/span&gt;\&lt;span style=&#34;color:#268bd2&#34;&gt;Lenovo&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;Get-Process&lt;/span&gt; | &lt;span style=&#34;color:#cb4b16&#34;&gt;Sort-Object&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;ID&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;Handles&lt;/span&gt;  &lt;span style=&#34;color:#268bd2&#34;&gt;NPM&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;K&lt;/span&gt;)    &lt;span style=&#34;color:#268bd2&#34;&gt;PM&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;K&lt;/span&gt;)      &lt;span style=&#34;color:#268bd2&#34;&gt;WS&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;K&lt;/span&gt;)     &lt;span style=&#34;color:#268bd2&#34;&gt;CPU&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;s&lt;/span&gt;)     &lt;span style=&#34;color:#268bd2&#34;&gt;Id&lt;/span&gt;  &lt;span style=&#34;color:#cb4b16&#34;&gt;SI &lt;/span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;ProcessName&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-------  ------    -----      -----     ------     --  -- -----------
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;60&lt;/span&gt;          &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;8&lt;/span&gt;                 &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;Idle&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;8174&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;48&lt;/span&gt;        &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;148&lt;/span&gt;                 &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;4&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;System&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;16&lt;/span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;14708&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;62260&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;160&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;Registry&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;430&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;17&lt;/span&gt;     &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;4216&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;21944&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;2.11&lt;/span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;480&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;RuntimeBroker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;57&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;3&lt;/span&gt;     &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1068&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1160&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;556&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;smss&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;2019&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;30&lt;/span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;10004&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;24904&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;596&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;lsass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;904&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;12&lt;/span&gt;     &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;6616&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;10796&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;604&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;services&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;245&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;29&lt;/span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;24792&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;11608&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;616&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;PresentationFont&lt;/span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;154&lt;/span&gt;      &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;10&lt;/span&gt;     &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1804&lt;/span&gt;       &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;6648&lt;/span&gt;               &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;848&lt;/span&gt;   &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;svchost&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在代码里，handle 通常是某个数字标记，通过这个标记来操作资源。&lt;/p&gt;
&lt;p&gt;是否可以简单把Handles理解为Id？不好。
首先分配16位的标记，再用 8 位密码将 16 位标记加密，之后将 4 位类型、4 位权限、8 位密码、16 位加密结果打包成一个 32 位的整数，这时再简单理解的Handles为索引，就不恰当。&lt;/p&gt;
&lt;h2 id=&#34;对socket的理解&#34;&gt;对socket的理解
&lt;/h2&gt;&lt;p&gt;TCP/IP只是一个协议栈，如果想要有具体的应用，就需要提供对外的操作接口，就像操作系统会提供标准的编程接口，TCP/IP也必须对外提供编程接口，这就是Socket。&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/624022a427f86abb2a97fcf2.jpg&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/624022a427f86abb2a97fcf2.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;现在我算明白了socket和http的区别：&lt;/p&gt;
&lt;p&gt;对概念来说：&lt;/p&gt;
&lt;p&gt;Http协议：基于TCP连接的简单的对象访问协议，对应于应用层。&lt;/p&gt;
&lt;p&gt;Socket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），通过Socket，我们才能使用TCP/IP协议。&lt;/p&gt;
&lt;p&gt;对一次连接过程而说：&lt;/p&gt;
&lt;p&gt;Http连接：所谓的无状态连接，客户端向服务器发送一次请求，服务器进行一次回应就断开。&lt;/p&gt;
&lt;p&gt;SOCKET连接：长连接，（如果期间没有数据的传输，会发送心跳包确认。）&lt;/p&gt;
</description>
        </item>
        <item>
        <title>爬取xupt课程表</title>
        <link>https://proben1.github.io/2021/%E7%88%AC%E5%8F%96xupt%E8%AF%BE%E7%A8%8B%E8%A1%A8/</link>
        <pubDate>Mon, 15 Nov 2021 20:38:54 +0800</pubDate>
        
        <guid>https://proben1.github.io/2021/%E7%88%AC%E5%8F%96xupt%E8%AF%BE%E7%A8%8B%E8%A1%A8/</guid>
        <description>&lt;img src="https://pic.imgdb.cn/item/624023fa27f86abb2a9fb4a9.png" alt="Featured image of post 爬取xupt课程表" /&gt;&lt;p&gt;查课表，以前用的是超级课程表，嫌乎广告太多，加上手机内存不够，卸了，自己写个课表。&lt;/p&gt;
&lt;p&gt;由于学校教务系统的参数太多了，直接用了&lt;a class=&#34;link&#34; href=&#34;https://selenium-python-zh.readthedocs.io/en/latest/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;selenium&lt;/a&gt;来模拟登录，之后再用&lt;a class=&#34;link&#34; href=&#34;https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;BeautifulSoup&lt;/a&gt;来分离参数。&lt;/p&gt;
&lt;p&gt;流程：查看本地json格式的课表文件，若没有则爬并存储，若有则直接读取并输出。&lt;/p&gt;
&lt;p&gt;做的时候发现单双周挺难弄的，最后是用了空间换时间的方法，把一个单双周合起来变成一个课表。&lt;/p&gt;
&lt;p&gt;最后用Power Automate 简单做了一个桌面流：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240231b27f86abb2a9acc7b.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240231b27f86abb2a9acc7b.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;结果：&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240232527f86abb2a9b0b0a.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240232527f86abb2a9b0b0a.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;附源代码：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;selenium&lt;/span&gt; &lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;webdriver&lt;/span&gt;  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# 启动浏览器需要用到&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;selenium.webdriver.common.keys&lt;/span&gt; &lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;Keys&lt;/span&gt;  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# 提供键盘按键支持（最后一个K要大写）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;bs4&lt;/span&gt; &lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;BeautifulSoup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;re&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#dc322f;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#输入账号密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;student_id&lt;/span&gt;=&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;studend_password&lt;/span&gt;=&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#输入浏览器内核位置，如F:\\chromedriver_win32\\chromedriver.exe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;place&lt;/span&gt;=&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;F:&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;chromedriver_win32&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;chromedriver.exe&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#输入开学日期，格式：30 Aug 2021&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;time_to_strat&lt;/span&gt; = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;30 Aug 2021&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#爬取后课表的存储位置&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;stored_place&lt;/span&gt; = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;F:&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;ProbeN1&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;timetable&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;\\&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#判断明天是周几,是不是单双周&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;start_time&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;strptime&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;time_to_strat&lt;/span&gt;, &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt; %b %Y&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;start_week&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;strftime&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;%U&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;start_time&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_time_tamp&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;()+&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;86400&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_time&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;localtime&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_time_tamp&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_week&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;strftime&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;%U&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_time&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;weekin&lt;/span&gt; = &lt;span style=&#34;color:#cb4b16&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_week&lt;/span&gt;) - &lt;span style=&#34;color:#cb4b16&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;start_week&lt;/span&gt;) + &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#print(weekin)  #单双周&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;dt&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;strftime&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;%A&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_time&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;dt_&lt;/span&gt; = {&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Saturday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;6&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Sunday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Monday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Tuesday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Wednesday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Thursday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;Friday&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_weekday&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;dt_&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;dt&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#print(tomorrow_weekday) #周几&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;=[&lt;span style=&#34;color:#268bd2&#34;&gt;weekin&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;tomorrow_weekday&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;print_class&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;])==&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;6&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;int&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;])==&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;明天没课!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;else&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;] % &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;2&lt;/span&gt;) == &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;tmp&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;])]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;tmp&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;values&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt; (&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;4&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#859900&#34;&gt;elif&lt;/span&gt; (&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;] % &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;2&lt;/span&gt;) == &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;tmp&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;])]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;tmp&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;values&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt; (&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;4&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt;[&lt;span style=&#34;color:#268bd2&#34;&gt;i&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;---------------------------------------------------&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;={&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;:   &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#课表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;:{},&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#开局先读取&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;try&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;a_json&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;json&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;load&lt;/span&gt;(&lt;span style=&#34;color:#cb4b16&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;stored_place&lt;/span&gt;+&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;file.txt&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;a_json&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;] == &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;stored&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;print_class&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;a_json&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;except&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;webdriver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;ChromeOptions&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;add_experimental_option&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;detach&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#859900;font-weight:bold&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;add_argument&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;--headless&amp;#39;&lt;/span&gt;)  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#设置后台运行&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;add_experimental_option&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;excludeSwitches&amp;#39;&lt;/span&gt;, [&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;enable-logging&amp;#39;&lt;/span&gt;]) &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#让终端少输出些东西&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;=&lt;span style=&#34;color:#268bd2&#34;&gt;webdriver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;Chrome&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;place&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt;=&lt;span style=&#34;color:#268bd2&#34;&gt;chrome_options&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;http://www.zfjw.xupt.edu.cn/jwglxt/xtgl/login_slogin.html&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_yhm&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;find_elements_by_name&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;yhm&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#查找并键入用户名,返回一个数组&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_yhm&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;elem_yhm&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_yhm&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;clear&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_yhm&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;send_keys&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;student_id&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;find_elements_by_name&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;mm&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#查找并键入密码&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;clear&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;send_keys&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;studend_password&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;elem_mm&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;send_keys&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;Keys&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;RETURN&lt;/span&gt;)  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# 模拟键盘回车&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;http://www.zfjw.xupt.edu.cn/jwglxt/kbcx/xskbcx_cxXskbcxIndex.html?gnmkdm=N2151&amp;amp;layout=default&amp;amp;su=&amp;#34;&lt;/span&gt; + &lt;span style=&#34;color:#268bd2&#34;&gt;student_id&lt;/span&gt;) &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#直接get数据库界面&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;sleep&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;2&lt;/span&gt;)   &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#等待页面内的apex返回,否则soup会抓得太快&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;soup&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;BeautifulSoup&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;driver&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;page_source&lt;/span&gt;, &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;html.parser&amp;#34;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;allclass_soup&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;soup&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;find&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;table&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;kbgrid_table_0&amp;#34;&lt;/span&gt;})  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;# 获取kbgrid_table_0标签下的所有课程,allcalss是个TAG类&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#找到用户的名字,(学号:student_id)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;find_student_name&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;re&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;compile&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;[\u4e00-\u9fa5]+的课表&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;student_name_soup&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;soup&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;find&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;div&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;class&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;timetable_title&amp;#34;&lt;/span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;student_name&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;find_student_name&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;findall&lt;/span&gt;(&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;student_name_soup&lt;/span&gt;))[:-&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#强制转化可以把TAG类转化为str,但是我感觉不是很完美&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;try&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;student_name&lt;/span&gt;+&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;的课表&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;except&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#cb4b16&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;未找到名称&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt; = []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;find_inner_html&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;re&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;compile&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;\&amp;#39;[^\&amp;#39;]*\&amp;#39;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;6&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;range&lt;/span&gt;(&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;12&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;soup&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;find&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;td&amp;#34;&lt;/span&gt;,{&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt;)+&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;+&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt;)})   &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#找td标签&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#859900;font-weight:bold&#34;&gt;None&lt;/span&gt; : &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#跳过空类型&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;continue&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt; = &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;findAll&lt;/span&gt;(&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;font&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#859900;font-weight:bold&#34;&gt;None&lt;/span&gt; : &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#跳过空类型&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;continue&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each_class&lt;/span&gt;:  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#获取td标签里的内容&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;child&lt;/span&gt; &lt;span style=&#34;color:#859900&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;each&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;children&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;name&lt;/span&gt; =&lt;span style=&#34;color:#268bd2&#34;&gt;find_inner_html&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;findall&lt;/span&gt;(&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;child&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;unwrap&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;name&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                        &lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;name&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;0&lt;/span&gt;][&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;:-&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;1&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;:  &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#添加课表&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;) == &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;11&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt;)].&lt;span style=&#34;color:#268bd2&#34;&gt;update&lt;/span&gt;({&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt;):&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt;)].&lt;span style=&#34;color:#268bd2&#34;&gt;update&lt;/span&gt;({&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt;):&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#859900&#34;&gt;elif&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;len&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;) == &lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;22&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;单&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt;)].&lt;span style=&#34;color:#268bd2&#34;&gt;update&lt;/span&gt;({&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt;):&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;[:&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;11&lt;/span&gt;]})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;双&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;week&lt;/span&gt;)].&lt;span style=&#34;color:#268bd2&#34;&gt;update&lt;/span&gt;({&lt;span style=&#34;color:#cb4b16&#34;&gt;str&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;classtime&lt;/span&gt;):&lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt;[&lt;span style=&#34;color:#2aa198;font-weight:bold&#34;&gt;11&lt;/span&gt;:]})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#268bd2&#34;&gt;content&lt;/span&gt; = []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#写入文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#859900&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cb4b16&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;stored_place&lt;/span&gt;+&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;file.txt&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#859900&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#268bd2&#34;&gt;file&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;] = &lt;span style=&#34;color:#268bd2&#34;&gt;student_name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;[&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;][&lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;] = &lt;span style=&#34;color:#2aa198&#34;&gt;&amp;#34;stored&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#268bd2&#34;&gt;file&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;json&lt;/span&gt;.&lt;span style=&#34;color:#268bd2&#34;&gt;dumps&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;)) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#268bd2&#34;&gt;print_class&lt;/span&gt;(&lt;span style=&#34;color:#268bd2&#34;&gt;timetable&lt;/span&gt;,&lt;span style=&#34;color:#268bd2&#34;&gt;time_judge&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#93a1a1;font-style:italic&#34;&gt;#print(timetable)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;当然，之后也新建一个bat帮助自动执行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bat&#34; data-lang=&#34;bat&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;f:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;cd&lt;/span&gt; F:\ProbeN1\timetable
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python3 timetable.py
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#859900&#34;&gt;pause&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后再在windows里设置&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://pic.imgdb.cn/item/6240233227f86abb2a9b63a5.png&#34; &gt;
		&lt;img src=&#34;https://pic.imgdb.cn/item/6240233227f86abb2a9b63a5.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
